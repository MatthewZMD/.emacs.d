2019-10-30  Mosè Giordano  <mose@gnu.org>

	* Version 12.2 released.

2019-10-29  Mosè Giordano  <mose@gnu.org>

	Prepare for upcoming release

	* RELEASE: Update version number, release notes and list of contributors.
	* configure.ac: Update version number.
	* doc/auctex.texi: Update copyright years.
	* doc/changes.texi: Mention generic bug fixes.
	* doc/tex-ref.tex:
	* latex/preview.dtx: Update version number and copyright years

2019-10-26  Arash Esbati  <arash@gnu.org>

	Add new style/xkcdcolors.el

	* Makefile.in (STYLESRC): Add new style.

	* style/xkcdcolors.el: New file.

2019-10-26  Arash Esbati  <arash@gnu.org>

	Add check for empty overlay

	* tex-fold.el (TeX-fold-hide-item): Add an extra check to make
	sure that the function runs when overlay start and end are
	non-nil.  What is done in the end of function isn't useful with
	evaporated overlays and used to cause bugs because `overlay-start'
	and `overlay-end' return nil for such overlays, and functions such
	as `TeX-fold-overfull-p` try to move point to the
	overlay-end. (bug#37337)

2019-10-20  Arash Esbati  <arash@gnu.org>

	* style/amsmath.el ("amsmath"): Improve query strings.

2019-10-19  Stefan Monnier  <monnier@iro.umontreal.ca>

	multi-prompt.el, style/beamer*.el: Get copyright just right

2019-10-18  Arash Esbati  <arash@gnu.org>

	* doc/changes.texi: Mention changes in News.

2019-10-18  Arash Esbati  <arash@gnu.org>

	Add final adjustments for LaTeX 2019-10-01

	* latex.el (LaTeX-env-contents): Adjust function to LaTeX kernel
	2019-10-01 release.  Remove check for usage within preamble only.
	Add query for optional argument with completion.
	(LaTeX-verbatim-environments):
	(LaTeX-indent-environment-list): Add filecontents(*) environments.

	* style/amsmath.el ("amsmath"): Add support for \overunderset
	macro.  Delete unnecessary `function' before `lambda'.  Re-indent
	the code.

2019-10-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Change default for new Ghostscript

	* preview.el.in (preview-pdf-color-adjust-method): Change the default
	value to t and adjust doc string.
	* doc/preview-problems.texi (No images are displayed with gs 9.27 and
	earlier): Adjust its contents in line with the above change and change
	the title from "... newer".

2019-10-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix for revised file access controls of gs (bug#37719)

	* preview.el.in (preview-prepare-fast-conversion): Add commands for
	revised file access controls introduced after gs 9.27.
	(preview-gs-restart): Use "-d" option instead of "-s" because the
	former does not accept "%d" in OutputFile parameter.
	Don't wrap the file name into parentheses in line with this change.
	(preview-gs-flag-error): Adjust the reconstructed gs command line
	argument so that it matches with the above change.
	Add comments about limitations of this function.

2019-10-07  Ikumi Keita  <ikumi@ikumi.que.jp>

	* preview.el.in (preview-undump-replacements): Fix last commit.

2019-10-07  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix preview-latex for TeXLive 2019 update

	* preview.el.in (preview-LaTeX-command, preview-undump-replacements):
	Remove the brace around the argument of \input.

2019-09-23  Arash Esbati  <arash@gnu.org>

	Add fontification support for ragged2e macros

	* style/ragged2e.el ("ragged2e"): Add provided macros to function
	keywords class.  This is in line with decision in `font-latex.el'
	for corresponding kernel macros.

2019-09-22  Arash Esbati  <arash@gnu.org>

	Delete \Ref and \labelformat from varioref.el

	* style/varioref.el ("varioref"): Delete \Ref and \labelformat
	from style hook and fontification support.

2019-09-22  Arash Esbati  <arash@gnu.org>

	* latex.el (LaTeX-common-initialization): Add \Ref to `TeX-complete-list'.

2019-09-22  Arash Esbati  <arash@gnu.org>

	Support new kernel macros \Ref and \labelformat

	* font-latex.el (font-latex-built-in-keyword-classes): Add \Ref to
	reference and \labelformat to function class.

	* latex.el (LaTeX-common-initialization): Add support for \Ref and
	\labelformat which are part of LaTeX kernel 2019-10-01 release.

2019-09-18  Arash Esbati  <arash@gnu.org>

	Update style/subcaption.el to package version 1.3

	* style/subcaption.el ("subcaption"): Add support for \subfloat
	macro.

2019-09-18  Arash Esbati  <arash@gnu.org>

	Update style/varioref.el to package version 1.6b

	* style/varioref.el ("varioref"): Rearrange macros acc. to the
	manual.  Add missing starred version of \Vref.  Add fontification
	support for \labelformat.
	(LaTeX-varioref-package-options): Update package options.

2019-09-14  Arash Esbati  <arash@gnu.org>

	Improve detecting of rejected optional arguments

	* style/bicaption.el (LaTeX-arg-bicaption-bicaption):
	* style/caption.el (LaTeX-arg-caption-captionbox):
	* style/floatrow.el (LaTeX-floatrow-arg-floatbox):
	* style/xcolor.el (TeX-arg-xcolor-fcolorbox): Add an additional
	check for detecting if last optional argument was rejected.

2019-09-08  Arash Esbati  <arash@gnu.org>

	Add new style/multitoc.el

	* Makefile.in (STYLESRC): Add new style.

	* style/multitoc.el: New file

2019-08-31  Arash Esbati  <arash@gnu.org>

	Make "PDF Tools" viewer available under Windows and macOS

	* tex.el (TeX-view-program-list-builtin): Make entry for "PDF
	Tools" available under Windows and macOS.  (bug#37152)

	* doc/changes.texi: Mention availability of "PDF Tools" under
	Windows and macOS in `TeX-view-program-list-builtin'.

	* doc/install.texi (Prerequisites): Replace "Mac OS X" with
	"macOS".

2019-08-22  Arash Esbati  <arash@gnu.org>

	Add new style/ltugboat.el

	* Makefile.in (STYLESRC): Add new style.

	* style/ltugboat.el: New file.

2019-08-22  Arash Esbati  <arash@gnu.org>

	Add new style/changelog.el

	* Makefile.in (STYLESRC): Add new style.

	* style/changelog.el: New file.

2019-08-22  Arash Esbati  <arash@gnu.org>

	Support explicitly numbered group contructs

	* latex.el (LaTeX-extract-key-value-label): Add an optional
	argument for explicitly numbered group contructs.

2019-08-22  Arash Esbati  <arash@gnu.org>

	* doc/changes.texi: Mention fontification improvement for biblatex.

2019-08-21  Arash Esbati  <arash@gnu.org>

	* context.el (ConTeXt-environment): Fix docstring.

2019-08-21  Arash Esbati  <arash@gnu.org>

	Fix lisp example for `TeX-electric-math'

	* doc/auctex.texi (Quotes): Use `make-local-variable' instead of
	`make-variable-buffer-local' in lisp example for init file.  (bug#37124)

2019-08-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Restore syntax fontify in Texinfo mode

	* tex-info.el (TeX-texinfo-mode): Set `syntax-propertize-function',
	mimicking texinfo.el.  Now comments in Texinfo mode buffer are
	displayed with comment face again.

2019-08-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Reduce unnecessary local variable safety inquiry

	* tex.el (TeX-add-local-master): Call major mode function only when
	necessary.

2019-08-18  Arash Esbati  <arash@gnu.org>

	Update style/titlesec.el to package version 2.11

	* style/titlesec.el ("titlesec"): Add \nostruts macro.
	(LaTeX-titlesec-package-options): Add `nostruts' option.

2019-08-17  Arash Esbati  <arash@gnu.org>

	Update style/thmtools.el to package version 67

	* style/thmtools.el (LaTeX-thmtools-declaretheoremstyle-regexp)
	(LaTeX-thmtools-declaretheorem-regexp): Use the function
	`LaTeX-extract-key-value-label' to build the regexp.
	(LaTeX-thmtools-listoftheorems-key-val): Add new key `title'.
	(LaTeX-thmtools-package-options): Add new variable.

2019-08-17  Arash Esbati  <arash@gnu.org>

	Update style/fvextra.el to package version 1.4

	* style/fvextra.el (LaTeX-fvextra-key-val-options): Add new keys.
	("fvextra"): Add new macros.  Add fontification support for
	\EscVerb macro.

2019-08-15  Arash Esbati  <arash@gnu.org>

	Update style/paracol.el to package version 1.35

	* style/paracol.el: Add macro \definecolumnpreamble and the length
	\belowfootnoteskip.

2019-07-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Change color adjustment method (bug#35571, bug#35696, bug#36039)

	* preview.el.in (preview-pdf-color-adjust-method): New option.
	(preview-pdf-color-string): Use new code using DELAYBIND feature when
	the new option is t.
	(preview-gs-color-string): Add new optional argument to suppress code
	for explicit colors.
	(preview-gs-open): Don't adjust color when the latex command produces
	PDF and `preview-pdf-color-adjust-method' is nil.
	(preview-pdf2dsc-sentinel): Add "-dDELAYBIND" option to gs invocation
	when `preview-pdf-color-adjust-method' is t.
	* doc/changes.texi: Add a new entiry.
	* doc/preview-problems.texi: Add a section to explain how to do with
	the case no images are displayed with gs 9.27 and newer.

2019-07-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Enhance support for file names with spaces

	* tex-buf.el (TeX-run-compile): Add an entry for file name with spaces
	to localized `compilation-error-regexp-alist'.

2019-07-14  Arash Esbati  <arash@gnu.org>

	Update style/AnonymousPro.el to package version 2.2

	* style/AnonymousPro.el (LaTeX-AnonymousPro-package-options): Add
	the `scaled' key.

2019-06-27  Ikumi Keita  <ikumi@ikumi.que.jp>

	Conform to `delete-selection-mode' (bug#36385)

	* latex.el (LaTeX-insert-left-brace): Put `delete-selection' property
	which obeys that of `self-insert-command' when
	`LaTeX-electric-left-right-brace' feature is inactive.

2019-06-14  Arash Esbati  <arash@gnu.org>

	Support cleveref labels

	* style/cleveref.el (TeX-arg-cleveref-crossref-type): New
	function.
	(LaTeX-cleveref-label-regexp): New variable for parsing \label
	macros with an optional argument.
	("cleveref"): Add missing package macros.
	Update expert commands and fontification.
	Update `reftex-label-regexps' enabling RefTeX to handle \label
	with an optional argument as well.
	Update description line and add Commentary section.  (bug#36111)

2019-05-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make navigation function robust

	* tex.el (TeX-find-macro-end-helper): Cater for corner case that the
	`while' loop is exited or skipped.
	* tests/tex/navigation.el: Add new test.

2019-05-20  Arash Esbati  <arash@gnu.org>

	Update style/babel.el to package version 3.31

	* style/babel.el (LaTeX-babel-language-list): Add azerbaijani and
	remove frenchb.
	(LaTeX-babel-babelprovide-key-val-options): New variable.
	(LaTeX-babel-babeltags-regexp, LaTeX-babel-cleanup-babeltags): Add
	parsing support for \babeltags macro.
	(LaTeX-babel-babelfont-regexp, LaTeX-babel-cleanup-babelfont): Add
	parsing support for \babelfont macro.
	(TeX-arg-babel-lang): Use the arguments optional and prompt
	properly.
	("babel"): Add missing macros incl. fontification.
	(LaTeX-babel-package-options): Add missing package options.

2019-05-17  Tassilo Horn  <tsdh@gnu.org>

	Fix autoload generation code (bug#35758)

	* Makefile.in (AUTOLOAD,PREVIEW_AUTOLOAD): Use arg instead of
	  generated-autoload-file (bug#35758).

2019-05-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix regression

	* latex.el (LaTeX-arg-usepackage-insert, LaTeX-arg-usepackage): Move
	`TeX-run-style-hooks' from `LaTeX-arg-usepackage' to
	`LaTeX-arg-usepackage-insert'.  Due to my commit "Defer running style
	hook until options are given actually", style hooks associated with
	\usepackage were not run when the document is newly created with
	`LaTeX-env-document'.

2019-05-17  Arash Esbati  <arash@gnu.org>

	Load hyperref.el in `LaTeX-beamer-class-options'

	* style/beamer.el (LaTeX-beamer-class-options): Load "hyperref.el"
	in order to have `LaTeX-hyperref-package-options-list' defined
	when the document class is requested and the style hook hasn't run
	yet.  (bug#35649)

2019-05-12  Arash Esbati  <arash@gnu.org>

	Improve style/mflogo.el

	* style/mflogo.el ("mflogo"): Ask for Text when \textlogo is
	invoked.  Change \logofamily into a declaration.  Add missing
	macros \MF and \MP.  Adjust fontification for \textlogo and
	\logofamily.

2019-05-12  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix last commit

	* tex-buf.el (TeX-command-expand): Redefine the value of `file' just
	once per call of `TeX-command-expand'.  Previous code could give
	spurious quote when the given command string contains more than one
	"%" expanders tied with the symbol `file'.

2019-05-12  Ikumi Keita  <ikumi@ikumi.que.jp>

	Stop depreciated usage of undeclared dynamic variable

	* tex-buf.el (TeX--master-or-region-file-with-extra-quotes): Redefine
	as template.  On accepting one of `TeX-master-file', `TeX-region-file'
	or `TeX-active-master' as its first argument, it becomes a wrapper for
	those three, like previous definition.
	(TeX-command-expand): Arrage in accord with the above change.
	With these two changes, we no longer need implicit dynamic binding of
	non-special variable `orig-file'.
	* tex.el (TeX-expand-list-builtin): Update supplementary comment for
	"%T".

2019-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex-jp.el (AUCTeX-jp): Add keyword :link to info node.

2019-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix treatment of class and package options

	* preview.el.in (preview-auctex-font-size): Consult
	`LaTeX-provided-{class,package}-options' instead of
	`(TeX-style-list)'.  This function has been accidentally disabled
	since AUCTeX began not to include the class and package options into
	the styles.  Similar problem with bug#25563.
	* latex.el (LaTeX-match-class-option): Update doc string because the
	above change depends on its implicit behavior.

2019-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove obsolete codes

	* preview.el.in (preview-mouse-open-eps): Remove xemacs compatibility
	code.
	Don't use obsolete variable `default-major-mode'.

2019-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for xemacs

	* prv-emacs.el (preview-compatibility-macros): Remove.
	* preview.el.in (eval-when-compile,makunbound): Remove useless
	codes.

2019-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for xemacs

	* prv-emacs.el (preview-mark-active): Remove.
	(): Update Copyright year.
	* preview.el.in (LaTeX-preview-setup): Remove the above macro.
	(): Update Copyright year.

2019-05-08  Mohammad Hossein Bateni  <bateni@google.com>

	Allow the user to customize which TeX commands are available in each mode.

	Commands such as Biber, DVI2PS, PS2PDF, Index, etc. are not useful in
	ConTeXt.  ConTeXt generates a PDF directly and has its own indexing
	mechanism.

	In Mark IV (which has been the preferred version for over a decade and
	is actively developed), a new bibliography package is also available,
	which can process old bibtex files as well.  So there is no need for
	BibTeX.

	Having so many commands in context-mode clutters the menus.  In the
	definition of TeX-command-list, we either provide a list of relevant
	modes, or set the value to `t' indicating that this command should
	always be available.  In the latter case, the user cannot customize
	it.  Here we provide sensible defaults as well as the ability for the
	user to customize.

	* tex.el (TeX-command-list): Hide by default some commands from context-mode.

2019-04-23  Arash Esbati  <arash@gnu.org>

	Add new function `LaTeX-extract-key-value-label'

	* latex.el (LaTeX-extract-key-value-label): Add new utility
	function to return a regexp string to extract label value in an
	optional key=val argument.

	* style/breqn.el (LaTeX-breqn-key-val-label-regexp):
	* style/listings.el (LaTeX-listings-key-val-label-regexp)
	(LaTeX-listings-auto-cleanup): Use
	`LaTeX-extract-key-value-label'.
	Delete now unused variable `LaTeX-listings-key-val-label-extract'.

2019-04-20  Arash Esbati  <arash@gnu.org>

	Add support for ChangeLog entries for LaTeX files

	* tex.el (TeX-current-defun-name): New function returning the name
	of current sectioning command when `C-x 4 a' is invoked.

	* latex.el (LaTeX-common-initialization): Set a local version
	`add-log-current-defun-function' to `TeX-current-defun-name'.

2019-04-19  Arash Esbati  <arash@gnu.org>

	* style/xparse.el ("xparse"): Fix fontification of alternatives.

2019-04-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Reset `TeX-PDF-from-DVI' if xetex engine is in use

	* tex.el (TeX-engine-set): Reset `TeX-PDF-from-DVI' when the new
	engine is `xetex'.  Fix bug#34593.

2019-04-13  Arash Esbati  <arash@gnu.org>

	Update keywords to biblatex v3.12

	* font-latex.el (font-latex-built-in-keyword-classes): Update
	biblatex keywords.  For qualified lists, fontify at least 2
	mandatory arguments.

2019-04-11  Arash Esbati  <arash@gnu.org>

	* tex-info.el (TeX-texinfo-mode): Set `add-log-current-defun-function' locally.

2019-04-06  Ikumi Keita  <ikumi@ikumi.que.jp>

	Elaborate LaTeX math insertion command

	* latex.el (LaTeX-math-insert): Put the point after the closing dollar
	sign when appropriate.  This fixes bug#35128.
	In addtion, wrap the text in the active region suitably.

2019-04-05  Arash Esbati  <arash@gnu.org>

	Fix handling of function entries in `TeX-complete-list'

	* tex.el (TeX-complete-symbol): Check if the fourth argument of
	entry in `TeX-complete-list' is a list and eval it.  (Bug#35074)

2019-03-16  Arash Esbati  <arash@gnu.org>

	Improve fontification of \href macro

	* style/hyperref.el ("hyperref"): Add "href" to
	`LaTeX-verbatim-macros-with-braces-local'.
	Check for feature font-latex and not for functions.
	Declare and use `font-latex-update-font-lock' instead of
	`font-latex-set-syntactic-keywords'.

2019-03-09  Tassilo Horn  <tsdh@gnu.org>

	Support up to 12 command arguments.

	* font-latex.el (font-latex-keyword-matcher): Support up to 12 command
	  arguments.

2019-03-04  Arash Esbati  <arash@gnu.org>

	Fix fontification of simple macros

	* font-latex.el (font-latex-match-simple-command): Change second
	part of regexp in order to be less greedy.  This function now
	fontifies only letters and characters defined in
	`font-latex-match-simple-include-list' (bug#34712).
	(font-latex-match-simple-include-list): New variable.

	* style/expl3.el ("expl3"): Add "_" and ":" to
	`font-latex-match-simple-include-list'.

2019-02-24  Tassilo Horn  <tsdh@gnu.org>

	New styles for beamerarticle & beamerswitch triggering beamer

	* style/beamerarticle.el: New style.
	* style/beamerswitch.el: New style.
	* Makefile.in (STYLESRC): Enable them.

2019-02-11  Arash Esbati  <arash@gnu.org>

	* style/listings.el: Require tex.el.

2019-02-08  Stefan Monnier  <monnier@iro.umontreal.ca>

	* auctex.el: Add requireds, keywords, and trailer

	(cherry picked from commit 0c8d6703d16097eb64f014c56e4135a5a1f9600f)

2019-02-08  Arash Esbati  <arash@gnu.org>

	Delete auctex-pkg.el which is not needed for ELPA releases

2019-02-08  Arash Esbati  <arash@gnu.org>

	Add dependencies file auctex-pkg.el

	* auctex-pkg.el: Add new file containing AUCTeX's dependencies for
	ELPA releases.

2019-02-02  Arash Esbati  <arash@gnu.org>

	Improve indenting and filling in "Form" environments

	* style/hyperref.el ("hyperref"): Add the "Form" environment to
	`LaTeX-document-regexp'.

2019-01-12  Arash Esbati  <arash@gnu.org>

	Add support for w and W column specifiers

	* style/array.el ("array"): Add column specifiers w and W to
	`LaTeX-array-column-letters'.

	* doc/changes.texi: Mention that counting columns is supported
	only if the align parameter is enclosed in braces.

2019-01-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove combatibility code for older emasen

	* tex.el (put): Don't put unnecessary property on
	`TeX-source-correlate-mode'.
	(TeX-clean): Remove fallback code for emacs 21.

2019-01-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* font-latex.el (put):
	* tex-style.el (put):
	Use `booleanp' instead of `TeX-booleanp'.
	* tex.el (put): Use `booleanp' instead of `TeX-booleanp'.
	(TeX-booleanp): Remove.

2019-01-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* context.el (ConTeXt-mode-common-initialization):
	* latex.el (TeX-latex-mode):
	* plain-tex.el (TeX-plain-tex-mode, ams-tex-mode):
	* tex-info.el (TeX-texinfo-mode):
	Use `run-mode-hooks' instead of `TeX-run-mode-hooks'.
	* tex.el (TeX-run-mode-hooks): Remove.

2019-01-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix test conditions on w32

	* tests/tex/command-expansion.el (TeX-command-detokenize): Correct
	`system-type' for w32.
	(TeX-command-expand-skip-file-name, TeX-command-expand-active-master):
	Skip tests on w32.

2019-01-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Override some bindings in `TeX-mode-map' in Texinfo mode

	* tex-info.el (Texinfo-mode-map): Bind `self-insert-command' to
	"$", "^", "_" and "\" because they are normal characters in Texinfo
	documents.
	Bind `TeX-insert-backslash' to "@" so that users benefit from
	`TeX-electric-macro' even in Texinfo mode.
	* tex.el (TeX-electric-escape): Update doc string.
	* doc/auctex.texi (Completion): Update description.
	* doc/changes.texi (News in 12.2): Mention the above changes.

2019-01-06  Arash Esbati  <arash@gnu.org>

	Update style/enumitem.el to package version 3.6

	* style/enumitem.el (LaTeX-enumitem-key-val-options): Update
	key=val options to v3.6.
	(LaTeX-enumitem-auto-cleanup): Use sharp-quote notation.
	("enumitem"): Query for trivlist environment depending of package
	option.
	Add macro \Drawenumitemlabel and length \labelitem.
	(LaTeX-enumitem-package-options): Update package options.

2019-01-02  Arash Esbati  <arash@gnu.org>

	Skip macros and environments from pythontex

	* tex-ispell.el (TeX-ispell-skip-cmds-list): Add document macros
	of pythontex package.
	(TeX-ispell-skip-envs-list): Add environments provided by
	pythontex package.
	Add general verbatim macros.

2018-12-15  Arash Esbati  <arash@gnu.org>

	Improve completion for \url between url.el and hyperref.el

	* style/hyperref.el ("hyperref"): Comment the entry for "url"
	since the completion is provided via url.el.

	* style/url.el ("url"): Add a conditional to "url" in order to
	check if hyperref.el is loaded and then supply the argument in
	braces.
	Also check for hyperref.el. before adding "url" to
	`LaTeX-verbatim-macros-with-delims-local'.

2018-12-14  Arash Esbati  <arash@gnu.org>

	Add new style/pythontex.el

	* Makefile.in (STYLESRC): Add new style.

	* style/pythontex.el: New file.

2018-12-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Drop xemacs support and mule check from configure and Makefile

	* aclocal.m4:
	* configure.ac:
	* doc/Makefile.in: Drop xemacs support and mule check.
	* Makefile.in: Merge mule file into main files.
	Drop xemacs support.
	* prv-install.el: Remove.

2018-12-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix document

	* doc/auctex.texi (Completion): Correct wrong description and typo.
	(Cleaning): Add mention about variables related to AmSTeX mode.

2018-12-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use ASCII apostrophe in code expample

	* doc/auctex.texi (): (I/O Correlation): Use APOSTROPHE(U+0027) rather
	than RIGHT SINGLE QUOTATION MARK(U+2019) in code example.
	Add coding tag in Local Variables section.

2018-12-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Redefine support for \url in hyperref

	* style/hyperref.el ("hyperref"): Override the entry for \url macro in
	url.el because hyperref.sty redefines the macro.

2018-12-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Revise description about CJK support

	* doc/auctex.texi (Internationalization): Revise description about CJK
	support in Emacs and TeX.
	(Japanese): Fix typo and add index entries.

2018-12-06  Arash Esbati  <arash@gnu.org>

	Improve handling of `TeX-insert-macro-default-style' in styles

	* latex.el (LaTeX-check-insert-macro-default-style): Add new
	macro.  This macro is intended for more complex functions in style
	files querying multiple optional and mandatory arguments and
	obeying the values of `TeX-insert-macro-default-style' and
	`current-prefix-arg'.

	* tex.el (TeX-parse-arguments): Add a comment about the new macro.

	* style/bicaption.el (LaTeX-arg-bicaption-bicaption):
	* style/caption.el (LaTeX-arg-caption-captionbox):
	* style/color.el (TeX-arg-color, TeX-arg-color-fcolorbox):
	* style/floatrow.el (LaTeX-floatrow-arg-floatbox):
	* style/xcolor.el (TeX-arg-xcolor-definecolor)
	(TeX-arg-xcolor-definecolorset, TeX-arg-xcolor)
	(TeX-arg-xcolor-fcolorbox): Use
	`LaTeX-check-insert-macro-default-style'.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* tex.el: Remove XEmacs compatibility definitions for
	`TeX-read-string', `TeX-active-mark', `TeX-activate-region',
	`line-beginning-position', `line-end-position' and
	`TeX-overlay-prioritize'.
	(TeX-activate-region): Remove compatibility code for older emacsen.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove TeX-maybe-remove-help, TeX-menu-with-help

	* tex.el (TeX-maybe-remove-help, TeX-menu-with-help): Remove.
	(TeX-mode-specific-command-menu-entries, TeX-fold-menu)
	(TeX-common-menu-entries):
	* context.el:
	* latex.el:
	* plain-tex.el:
	* tex-buf.el:
	* tex-info.el:
	Remove `TeX-menu-with-help' and fix indent.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove TeX-mark-active

	* tex.el (TeX-mark-active): Remove.
	(TeX-mode-specific-command-menu-entries):
	* style/dinbrief.el (LaTeX-dinbrief-insert)
	(LaTeX-dinbrief-env-recipient):
	Use the variable `mark-active' directly instead of the function
	`TeX-mark-active'.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove TeX-replace-regexp-in-string

	* tex.el (TeX-replace-regexp-in-string): Remove.
	* latex.el:
	* style/empheq.el:
	* style/floatrow.el:
	* style/tcolorbox.el:
	* style/xcolor.el:
	Use `replace-regexp-in-string' instead of
	`TeX-replace-regexp-in-string'.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `write-file-functions'

	* tex.el (VirTeX-common-initialization):
	* latex.el (BibTeX-auto-store):
	Use `write-file-functions' instead of obsolete
	`local-write-file-hooks' and `write-file-hooks'.  Also, use local hook.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility face

	* tex-buf.el (TeX-error-description-error)
	(TeX-error-description-warning, TeX-error-description-tex-said):
	Remove compatibility alternatives in `defface'.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove XEmacs compatibility code in tex-bar.el

	* tex-bar.el (TeX-bar-TeX-buttons, TeX-bar-LaTeX-buttons): Remove
	Emacs/XEmacs choice of buttons.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex-buf.el (TeX-special-mode): Use `define-derived-mode'.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* font-latex.el (font-latex-after-hacking-local-variables): Remove
	fallback code for case `file-local-variables-alist' isn't available.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* font-latex.el (font-latex-doctex-^^A): Remove fallback for case
	`string-to-syntax' isn't available.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility code for older emacsen

	* latex.el (LaTeX-fill-region-as-para-do): Drop fallback for case
	`fill-delete-prefix' isn't available.

2018-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Adjust autoload cookie

	* tex-fold.el (TeX-fold-mode): Set autoload cookie directly to
	`define-minor-mode'.

2018-12-02  Arash Esbati  <arash@gnu.org>

	Remove unnecessary parentheses

	* style/geometry.el ("geometry"):
	* style/graphicx.el ("graphicx"): Remove unnecessary parentheses
	in option management.

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove compatibility codes for older emacsen

	* tex-info.el (when, TeX-texinfo-mode):
	* tex.el (TeX-documentation-texdoc):
	* plain-tex.el (TeX-plain-tex-mode):
	* preview.el.in (preview-counter-find):
	Remove compatibility codes for older emacsen.

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `declare-function' without `fboundp' test

	* latex.el:
	* tex-info.el:
	Use `declare-function' without `fboundp' test.

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove references to older emacsens in comments and doc strings

	* bib-cite.el:
	* font-latex.el:
	* tex-fold.el:
	* tex-style.el:
	* style/graphicx.el
	Remove references on older emacsens in comments and doc strings

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove references to XEmacs from the manual

	* RELEASE (): Delete the words "or XEmacs" and fill the paragraph.
	* doc/install.texi (Configure): Delete redundant line and words.

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Clean up remnants of previous removal of compatibility codes

	* tex.el (TeX-mode-specific-command-menu): Delete irrelevant comment.
	* latex.el (LaTeX-indent-line): Clear out unused lines.

2018-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add suggestions for non-privileged installation

	* doc/install.texi (Configure): Reorganize a paragraph and add @ref's.
	(Installation for non-privileged users): Add paragraphs to suggest to
	supply options "--with-lispdir" and "--with-texmf-dir" etc. to
	configure when installing AUCTeX under the user's home directory.

2018-11-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Defer running style hook until options are given actually

	* latex.el (LaTeX-arg-usepackage-read-packages-with-options): Don't
	run the style hooks before reading package options, just load the
	style files for completion of package options.
	(LaTeX-arg-usepackage): Run style hooks actually after the package
	options are given.
	(TeX-arg-document): Don't run the style hooks before reading class
	options, just load the style file for completion of class options.
	The style hooks are run afterward by `TeX-update-style' anyway.
	* style/exam.el ("exam"): Prepare `LaTeX-exam-class-options' to have
	its full values outside the style hook along with the above idea.
	* style/mathtools.el ("mathtools"):
	* style/empheq.el ("empheq"):
	* style/graphics.el ("graphics"): Set `LaTeX-*****-package-options'
	outside the style hook along with the above idea.

2018-11-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix not to run wrong style hooks

	* tex.el (TeX-style-hook-dialect-weight-alist): Add entry for
	pseudo-dialect `:classopt'.
	(TeX-style-hook-dialect): Add description for `:classopt' in doc
	string.
	* latex.el (LaTeX-common-initialization): Assign style hooks for
	class options into pseudo-dialect `:classopt'.
	Don't set `TeX-PDF-from-DVI' in XeLaTeX document.
	(TeX-latex-mode): Run style hooks for class options in
	`TeX-update-style-hook', without altering `TeX-active-list'.
	* style/geometry.el ("geometry"):
	* style/graphicx.el ("graphicx"): Don't set `TeX-PDF-from-DVI' in
	XeLaTeX document.
	* style/hyperref.el ("hyperref"): Set `TeX-PDF-from-DVI' to "Dvipdfmx"
	when package option "dvipdfmx" is given for non-XeLaTeX document.
	* tests/latex/latex-test.el (LaTeX-style-hook-with-class-option):
	Refine tests.
	* doc/auctex.texi (Simple Style): Add descriptions for available
	dialects including `:classopt'.

2018-11-24  Arash Esbati  <arash@gnu.org>

	Add new style/dashundergaps.el

	* Makefile.in (STYLESRC): Add new style.

	* style/dashundergaps.el: New file.

2018-11-16  Arash Esbati  <arash@gnu.org>

	Improve behavior of `TeX-arg-beamer-overlay-spec'

	* style/beamer.el (TeX-arg-beamer-overlay-spec): Use
	`TeX-argument-insert' in the body of the function and respect the
	OPTIONAL argument.
	("beamer"): Enclose all occurrences of
	`TeX-arg-beamer-overlay-spec' in brackets in order to mark them as
	optional.

2018-11-16  Arash Esbati  <arash@gnu.org>

	style/enumitem.el ("enumitem"): Use `TeX-argument-prompt' for query.

2018-11-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Surround both \langle and \rangle with math delimiter

	* latex.el (LaTeX-math-insert): Typing "C-u ` (" used to result in
	"$\langle$\rangle" when `LaTeX-math-mode' and
	`LaTeX-electric-left-right-brace' are enabled.  Fix this to insert
	"$\langle\rangle$" instead.

2018-11-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Set `TeX-command-buffer' always (bug#33377)

	* tex-buf.el (TeX-command): Make sure to set `TeX-command-buffer'
	always.

2018-11-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Adjust preview-latex in case sub file isn't in master directory

	* preview.el.in (preview-dvips-abort):
	(preview-gs-dvips-sentinel):
	(preview-dvipng-place-all): Make sure directory part of dvi file to be
	deleted is removed because deletion takes place in master directory.
	(preview-start-pdf2dsc): Make sure directory part of pdf file is
	removed so that path for later use is constructed correctly.
	(preview-cache-preamble):
	(preview-region):
	(preview-document): Retain directory part of the file name to be
	passed to `preview-generate-preview' because `TeX-run-command' in
	`TeX-inline-preview-internal' doesn't recognize the right path
	otherwise.
	(preview-generate-preview): Adjust in accord with the above change.

2018-11-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Don't block emacs during viewing document

	* tex.el (TeX-documentation-texdoc): Use asynchronous proces not to
	block emacs during viewing document.
	Supply "%s" to `message' argument in case the shell output contains
	accidental %-sequence.

2018-11-02  Arash Esbati  <arash@gnu.org>

	* style/fancyvrb.el (LaTeX-fancyvrb-key-val-options): Add vspace key.

2018-10-31  Arash Esbati  <arash@gnu.org>

	Improve style/fancyvrb.el

	* style/fancyvrb.el (LaTeX-fancyvrb-arg-define-macro): Refactor
	code. Cater for starred version of user defined macros.  Add
	missing `,' in backquote constructs.
	(LaTeX-fancyvrb-arg-define-environment): Refactor code.
	("fancyvrb"): Add \Verb* macro incl. fontification.

2018-10-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Deal with space in path of MikTeX gs executable (Bug#32251)

	* preview.el.in (preview-gs-command): Wrap gs with
	`shell-quote-argument' in case it has space in its path.

2018-10-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Change regexp for clarity

	* preview.el.in (preview--decode-^^ab): Change regexp "[\x00-\xFF]+" to
	"[^[:multibyte:]]+" for clarity that it matches raw 8-bit bytes.

2018-10-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make style hooks associated with class options valid again

	* latex.el (TeX-latex-mode): Add a function on `TeX-update-style-hook'
	to run style hooks associated with class options.
	(LaTeX-common-initialization): Set `TeX-PDF-from-DVI' to suitable
	value when a class option "dvips" or "dvipdfmx" is given.
	* style/geometry.el ("geometry"):
	* style/graphicx.el ("graphicx"): Set `TeX-PDF-from-DVI' to "Dvipdfmx"
	when a package option "dvipdfmx" is given.
	* tests/latex/latex-test.el (LaTeX-style-hook-with-class-option): New
	test.

2018-10-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Deal with partial ^^-quoting in preview-latex

	If latex outputs a multibyte character as a mixture of raw 8-bit byte
	and byte with ^^-quoting, we have to decode them as a whole.

	* preview.el.in (preview--decode-^^ab): Include raw 8-bit bytes which
	already exist in the string as well when decoding with the given
	coding system.
	* tests/latex/preview-latex-test.el: New test.

2018-10-20  Arash Esbati  <arash@gnu.org>

	Extract caption for RefTeX's label context

	* style/listings.el (LaTeX-listings-reftex-label-context-function):
	New function.  Extract the caption in the optional argrument of
	the lstlisting environment and return it as a string for the
	context of a label.

2018-09-07  Arash Esbati  <arash@gnu.org>

	Update style/lettrine.el to package version 2.21

	* style/lettrine.el (LaTeX-lettrine-key-val-options): Delete
	"Vone" option.
	("lettrine"): Delete \LettrineVonefalse macro.

2018-08-25  Arash Esbati  <arash@gnu.org>

	Update style/lettrine.el to package version 2.1

	* style/lettrine.el (LaTeX-lettrine-key-val-options): Add new keys
	"Vone" and "refstring".
	("lettrine"): Add new macros, minor rearrangements.

2018-08-09  Arash Esbati  <arash@gnu.org>

	Update style/lettrine.el to package version 2.01

	* style/lettrine.el (LaTeX-lettrine-key-val-options): Update
	key=val options.
	("lettrine"): Use correct functions on counters and
	lengths/dimensions provided by lettrine.sty.
	Add support for missing macros.

2018-08-09  Arash Esbati  <arash@gnu.org>

	Add new style/ocg-p.el and style/ocgx.el

	* Makefile.in (STYLESRC): Add new styles.

	* style/ocg-p.el:
	* style/ocgx.el: New files.

2018-07-17  Arash Esbati  <arash@gnu.org>

	Add \eqref to RefTeX's reference styles

	* style/amsmath.el ("amsmath"): Add \eqref to
	`reftex-ref-style-alist' when RefTeX is loaded and activate the
	reference style.

2018-07-12  Arash Esbati  <arash@gnu.org>

	Add new style/thmtools.el and style/thm-restate.el

	* Makefile.in (STYLESRC): Add new styles.

	* style/thmtools.el:
	* style/thm-restate.el: New files.

2018-07-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix regression of `TeX-view'

	* tex-buf.el (TeX-active-master): Add dummy argument for
	compatibility.  In `TeX-view', `TeX-commmand' is called with
	`TeX-active-master', so the `file' argument is `TeX-active-master'
	in subsequent call of `TeX-command-expand'.  In that case,
	`TeX--master-or-region-file-with-extra-quotes' calls
	`TeX-active-master' with three arguments.
	(TeX--master-or-region-file-with-extra-quotes): Adapt doc string.
	* tex.el (TeX-expand-list-builtin): Adapt comment.
	* tests/tex/command-expansion.el (TeX-command-expand-active-master):
	New test.

2018-07-07  Arash Esbati  <arash@gnu.org>

	Add new style/marginnote.el

	* Makefile.in (STYLESRC): Add new style.

	* style/marginnote.el: New file.

2018-07-05  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix possible endless loop

	* tex.el (TeX-expand-list-builtin): Use symbol `file' for the entry
	"%T" so that special treatment for `file' about advancing matching
	position in `TeX-command-expand' takes effect.
	* tests/tex/command-expansion.el (TeX-command-expand-skip-file-name):
	New test.

2018-06-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Adjust test for known emacs bug

	* tests/latex/latex-test.el (LaTeX-includegraphics-extensions): Mark
	emacs 26.1 as expected failure.

2018-06-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make preamble caching robust to LuaLaTeX and (u)pLaTeX

	* preview.el.in (preview-cache-preamble): Modify .ini code so that
	LaTeX variants even without \pdfoutput can read unusual file names
	(with space or non-ascii character, or both) when preamble cache is
	enabled.  The modified .ini code is kindly provided by jfbu
	<jfbu@free.fr>.
	(preview-dump-replacements, preview-undump-replacements): Add
	-file-line-error option to the undump- variable so that AUCTeX can
	analyse the output from lualatex even with file name with space.
	It turned out that -kanji option is needed for platex even when
	dumping format file if the preamble contains Japanese characters.
	Thus modify the both variables so that -kanji option, if any, is
	retained.
	(TeX-inline-preview-internal): Revert the additional post process of
	the command line string introduced last year by me because it is no
	longer necessary by the above change on
	`preview-undump-replacements'.  Though this change disables -jobname
	option again when lualatex is used with preamble cache, it would be
	fine because that concerns only very old lualatex binaries and that
	had always been the state before my commit just a year ago.
	The above three modifications fix bug#31685 and bug#31686.
	* tests/japanese/preview-latex.el
	(japanese-preview-preserve-kanji-option2): Arrange with the above
	change.
	(japanese-preview-preserve-kanji-option3): New test.
	(japanese-preview-error-quote-shift-jis): Remove spurious backslash.
	* doc/preview-latex.texi (Key bindings and user-level lisp functions):
	Add description about restriction of preamble cache on LaTeX variants.

2018-06-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Raise robustness of call of dvipng command

	* preview.el.in (preview-dvipng-command): Remove spurious quotes which
	cause error for file names with space.  (bug#31684)
	(preview-dvipng-color-string): Replace single quotes with double
	quotes for w32 users.
	* doc/preview-latex.texi: (The preview images): Add warning that
	(u)pLaTeX is not compatible with dvipng.

2018-05-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add note and test about the change involving non-ascii file name

	* doc/changes.texi (News in 12.2): Add note that support for standard
	LaTeX without e-TeX extension is now very limited.
	* tests/tex/command-expansion.el (TeX-command-detokenize): New test to
	check whether \input and \detokenize are supplied when necessary.

2018-05-28  Ikumi Keita  <ikumi@ikumi.que.jp>

	TL 2018 non-ascii file name fix for preview-latex

	* preview.el.in (preview-LaTeX-command): Wrap file name after implicit
	\input in \detokenize{}.
	(preview-cache-preamble): Arrange the ini file code so that non-ascii
	file name can be used with generated format file.  Be careful not to
	lose capability of handling file name with space.
	(preview-undump-replacements): Use new TeX macro defined in the above
	ini file code to accept even unusual file name with non-ascii
	character or space.
	Delegate quoting of format name to `TeX-inline-preview-internal' so
	that non-ascii character will not be quoted twice.
	(TeX-inline-preview-internal): Adjust to the above change.

2018-05-28  Ikumi Keita  <ikumi@ikumi.que.jp>

	Accept non-ascii file name in accord with change in TL 2018

	* tex.el (TeX-expand-list-builtin): Add new entry %T.  Same as %t,
	except to enclose with \detokenize{} for non UTF-8 LaTeX when \input
	is supplmented.
	Adjust the entries %` and %' so that \input is supplemented only when
	any TeX code is present between them and leave the bind to
	`TeX-command-text' for later examination.
	The bind to `TeX-command-pos' is no longer retained.
	(TeX-command-list): Use %T for "LaTeX".
	Adjust "TeX" and "AmSTeX" as the same with "LaTeX" in the aspect that
	user can supply one's own TeX code, as well as any command line
	options, through `TeX-command-extra-options'.
	* tex-buf.el (TeX--master-or-region-file-with-extra-quotes): New
	function to act as a wrapper of `TeX-master-file' and
	`TeX-region-file' inside `TeX-command-expand'.
	(TeX-command-expand): Use the above function as the value of `file'
	and get rid of tricky temporal overriding of `file' with lambda form.
	(TeX-region-create): Make the first line parsing of %&FORMAT
	construct, if any, to be valid even for region compilation.
	Discard text properties when constructing the content of _region_.tex.
	Drop bind check for `buffer-file-coding-system'.
	* tests/tex/command-expansion.el (TeX-command-expansion): Reflect the
	change that \input is not necessarily supplemented now by %`-%' pair
	in `TeX-command-expand'.

2018-05-28  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix region compilation with \usepackage[utf8]{inputenc}

	* tex-buf.el (TeX-quote-filename): Wrap non-ascii characters in
	\unexpanded{} for non UTF-8 LaTeX so that raw file name is recovered.

2018-05-27  Arash Esbati  <arash@gnu.org>

	Quote %b expansion string for Zathura

	* tex.el (TeX-view-program-list-builtin): Guard %b expansion
	string for Zathura with quotes for file names with spaces
	(bug#31451).

2018-05-14  Ikumi Keita  <ikumi@ikumi.que.jp>

	Prepare for UTF-8 with BOM

	* tex-buf.el (TeX-adjust-process-coding-system): Don't use
	`utf-8-with-signature' to encode keyboard input for TeX process.
	Drop mule feature check.

2018-05-14  Ikumi Keita  <ikumi@ikumi.que.jp>

	Drop compatibility code for older emacsen in preview-latex

	We no longer need messy treatment with regard to coding system in
	preview-latex since xemacs isn't supported anymore.

	* preview.el.in (preview-coding-system): Remove.
	(preview-error-quote): Simplify.  Discard RUN-CODING-SYSTEM argument.
	(preview--decode-^^ab): Drop mule feature check.
	(preview--convert-^^ab): Drop compatibility code for older emacsen.
	(preview-parse-messages): Remove `run-coding-system' argument from
	calls to `preview-error-quote'.
	(TeX-inline-preview-internal): Drop codes related to coding system.
	* prv-emacs.el (preview-buffer-recode-system): Remove.
	* tests/japanese/preview-latex.el
	(japanese-preview-error-quote-shift-jis): Remove `shift_jis' argument
	from call to `preview-error-quote'.
	Remove unnecessary let bind on `TeX-japanese-process-output-coding-system'.
	(japanese-preview-process-coding-system): Remove.
	(japanese-preview-shift-jis):
	(japanese-preview-different-coding-system): Use `copy-sequence' on
	`process-environment' in order to guard it from temporal `setenv'.

2018-05-11  Ikumi Keita  <ikumi@ikumi.que.jp>

	Support UTF-8 with BOM in Japanese TeX documents

	* tex-jp.el (japanese-TeX-coding-ejsu): Consider the case the document
	is encoded in UTF-8 with BOM, which begins to be supported in TeXLive
	2018.

2018-05-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Replace another cl function with cl-lib

	* style/pstricks.el (eval-when-compile): Require cl-lib.
	(LaTeX-pst-cleanup): Replace `caddr' with `cl-caddr'.

2018-05-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Update URLs further

	* COPYING:
	* Makefile.in:
	* RELEASE:
	* bib-cite.el:
	* build-aux/gitlog-to-auctexlog:
	* latex/README:
	* latex/preview.dtx:
	* preview.el.in:
	* style/foils.el:
	* style/hyperref.el:
	* style/ifluatex.el:
	* style/luatextra.el:
	* style/mathtools.el:
	* style/pstricks.el:
	* tests/Makefile:
	* tex-buf.el:
	* tex.el: Update URLs.  Use https: rather than http: or ftp: where
	possible.
	* build-aux/gitlog-to-changelog: Update URLs.
	Use `before-save-hook' instead of obsolete `write-file-hooks' in
	Local Variables section.

2018-05-07  Ikumi Keita  <ikumi@ikumi.que.jp>

	Update URLs

	* tex-site.el.in:
	* doc/auctex.texi:
	* doc/fdl.texi:
	* doc/install.texi:
	* doc/intro.texi:
	* doc/preview-readme.texi:
	* doc/wininstall.texi: Update URLs.  Use https: rather than http: or
	ftp: where possible.
	* auctex.spec: Update URLs.  Use https: rather than http: or
	ftp: where possible.
	Remove xemacs support.
	Update required emacs version.

2018-05-06  Ikumi Keita  <ikumi@ikumi.que.jp>

	Adjust coding system for Japanese pTeX engine on w32

	Default coding system of Japanese pTeX engine in w32 TeXLive changed
	from SHIFT JIS to UTF-8 in 2018.  Make tex-jp.el to work with both
	TeXLive 2017 and 2018 on w32 platform, with higher priority on newer
	engine with regard to the behavior in non default case.

	* tex-jp.el (japanese-TeX-use-kanji-opt-flag): Set default value to t
	even on w32 platform.
	(japanese-TeX-set-process-coding-system): Change coding system for non
	default case from `shift_jis' to `utf-8' on w32 platform.
	(TeX-expand-list-builtin): Remove mule feature check.

2018-05-05  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove obsolete option related to Japanese TeX

	* tex-jp.el (japanese-TeX-command-list): Remove.  Ataka-san and I
	(Ikumi) discussed this topic and decided to delete this option.
	* doc/auctex.texi (Japanese): Mention the above change.

2018-05-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix previous removal of xemacs compatibility code

	* toolbar-x.el (toolbarx-default-toolbar-meaning-alist): Remove
	spurious quote formerly inside "," construct.
	Replace "`" with "'".

2018-04-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Prevent spurious newlines to be added

	* tex-fold.el (TeX-fold-overfull-p): Restore mandatory `and'.  The
	removal of xemacs compatibility code previously done was a bit too
	aggressive.

2018-04-16  Arash Esbati  <arash@gnu.org>

	Update key=val options to geometry package v5.8

	* style/geometry.el (LaTeX-geometry-preamble-key-val-options): Add
	new keys luatex, dvipdfmx and xdvipdfmx.  Delete duplicate
	entries.

2018-04-12  Ikumi Keita  <ikumi@ikumi.que.jp>

	Correct how `TeX-record-buffer' is used

	* tex-buf.el (TeX-pop-to-buffer): Use `TeX-record-buffer' in accord with
	the documents.
	* doc/changes.texi: Mention the change and warn users who have
	customized the option.

2018-04-12  Ikumi Keita  <ikumi@ikumi.que.jp>

	Correct record in changes.texi

	* doc/changes.texi (): Make a new section for release 12.2 and move
	mention about change made after release 12.1 there.

2018-04-07  Arash Esbati  <arash@gnu.org>

	Quote %b expansion string for SumatraPDF

	* tex.el (TeX-view-program-list-builtin): Guard %b expansion
	string for SumatraPDF with quotes for file names with spaces
	(bug#30999).

2018-04-01  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add support for dvipdfmx to \includegraphics

	* style/graphicx.el (LaTeX-includegraphics-extensions-list): Add
	support for dvipdfmx.
	* tests/latex/latex-test.el (LaTeX-includegraphics-extensions): New
	test to check whether correct extensions are generated.

2018-04-01  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `TeX-search-files-by-type' to assist input \includegraphics

	* style/graphicx.el (LaTeX-includegraphics-extensions-list): New
	function.
	(LaTeX-includegraphics-extensions): Delegate most of its task to the
	above new function and become its wrapper.
	(LaTeX-includegraphics-global-files): New variable.
	(LaTeX-includegraphics-read-file-TeX): Use `TeX-search-files-by-type'
	rather than `TeX-search-files' and cache global value in the above
	new variable.
	Reflect the option `LaTeX-includegraphics-strip-extension-flag'.
	* tex.el (TeX-search-files-type-alist): Remove `graphics' entry,
	which is supplied in latex-mode by `LaTeX-search-files-type-alist'.
	(TeX-normal-mode): Add `LaTeX-includegraphics-global-files' to list of
	variables to be cleared.

2018-04-01  Ikumi Keita  <ikumi@ikumi.que.jp>

	Resolve conflict of argument spec between regexp and literal

	* tex.el (TeX-search-files-kpathsea): Treat EXTENSIONS argument as a
	list of regexps in accordance with other parts of AUCTeX.
	(TeX-ispell-document): Treat `TeX-file-extensions' as a list of
	regexps in accordance with other parts of AUCTeX.
	(TeX-file-extensions, TeX-Biber-file-extensions):
	(BibTeX-file-extensions, BibLaTeX-style-extensions):
	(BibTeX-style-extensions): Change custom type to regexp from string.
	(TeX-doc-extensions): Turn into list of regexps.
	* latex.el (LaTeX-split-bibs): Treat `TeX-Biber-file-extensions' as a
	list of regexps in accordance with other parts of AUCTeX.

2018-03-29  Alex Branham  <branham@utexas.edu>

	Fix TeX-dwim-master

	* tex.el (TeX-dwim-master): `cl-return' is much easier to work with if
	we're alerady using cl- functions, so convert `dolist' to `cl-loop.'

2018-03-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make `TeX-clean' to work in ams-tex-mode

	* plain-tex.el (AmSTeX-clean-intermediate-suffixes,
	AmSTeX-clean-output-suffixes): New customize options.
	(AmS-TeX-mode-hook): Move from tex.el.
	(AmSTeX-mode-command-menu, AmSTeX-mode-menu): Fix doc strings.
	(): Update copyright year.
	* tex.el (TeX-mode-prefix): Add an entry for AmS-TeX.
	(AmS-TeX-mode-hook): Move to plain-tex.el.

2018-03-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make compatible with emacs 24

	* latex.el (TeX-read-label): Use `format' instead of `format-message'
	if the latter is not available.

2018-03-29  Jonathan Underwood  <jonathan.underwood@gmail.com>

	Fix incorrect FSF address

	* multi-prompt.el ():
	* style/comment.el ():
	* style/latexinfo.el (): Fix incorrect FSF address and whitespaces.

2018-03-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	* style/amsmath.el ("amsmath"): Correct \cfrac spec.

2018-03-16  Alex Branham  <branham@utexas.edu>

	* tex.el (TeX-dwim-master): Prefer `cl-return' over `return'.

2018-03-12  Arash Esbati  <arash@gnu.org>

	* font-latex.el (font-latex--get-script-props): Use `cl-case' instead of `case'.

2018-03-04  Arash Esbati  <arash@gnu.org>

	Add new function `TeX-arg-verb-delim-or-brace'

	* latex.el (TeX-arg-verb-delim-or-brace): New function for \verb
	like macros which take their argument either in delimiters or in
	braces.

	* doc/auctex.texi (Adding Macros): Document
	`TeX-arg-verb-delim-or-brace'.

	* style/listings.el ("listings"): Use
	`TeX-arg-verb-delim-or-brace' for \lstinline which also takes an
	optional argument.

	* style/minted.el (LaTeX-minted-auto-cleanup, "minted"): Use
	`TeX-arg-verb-delim-or-brace' for \mintinline and new macros
	defined with \newmintinline.

	* style/url.el ("url"): Use `TeX-arg-verb-delim-or-brace' for \url
	and \path.
	Remove "{" from fontification or \url and \path.

2018-03-01  Alex Branham  <branham@utexas.edu>

	Remove cl from AUCTeX

	* tex.el: replace last 'cl with 'cl-lib
	* latex.el: replace cl function with cl-lib function

2018-03-01  Alex Branham  <branham@utexas.edu>

	Refine how we setup flymake backend function

	* latex.el: Add LaTeX-flymake to TeX-latex-mode
	* latex-flymake.el: Don't add to LaTeX-mode-hook

2018-02-21  Alex Branham  <branham@utexas.edu>

	Improve flymake documentation

	* doc/changes.texi:
	* doc/auctex.texi (Checking): Add Flymake support to manual.

	* latex-flymake.el: Add copyright notice and fix a quote.

2018-02-20  Arash Esbati  <arash@gnu.org>

	* Makefile.in (AUCSRC): Add new file latex-flymake.el.

2018-02-18  Arash Esbati  <arash@gnu.org>

	* style/babel.el (LaTeX-babel-active-languages): Use `cl-pushnew'.

2018-02-17  Mosè Giordano  <mose@gnu.org>

	Replace cl with cl-lib in other files

	* latex.el (LaTeX-hanging-ampersand-position):
	* tex-fold.el (require):
	(TeX-fold-region-macro-or-env):
	(TeX-fold-update-at-point):
	* tex-info.el (require):
	(Texinfo-make-node-list):
	* toolbar-x.el (require):
	(toolbarx-good-option-list-p): Replace cl with cl-lib and corresponding macros.

2018-02-17  Mosè Giordano  <mose@gnu.org>

	Explicitly require Emacs 24

	* tex.el: Error when Emacs < 24 is used.

2018-02-17  Alex Branham  <branham@utexas.edu>

	Support flymake in Emacs 26+ using chktex

	* latex-flymake.el: New file.
	* latex.el (require): Require `latex-flymake' in Emacs >= 26.

2018-02-17  Alex Branham  <branham@utexas.edu>

	Replace cl with cl-lib

	* bib-cite.el (require):
	(psg-list-env):
	* font-latex.el (require):
	* latex.el (require):
	* style/babel.el (require):
	* style/caption.el (require):
	(LaTeX-caption-update-key-val-options):
	* style/empheq.el (require):
	(LaTeX-empheq-update-key-val-options):
	* style/enumitem.el (require):
	(LaTeX-enumitem-update-key-val-options):
	("enumitem"):
	* style/floatrow.el (require):
	(LaTeX-floatrow-update-key-val-options):
	* style/fvextra.el (require):
	(LaTeX-fvextra-update-key-val):
	* style/listings.el (require):
	(LaTeX-listings-update-style-key):
	* style/mdframed.el (require):
	(LaTeX-mdframed-update-style-key):
	* style/tcolorbox.el (require):
	(LaTeX-tcolorbox-update-style-key): Replace cl with cl-lib.

2018-01-25  Alex Branham  <branham@utexas.edu>

	Remove some obsolete functions

	* font-latex.el (font-latex-syntactic-face-function):
	* preview.el.in (preview-gs-restart):
	* tex-buf.el (TeX-run-background):
	(TeX-run-silent):
	* tex.el:
	(TeX-source-correlate-handle-TeX-region):
	(TeX-insert-macro):
	(TeX-doc):
	* texmathp.el (texmathp): Now that AuCTeX requires GNU Emacs 24.1 or greater, we
	can remove some functions that are obsolete in Emacs < 24.1

2018-01-12  Mosè Giordano  <mose@gnu.org>

	Do not actually write bug report instructions

	* tex.el (TeX-submit-bug-report): Use `propertize' to show instructions without
	  writing them in the message.

2017-12-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make sure `process-environment' is recovered after temporal setenv

	* preview.el.in (TeX-inline-preview-internal): Since `setenv' operates
	destructively on `process-environment', use `copy-sequence' for
	maximal safety in order to guard its list structure.

2017-12-28  Arash Esbati  <arash@gnu.org>

	Add fontification for some core macros

	* font-latex.el (font-latex-built-in-keyword-classes): Add macros
	\addvspace, \raggedright and \raggedleft to function class.

2017-12-27  Arash Esbati  <arash@gnu.org>

	* texmathp.el (texmathp-tex-commands-default): Add entries for breqn.sty.

2017-12-21  Mosè Giordano  <mose@gnu.org>

	Restore some code erroneously removed from font-latex.el

	* font-latex.el (font-latex-make-sectioning-faces):
	(font-latex-user-keyword-classes):
	(font-latex-slide-title-face): Restore code.

2017-12-21  Mosè Giordano  <mose@gnu.org>

	Restore loading of prv-emacs

	* preview.el.in: Require prv-emacs.

2017-12-20  Mosè Giordano  <mose@gnu.org>

	Remove compatibility code for XEmacs in toolbar-x.el

	* toolbar-x.el (toolbarx--if-when-compile): Remove macro no more needed.
	(toolbarx-emacs-mount-popup-menu):
	(toolbarx-mount-popup-menu):
	(toolbarx-test-image-type):
	(toolbarx-test-button-type):
	(toolbarx-test-toolbar-type):
	(toolbarx-find-image):
	(toolbarx-emacs-add-button):
	(toolbarx-refresh):
	(toolbarx-install-toolbar):
	(toolbarx-default-toolbar-meaning-alist): Remove code for compatibility with
	XEmacs.
	(toolbarx-xemacs-mount-popup-menu):
	(toolbarx-xemacs-image-properties):
	(toolbarx-xemacs-button-properties):
	(toolbarx-xemacs-refresh-process-button-or-insert-list):
	(toolbarx-xemacs-refresh): Remove functions.

2017-12-20  Mosè Giordano  <mose@gnu.org>

	Remove compatibility code for XEmacs in font-latex.el

	* font-latex.el (font-latex-sectioning-5-face):
	(font-latex-update-sectioning-faces):
	(font-latex-make-sectioning-faces):
	(font-latex-user-keyword-classes):
	(font-latex-fontify-script):
	(font-latex-verbatim-face):
	(font-latex-slide-title-face):
	(font-latex-setup): Remove code for compatibility with XEmacs.

2017-12-20  Mosè Giordano  <mose@gnu.org>

	Remove compatibility code for XEmacs in tex-fold.el

	* tex-fold.el (TeX-fold-overfull-p):
	(TeX-fold-macro-nth-arg):
	(TeX-fold-hide-item):
	(TeX-fold-show-item):
	(TeX-fold-post-command): Remove code for compatibility with XEmacs.

2017-12-20  Mosè Giordano  <mose@gnu.org>

	Remove code for compatibility with very old emacsens in bib-cite.el

	* bib-cite.el (bib-cite-minor-mode):
	(bib-cite-setup-highlight-mouse-keymap):
	(bib-cite-fontify-help-as-bibtex):
	(bib-cite-fontify-help-as-latex):
	(bib-etags):
	(bib-highlight-mouse):
	(bib-toggle-highlight):
	(bib-guess-or-prompt-for-label):
	(bib-etags-find-noselect): Remove compatibility code.

2017-12-20  Mosè Giordano  <mose@gnu.org>

	Delte prv-xemacs.el

	* prv-xemacs.el: Delete file.
	* preview.el.in (preview): Remove code to load prv-xemacs.

2017-12-20  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove XEmacs compatibility code in tex-jp.el

	* tex-jp.el (japanese-TeX-set-process-coding-system)
	(japanese-TeX-coding-ejsu): Remove code for compatibility with
	XEmacs.

2017-12-20  Ikumi Keita  <ikumi@ikumi.que.jp>

	Delete unused options

	* tex-jp.el (japanese-TeX-command-default,
	japanese-LaTeX-command-default): Remove them because they are no
	longer used anywhere in the current code.  Ataka-san and I (Ikumi)
	discussed this matter and agreed to dismiss them.
	* doc/auctex.texi: Reflect the above change.

2017-12-19  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make sure `LaTeX-default-options' is honored

	* latex.el (TeX-arg-document): Use `LaTeX-default-options' as default
	of class options even when the respective `LaTeX-XXXX-class-options'
	is not set.

2017-12-17  Arash Esbati  <arash@gnu.org>

	Update style/bidi.el to package version 31.7

	* style/bidi.el (LaTeX-bidi-package-options): Add
	"extrafootnotefeatures" option.
	(LaTeX-env-bidi-bib): New function.
	("bidi"): Add missing macros and environments.  Add fontification
	support.

2017-12-17  Arash Esbati  <arash@gnu.org>

	Add fontification for some core macros

	* font-latex.el (font-latex-built-in-keyword-classes): Fontify
	core macros \marginpar (reference), \LaTeXe (function) and
	\bibitem (textual).

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Change encoding of Elisp source files to UTF-8

	* style/alphanum.el:
	* style/dk-bib.el:
	* style/doc.el:
	* style/inputenc.el:
	* style/jura.el:
	* style/ltx-base.el:
	* style/ltxdoc.el:
	* tex-font.el:
	* tex.el: Change coding of files to UTF-8.  Now that we require Emacs >= 24 it
	  is always possible to use this encoding.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove code for compatibility with old Emacsens in tex.el

	* tex.el: Always require `crm', which is available in all supported version of
	  Emacs.
	(TeX-completing-read-multiple): Remove function definition for XEmacs.
	(TeX-view-predicate-list-builtin):
	(TeX-source-correlate-sync-source):
	(TeX-tree-expand):
	(TeX-comment-forward): Remove code for compatibility with old Emacsens.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove TeX-line-number-at-pos

	* tex.el (TeX-line-number-at-pos): Remove function and alias.
	* style/pdfsync.el (LaTeX-pdfsync-output-page):
	* tex-info.el (Texinfo-make-node-list): Replace `TeX-line-number-at-pos' with
	  `line-number-at-pos'.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove XEmacs compatibility code in tex.el

	* tex.el (TeX-source-correlate-gnuserv-p):
	(TeX-source-correlate-map):
	(VirTeX-common-initialization):
	(TeX-mode-map):
	(TeX-search-syntax-table): Remove code for compatibility with XEmacs.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove TeX-how-many function

	* tex.el (TeX-how-many): Remove function.
	* latex.el (LaTeX-hanging-ampersand-position): Replace `TeX-how-many' with
	  `how-many'.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove TeX-assoc-string

	* tex.el (TeX-assoc-string): Remove alias.
	(TeX-add-style-hook):
	(TeX-unload-style):
	(TeX-run-style-hooks):
	* tex-info.el (Texinfo-nodename-de-escape):
	(Texinfo-nodename-escape): Replace `TeX-assoc-string' with `assoc-string'.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove TeX-deactivate-mark

	* tex.el (TeX-deactivate-mark): Remove function.
	(TeX-argument-insert):
	* latex.el (LaTeX-env-item):
	* style/currvita.el (LaTeX-currvita-env-with-label):
	* style/dinbrief.el (LaTeX-dinbrief-insert):
	(LaTeX-dinbrief-env-recipient):
	* style/enumitem.el (LaTeX-enumitem-env-with-opts):
	* style/moodle.el (LaTeX-moodle-question-env-with-args):
	* style/tcolorboxlib-raster.el (LaTeX-tcolorbox-lib-raster-env-item): Replace
	  `TeX-deactivate-mark' with `deactivate-mark'.

2017-12-17  Mosè Giordano  <mose@gnu.org>

	Remove old compat functions for commenting and uncommenting

	* tex.el (TeX-comment-regio):
	(TeX-comment-or-uncomment-region):
	(TeX-uncomment-region): Remove old compatibility functions.
	* context.el (ConTeXt-mode-menu):
	* latex.el (LaTeX-mode-menu):
	* plain-tex.el (plain-TeX-menu-entries):
	* tex-info.el (Texinfo-mode-menu):
	* tex.el (TeX-mode-map):
	(TeX-in-comment):
	(TeX-in-commented-line): Replace compat functions with standard functions.

2017-12-16  Mosè Giordano  <mose@gnu.org>

	Remove XEmacs compatibility code in latex.el

	* latex.el (LaTeX-largest-level-set):
	(LaTeX-after-insert-env-hook):
	(LaTeX-indent-line):
	(LaTeX-fill-region-as-paragraph):
	(LaTeX-fill-newline):
	(LaTeX-common-initialization): Remove code for compatibility with XEmacs.
	(LaTeX-fill-delete-newlines): Remove function, no more needed.
	(LaTeX-fill-region-as-para-do): Replace `LaTeX-fill-delete-newlines' with
	`fill-delete-newlines'.

2017-12-16  Mosè Giordano  <mose@gnu.org>

	Remove XEmacs compatibility code in tex-buf.el

	* tex-buf.el (TeX-record-buffer): Always define this option.
	(TeX-recenter-output-buffer):
	(TeX-previous-error):
	(TeX-parse-TeX): Remove code for compatibility with XEmacs.
	(TeX-parse-error): Fix a bug in the regexp.
	(TeX-error-overview): Remove check for Emacs version.  Now this works in all
	supported versions.

2017-12-10  Mosè Giordano  <mose@gnu.org>

	* Version 12.1 released.

2017-12-09  Mosè Giordano  <mose@gnu.org>

	Remove references to old Emacsen from the manual

2017-12-07  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove references to XEmacs from the manual

	* doc/intro.texi:
	* doc/preview-faq.texi:
	* doc/preview-latex.texi:
	* doc/preview-readme.texi: Remove references to XEmacs.

2017-12-04  Mosè Giordano  <mose@gnu.org>

	Remove references to XEmacs from the manual

	* doc/auctex.texi:
	* doc/faq.texi:
	* doc/install.texi:
	* doc/preview-faq.texi:
	* doc/preview-latex.texi:
	* doc/preview-problems.texi:
	* doc/quickstart.texi:
	* doc/tex-ref.tex:
	* doc/todo.texi:
	* doc/wininstall.texi: Remove references to XEmacs.

2017-12-03  Mosè Giordano  <mose@gnu.org>

	Prepare for new brand-new series of AUCTeX

	* RELEASE: Update version number and release notes.
	* doc/changes.texi: Update.
	* configure.ac:
	* doc/tex-ref.tex:
	* latex/preview.dtx: Update version number.
	* tex-site.el.in: Require Emacs 24 of higher.

2017-12-03  Mosè Giordano  <mose@gnu.org>

	* Version 11.92 released.

2017-12-03  Mosè Giordano  <mose@gnu.org>

	Prepare for upcoming release

	* RELEASE: Update version number and release notes.
	* doc/changes.texi: Mention bug fixes.
	* configure.ac:
	* doc/tex-ref.tex:
	* latex/preview.dtx: Update version number.

2017-12-03  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix auto detect of kpathsea delimeter

	* tex.el (TeX-kpathsea-detect-path-delimiter): New function.
	(TeX-kpathsea-path-delimiter): Use it to obtain the default value.
	(TeX-tree-expand): Use it to simplify auto detection method.
	Use `TeX-kpathsea-path-delimiter' for argument given to kpsewhich
	command.  Using constant ";" is completely wrong for most kpsewhich
	implementation.

2017-11-30  Arash Esbati  <arash@gnu.org>

	Get rid of `delete-dups'

	* style/caption.el (LaTeX-caption-update-key-val-options):
	* style/enumitem.el (LaTeX-enumitem-update-key-val-options):
	* style/floatrow.el (LaTeX-floatrow-update-key-val-options):
	* style/graphicx.el (LaTeX-includegraphics-extensions):
	* style/listings.el (LaTeX-listings-update-style-key):
	* style/mdframed.el (LaTeX-mdframed-update-style-key):
	* style/menukeys.el (TeX-arg-menukeys-newmenumacro): Replace
	`delete-dups' with `TeX-delete-duplicate-strings'.

2017-11-30  Arash Esbati  <arash@gnu.org>

	* style/longtable.el ("longtable"): Use `make-local-variable'.

	* tex-ispell.el: Add entry for "xltabular" environment.

2017-11-30  Arash Esbati  <arash@gnu.org>

	Fix style/xltabular.el

	* style/xltabular.el (LaTeX-xltabular-skipping-regexp): New variable.
	(LaTeX-env-xltabular):
	(LaTeX-item-xltabular): New function.
	("xltabular"): Use the above functions in the style hook.

2017-11-30  Mosè Giordano  <mose@gnu.org>

	Reduce code duplication in tests

	* tests/make-test-deps.emacs-lisp: New file.
	* tests/Makefile (%.log): Load it make-test-deps.emacs-lisp when running tests.
	* tests/context/context-test.el:
	* tests/japanese/error-parsing.el:
	* tests/japanese/parse-timing.el:
	* tests/japanese/preview-latex.el:
	* tests/latex/latex-test.el:
	* tests/tex/error-parsing.el:
	* tests/tex/path-expansion.el:
	* tests/tex/utility.el: Remove code moved to make-test-deps.emacs-lisp.

2017-11-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Revert wrong test

	* tests/tex/path-expansion.el (TeX-kpathsea-delimiter-w32): Remove.

2017-11-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add style path explicitly

	* tests/japanese/error-parsing.el ():
	* tests/japanese/parse-timing.el ():
	* tests/japanese/preview-latex.el (): Add "style" subdirectory in the
	repository to `TeX-style-path' so we can load style files inside tests.

2017-11-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Re-implement auto-detect of path separator from kpsewhich output

	* tex.el (TeX-kpathsea-path-delimiter): Accept t for Autodetect again
	and make it default on w32 platform.
	(TeX-tree-expand): Use heuristics as much as possible to determine the
	path separator, paying attention to the case that it cannot be
	determined.

2017-11-23  Tassilo Horn  <tsdh@gnu.org>

	Don't set company-minimum-prefix-length in tex mode buffers

	* tex.el (VirTeX-common-initialization): Don't set
	company-minimum-prefix-length in tex mode buffers.

	AUCTeX used to set company-minimum-prefix-length to 1 initially because there
	aren't too many TeX completions provided by AUCTeX itself.  However, some users
	use multiple completion backends in TeX modes (like dabbrev for example), and
	then the number of completion candidates increases dramatically.

	Also see https://github.com/syl20bnr/spacemacs/issues/9388 and
	https://github.com/alexeyr/company-auctex/issues/18.

2017-11-19  Arash Esbati  <arash@gnu.org>

	* doc/changes.texi: Mention compatibility of preview with GS 9.22.

2017-11-18  Arash Esbati  <arash@gnu.org>

	Improve style/epigraph.el

	* style/epigraph.el ("epigraph"): Leave point inside first pair of
	braces for \epigraph and \qitem.
	Use `LaTeX-add-lengths' for skips instead of `TeX-add-symbols'.
	Use `TeX-arg-length' instead of `TeX-arg-size' for \dropchapter.
	Append qitem macro to `LaTeX-item-regexp'.
	Improve fontification.

2017-11-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Give proper argument to `TeX-command-expand'

	* preview.el.in (TeX-inline-preview-internal): Give `TeX-region-file'
	or `TeX-master-file' as `file' argument of `TeX-command-expand' when
	preamble caching is enabled.  This argument used to be nil, which
	caused error when lualatex is in use.  The fourth element of the
	`luatex' entry of `TeX-engine-alist-builtin' contains "%s", which
	eventually triggers the use of the `file' argument.

2017-11-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add test for the recent change about `TeX-kpathsea-path-delimiter'

	* tests/tex/path-expansion.el (TeX-kpathsea-delimiter-w32): New test.

2017-11-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Document `TeX-view-evince-keep-focus'

	* doc/auctex.texi (Starting Viewers):
	* doc/changes.texi (News in 11.92):
	Document `TeX-view-evince-keep-focus'.

2017-11-14  Ikumi Keita  <ikumi@ikumi.que.jp>

	Document `TeX-math-input-method-off-regexp' properly.

	* doc/auctex.texi (Entering Mathematics):
	* doc/changes.texi (News in 11.92):
	Document `TeX-math-input-method-off-regexp'.

2017-11-13  Ikumi Keita  <ikumi@ikumi.que.jp>

	Mention the necessity of GNU make

	* doc/install.texi (Prerequisites): Add an item of GNU make.
	Fix copyright year.

2017-11-13  Ikumi Keita  <ikumi@ikumi.que.jp>

	Bug fix and code refactoring related to kpathsea

	* tex.el (TeX-kpathsea-path-delimiter): Use `path-separator' for
	default value.  Drop t from the candidates because auto detection
	sometimes fails for w32 platform.
	(TeX-tree-expand): Always use `TeX-kpathsea-path-delimiter' if
	non-nil.
	Disable subsequent use of kpathsea if kpsewhich causes error or
	returns non-zero exit value.
	Accept nil for PROGRAM argument.
	(TeX-search-files-kpathsea): Always use `TeX-kpathsea-path-delimiter' if
	non-nil.
	Use `TeX-tree-expand'.
	Don't signal error even if kpsewhich causes error or returns non-zero
	exit value.

2017-11-12  Arash Esbati  <arash@gnu.org>

	Add new style/xltabular.el

	* Makefile.in (STYLESRC): Add new style.

	* style/xltabular.el: New file.

2017-11-12  Arash Esbati  <arash@gnu.org>

	Add new function `LaTeX-env-longtable'

	* style/longtable.el (LaTeX-env-longtable): Add new function.
	Move the body of the anonymous function into this in order to make
	it available for other styles loading longtable.

2017-11-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex.el (TeX-math-input-method-off-regexp): Turn defvar into defcustom.

2017-11-06  David Kastrup  <dak@gnu.org>

	Remove use of .runandhide operator

	Ghostscript bug 698680
	<https://bugs.ghostscript.com/show_bug.cgi?id=698680> has been caused
	by the removal of the .runandhide operator in Ghostscript 9.22
	upstream.  Since .runandhide has no longer been used in a
	security-critical manner, its operation can be emulated by storing the
	respective information in a .preview-ST variable.  Potentially
	malicious code would not be able to retrieve a non-safe "save" object
	from here.

2017-09-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix Copyright year

	* context-en.el, context-nl.el, latex.el, plain-tex.el:
	* preview.el.in, prv-xemacs.el, tex-bar.el, tex-buf.el:
	* tex-info.el, tex-site.el.in, tex-style.el, tex.el:
	Fix Copyright year.

2017-09-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Cosmetic Change

	* font-latex.el (font-latex-match-math-env): Quote "\[" with "\=" in
	doc string.
	(font-latex-add-to-syntax-alist): Delete duplicated line.

2017-09-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix doc strings and comments

	* plain-tex.el (TeX-plain-tex-mode, ams-tex-mode): Fix doc strings.
	* tex-fold.el (): Fix typo.

2017-09-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make preview-latex parsing robust to fix Bug#20773, Bug#27088

	* preview.el.in (TeX-inline-preview-internal): Set environment
	variable max_print_line to sufficiently large value of 1000 so that
	LaTeX process does not insert newline in lines necessary to identify
	Bounding Boxes.

2017-09-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add test abount truncation of list

	* tests/tex/path-expansion.el: New file to test whether
	`TeX-search-files-by-type' does not truncate the value of list
	variable.

2017-09-18  Ikumi Keita  <ikumi@ikumi.que.jp>

	Prevent possible truncation of list value

	* tex.el (TeX-search-files-by-type): Use
	`TeX-delete-duplicate-strings' instead of `delete-dups'.

2017-09-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add a new option for evince compatible viewer.

	* tex.el: (TeX-view-evince-keep-focus): New option.
	(TeX-evince-sync-view-1): Pull the focus back to Emacs if the above
	new option is non-nil.

2017-09-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make correct extensions are returned

	* style/graphicx.el (LaTeX-includegraphics-extensions):
	Fix misaligned form structure which prevented `cond' to enter clauses
	for engines other than default.
	Use copied list for the last argument of `append' so that
	`delete-dups' does not alter the value of
	`LaTeX-includegraphics-extensions'.
	Use `delete' rather than `remove' for copied sequence.
	():
	(LaTeX-includegraphics-read-file-relative):
	Fix typos.

2017-09-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add test for infinite loop

	* tests/tex/utility.el: New file.

2017-09-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Parse package/class option with comments correctly

	* latex.el: (LaTeX-auto-class-regexp-list): Replace the regexp for
	RequirePackage/LoadClass option with the same one for usepackage.
	* tests/latex/latex-test.el: Add test for the change above.

2017-09-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	Conform to elisp coding convention

	* style/biblatex.el (LaTeX-arg-addbibresource)
	(LaTeX-biblatex-package-options):
	* style/fontspec.el (LaTeX-fontspec-arg-font):
	Add "done" message.
	* style/relsize.el ("relsize"): Tailor prompt string.
	* style/bidi.el: Remove spurious execution bit.

2017-08-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Prevent possible infinite loop

	* tex.el (TeX-delete-duplicate-strings): Make sure that comparison is
	done with valid list elements.
	(TeX-delete-dups-by-car): Ditto.
	Use `TeX-sort-strings' and `TeX-car-string-lessp'.
	(TeX-car-string-lessp): Move the position of defun before the
	defcustom of `TeX-engine'.  Since the defcustom requires
	`TeX-delete-dups-by-car' at load time, all the functions used in
	`TeX-delete-dups-by-car' must be defined before the defcustom.

2017-08-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `delete' correctly for list variable

	* tex.el (TeX-search-files-kpathsea): Make sure that "." will be
	removed from the directory list even if "." is the first element of
	the list, when the SCOPE argument is `global'.

2017-08-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add test for my commit on Aug 18

	* tests/japanese/parse-timing-test.tex:
	* tests/japanese/parse-timing.el:
	New file.

2017-08-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix doc string and indent

	* tex.el (TeX-PDF-from-DVI, TeX-insert-braces-alist)
	(TeX-arg-literal, TeX-auto-add-type):
	Fix doc string.
	(TeX-auto-parse-region): Fix indent.

2017-08-25  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add %(PDF) when undumped format is used in preview-latex

	* preview.el.in (TeX-inline-preview-internal): Make pdflatex to be
	called when default output is PDF and dumped format is used.  Although
	it seems that if the dumped format is created by pdflatex, the format
	produces PDF output even when the command name is (non-pdf) latex, it
	would be better that pdflatex is used in that case, too.

2017-08-20  Arash Esbati  <arash@gnu.org>

	Add new style/arabxetex.el

	* Makefile.in (STYLESRC): Add new style.

	* style/arabxetex.el: New file.

2017-08-18  Vincent Belaïche  <vincent.b.1@hotmail.fr>

	Improvements for tex-info.el

	* tex-info.el (Texinfo-arg-nodename): Fix default prompt.
	(Texinfo-arg-lrc): New function, used for commands that take Left,
	Center, and Right entries for setting page header.
	(Texinfo-arg-next-line): New function. Used to break line if need
	be after entering command argument.
	(Texinfo-arg-on|off): New function for entering boolean input.
	(TeX-texinfo-mode): Add TeX symbols `allowcodebreak', `atchar',
	`codequotebacktick', `codequoteundirected', `documentlanguage',
	`documentencoding', `evenfooting', `evenheading', `everyfooting',
	`everyheading', `LaTeX', `oddfooting', `oddheading',
	`setchapternewpage', and `url'.

2017-08-18  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use #' to quote function names

	* tex-jp.el (japanese-plain-tex-mode-initialization,
	add-hook, japanese-latex-mode-initialization,
	japanese-TeX-reset-mode-name, TeX-insert-punctuation):
	Use #' to quote function names.

2017-08-18  Ikumi Keita  <ikumi@ikumi.que.jp>

	Delay setting Japanese TeX engine in `japanese-latex-mode'

	* tex-jp.el (japanese-latex-mode-initialization): The part which
	guesses and sets `TeX-engine' using `TeX-match-style' is factored out
	and put in `TeX-update-style-hook'.  `TeX-match-style' eventually
	triggers `TeX-update-style', which isn't appropriate in
	`LaTeX-mode-hook'.
	(japanese-LaTeX-guess-engine): New function.

2017-08-11  Arash Esbati  <arash@gnu.org>

	* style/XCharter.el ("XCharter"): Update to package v1.094 from 2017/08/08.

2017-08-09  Arash Esbati  <arash@gnu.org>

	* style/amsthm.el ("amsthm"): Use `LaTeX-amsthm-env-label'.

2017-07-31  Ikumi Keita  <ikumi@ikumi.que.jp>

	Conform to elisp coding convention in context.el

	* context.el (ConTeXt-numbered-section-heading,
	ConTeXt-unnumbered-section-heading, ConTeXt-environment): Tailor
	prompt string.
	(ConTeXt-menu-update): Add "done" messages.

2017-07-25  Stefan Monnier  <monnier@iro.umontreal.ca>

	* font-latex.el: Use the standard utf-8 rather than latin-1

2017-07-25  Stefan Monnier  <monnier@iro.umontreal.ca>

	Fix unescaped character literals

	* font-latex.el (font-latex-command-with-args-opt-arg-delims)
	* tex-fold.el (TeX-fold-expand-spec): Escape [ and ] character literals

2017-07-25  Tassilo Horn  <tsdh@gnu.org>

	Manually cherry-pick commit bc0db60e

2017-07-24  Mosè Giordano  <mose@gnu.org>

	* Version 11.91 released.

2017-07-24  Mosè Giordano  <mose@gnu.org>

	Prepare for upcoming release

2017-07-22  Arash Esbati  <arash@gnu.org>

	Update key=val options to minted package v2.5

	* style/minted.el (LaTeX-minted-key-val-options): Update options
	to package version v2.5 from 2017/07/19.

2017-07-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Conform to elisp coding conventions.

	* latex.el (LaTeX-section-heading, LaTeX-environment)
	(TeX-arg-document, LaTeX-arg-usepackage-read-packages-with-options)
	(TeX-arg-bibstyle, TeX-arg-bibliography, TeX-arg-verb)
	(LaTeX-fill-region): Taylor minibuffer prompt string. Add or taylor
	"done" messages.
	* tex-buf.el (TeX-command-query, TeX-printer-query): Ditto.
	* tex.el (TeX-master-file-ask, TeX-master-file, TeX-update-style)
	(TeX-auto-list-information, TeX-auto-generate): Ditto.

2017-07-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	* doc/changes.texi: Mention changes related to Japanese TeX.

2017-07-03  Arash Esbati  <arash@gnu.org>

	* doc/auctex.texi (European): Add babel languages which load english.el.

2017-07-03  Arash Esbati  <arash@gnu.org>

	Check and set `TeX-quote-language' if necessary

	* style/english.el ("english"): Reset `TeX-quote-language' to nil
	if changed by other babel language options.

2017-07-03  Arash Esbati  <arash@gnu.org>

	Add new style/australian.el and style/newzealand.el

	* Makefile.in (STYLESRC): Add new styles.

	* style/australian.el:
	* style/newzealand.el: New files.

2017-07-02  Arash Esbati  <arash@gnu.org>

	Add new style/canadian.el

	* Makefile.in (STYLESRC): Add new style.

	* style/canadian.el: New file.

2017-07-01  Arash Esbati  <arash@gnu.org>

	Add new style/moodle.el

	* Makefile.in (STYLESRC): Add new style.

	* style/moodle.el: New file.

2017-07-01  Arash Esbati  <arash@gnu.org>

	* latex.el (LaTeX-babel-hyphen-language-alist): Fix typo in docstring.

2017-06-17  Antoine Levitt  <antoine.levitt@gmail.com>

	Add support for xreader viewer

	* tex.el (TeX-evince-dbus-p):
	(TeX-evince-sync-view-1):
	(TeX-view-program-select-evince):
	(TeX-raise-frame-function):
	(TeX-source-correlate-mode): Adapt functions and docstrings to xreader.
	(TeX-xreader-sync-view): New function.
	(TeX-view-program-list-builtin): Add xreader.

2017-06-14  Arash Esbati  <arash@gnu.org>

	Update key=value options to graphicx package version 1.1a

	* style/graphicx.el (LaTeX-graphicx-key-val-options): Add new
	key=value options.
	(LaTeX-arg-graphicx-includegraphics-key-val): Support "pagebox"
	key with pdfTeX or LuaTeX.

2017-06-13  Arash Esbati  <arash@gnu.org>

	* style/beamer.el ("beamer"): Query for optional argument after \pause.

2017-06-13  Mosè Giordano  <mose@gnu.org>

	Suggest to rerun LaTeX if xsim properties changed

	* tex-buf.el (TeX-LaTeX-sentinel): Catch xsim warning suggesting to rerun LaTeX
	and set LaTeX and next default command.

2017-06-13  Mosè Giordano  <mose@gnu.org>

	Catch expl3 warnings

	* tex-buf.el (LaTeX-warnings-regexp): Adapt regexp to the style of expl3
	warnings.
	* tests/tex/error-parsing.el (TeX-error-parsing-expl3-warnings): New test for
	expl3 warnings.

2017-06-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	Correct actions on region file in included file not placed in master dir

	* tex-buf.el (TeX-command-region): Call `TeX-region-file' with nil
	`nondirectory' argument.
	Fix a typo in doc string.
	(TeX-command-default): Use `(TeX-region-file)' instead of `TeX-region'
	for comparison with the given argument.

2017-05-30  Ikumi Keita  <ikumi@ikumi.que.jp>

	Imporve fix for Bug#26694

	* tex-buf.el (TeX-command): Update point in region file if the
	command is "View".
	(TeX-view):
	(TeX-region-create): Pass the above job to `TeX-command'.
	(TeX-region-update-point): Move point according to the column in
	the original buffer.
	Do nothing when `TeX-source-correlate-mode' is disabled.
	Use `TeX-current-offset' instead of `TeX-line-number-at-pos' in
	case narrowing is in effect in the original buffer.
	* preview.el.in (preview-at-point): Revert previous commit in
	accord with the changes above.
	* tex.el (TeX-evince-sync-view-1): Use `TeX-current-offset'
	instead of `TeX-line-number-at-pos' in case narrowing is in
	effect in the original buffer.
	Add FIXME comment about using `current-column'.
	(TeX-synctex-output-page-1): Ditto.
	Arrange regexp to pick up page number more correctly.
	(TeX-view-program-list-builtin): Remove spurious quotation around
	%b in SumatraPDF entry.

2017-05-29  Mosè Giordano  <mose@gnu.org>

	* tests/tex/compilation-log.txt:
	* tests/tex/error-parsing.el: Add test for error starting with exclamation mark.

2017-05-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Resolve preview-latex incompatibility with Japanese TeX (Bug#25322)

	* preview.el.in (preview-error-quote): Work consistently with
	decoded text.  The idea of "encoding entire string beforehand and
	decoding it at the last stage" was used previously, but that failed
	with `japanese-shift-jis' coding system containing bytes which
	happen to coincide with regexp meta characters.
	(preview--decode-^^ab):
	(preview--convert-^^ab): New functions.
	(TeX-inline-preview-internal): Record the process coding system
	for decode assigned already so that `preview-error-quote' can
	decode the given text correctly afterward.  To achive that, change
	the role of `preview-coding-system' together with the changes to
	`preview-error-quote'.
	Give back the command options provided in `(TeX-engine-alist)' to
	latex command when preamble caching is enabled.
	(preview-coding-system): Modify doc string according to the
	changes above to `preview-error-quote' and
	`TeX-inline-preview-internal'.
	* tex-buf.el (TeX-adjust-process-coding-system): New function.
	Adjust the process coding system for asynchronous process launched
	within AUCTeX.
	(TeX-after-start-process-function): Change default value to
	`TeX-adjust-process-coding-system'.
	* tex-jp.el (japanese-TeX-set-process-coding-system): Specify end
	of line format on the coding systems assigned to process.
	(): Don't set `japanese-TeX-set-process-coding-system' to
	`TeX-after-start-process-function'.  It is now called within
	`TeX-adjust-process-coding-system'.
	* prv-xemacs.el (preview-buffer-recoding-alist): Fix docstring.
	(coding-system-change-eol-conversion): Add advice because XEmacs
	21.4 mule-ucs fails to define `utf-8' coding system to respond
	properly to this function.
	(preview-ps-quote-filename): Add advice so that this function is
	not confused by backslashes as path separator in the return value
	of XEmacs function.
	* tests/japanese/preview-latex.el:
	* tests/japanese/preview-error-test.tex:
	* tests/japanese/preview-error-test2.tex:
	* tests/japanese/prv-dif-code.tex: New files for regression test.

2017-05-21  Mosè Giordano  <mose@gnu.org>

	Fix indentation in ConTeXt mode after indented optional argument

	* context.el (ConTeXt-find-indent): Fix indentation.  Requested by Henri Menke.
	* tests/context/context-test.el:
	* tests/context/context-indentation-in.tex:
	* tests/context/context-indentation-out.tex: New test files.

2017-05-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Don't discard process output with `TeX-run-silent'

	* tex-buf.el (TeX-run-silent): Associate the process to the buffer
	"*TeX silent*".

2017-05-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex.el (TeX-command-list): Fix typo in help string (mendex -> upmendex)

2017-05-12  Arash Esbati  <arash@gnu.org>

	* latex.el (LaTeX-env-label-as-keyval): Use `buffer-substring-no-properties'.

2017-05-11  Arash Esbati  <arash@gnu.org>

	* doc/changes.texi: Document recent changes.

2017-05-10  Arash Esbati  <arash@gnu.org>

	* tests/latex/fontification-general.tex: New file.

2017-05-10  Arash Esbati  <arash@gnu.org>

	Exclude arguments to math environments from fontification

	* font-latex.el (font-latex-match-math-envII)
	(font-latex-extend-region-backwards-math-envII): Match and exclude
	optional and mandatory argument(s) to math environments from
	fontification.

2017-05-08  Arash Esbati  <arash@gnu.org>

	Improve further the exclusion of reserved characters

	* font-latex.el (font-latex-match-simple-exclude-list): New
	variable.
	(font-latex-match-simple-command): Use
	`font-latex-match-simple-exclude-list'.  Add check for docTeX mode
	in order to remove "_" from the list.

2017-05-06  Mosè Giordano  <mose@gnu.org>

	Work around bug#26694

	* preview.el.in (preview-at-point): Let-bind `TeX-source-correlate-mode' to nil.
	* tex-buf.el (TeX-region-create): Move point only when
	`TeX-source-correlate-mode' is non-nil.

2017-05-06  Arash Esbati  <arash@gnu.org>

	* latex/preview.dtx: Adjust contact email address.

2017-05-04  Arash Esbati  <arash@gnu.org>

	* tex-ispell.el: Move entries from style/empheq.el to this file.

	* latex/preview.dtx: Adjust modification date for CTAN.

2017-05-03  Arash Esbati  <arash@gnu.org>

	Query for expl3 package options

	* style/expl3.el (LaTeX-expl3-package-options): New function to
	read package options from user.
	Add missing file footer.

2017-05-03  Arash Esbati  <arash@gnu.org>

	Add new style/floatrow.el

	* Makefile.in (STYLESRC): Add new style.

	* style/floatrow.el: New file.

2017-05-02  Arash Esbati  <arash@gnu.org>

	Use `ispell-tex-arg-end' on parsed elements

	* style/mdframed.el (LaTeX-mdframed-auto-cleanup, "mdframed"): Use
	correct function `ispell-tex-arg-end'.

2017-04-27  Arash Esbati  <arash@gnu.org>

	Improve exclusion of reserved characters from command matches

	* font-latex.el (font-latex-match-simple-command): Skip matches
	starting with reserved characters.

2017-04-27  Arash Esbati  <arash@gnu.org>

	Add support for plus sign in macro syntax specification list

	* font-latex.el (font-latex-match-command-with-arguments): Support
	plus sign besides asterisk in specification of macro syntax.

2017-04-27  Arash Esbati  <arash@gnu.org>

	Update style/fontspec.el to package version 2.6a

	* style/fontspec.el (LaTeX-fontspec-font-features): Update
	variable to package version 2.6a.
	(LaTeX-fontspec-auto-cleanup): New function for parsing support
	for \newfontfamily and \newfontface macros.
	("fontspec"): Add missing macros and environment.
	(LaTeX-fontspec-package-options): Update with new options.

2017-04-27  Arash Esbati  <arash@gnu.org>

	Consider the return value of `assq-delete-all'

	* style/breqn.el (LaTeX-breqn-update-color-keys):
	* style/fvextra.el (LaTeX-fvextra-update-key-val):
	* style/mdframed.el (LaTeX-mdframed-update-style-key):
	* style/minted.el (LaTeX-minted-update-key-vals):
	* style/tcolorbox.el (LaTeX-tcolorbox-update-style-key): Use the
	return value of `assq-delete-all' rather than looking at the saved
	value of the temporary variable.

2017-04-27  Arash Esbati  <arash@gnu.org>

	* latex.el (LaTeX-common-initialization): Add eminnershape macro.

2017-04-26  Arash Esbati  <arash@gnu.org>

	* tex-ispell.el (TeX-ispell-skip-cmds-list): Add \addlinespace.

2017-04-25  Tassilo Horn  <tsdh@gnu.org>

	Correctly exclude hypenation and thin spaces from command matches

	* font-latex.el (font-latex-match-simple-command): Skip matches starting with
	\- or \,.

2017-04-25  Arash Esbati  <arash@gnu.org>

	Add LaTeX core command \oldstylenums

	* font-latex.el (font-latex-built-in-keyword-classes): Add
	\oldstylenums to "type-command" keyword class.

	* latex.el (LaTeX-common-initialization): Add \oldstylenums to
	LaTeX core commands.

	* style/textcomp.el ("textcomp"): Remove \oldstylenums from
	textcomp.el which is provided by LaTeX core.

2017-04-24  Arash Esbati  <arash@gnu.org>

	Make preview.sty compatible with recent luatex

	* latex/preview.dtx: Check if file luatex85.sty is loadable and
	require the package (bug#25601).

2017-04-24  Arash Esbati  <arash@gnu.org>

	Do not highlight control spaces with "\ "

	* font-latex.el (font-latex-match-simple-command): Add space to
	the list of characters to be ignored.

2017-04-23  Arash Esbati  <arash@gnu.org>

	Adjust macros acc. to change in `LaTeX-paragraph-commands-regexp-make'

	* style/bicaption.el ("bicaption"): Add \bicaption, \bicaptionbox,
	\bisubcaption and \bisubcaptionbox to paragraph commands.

	* style/caption.el ("caption"): Add \captionbox and \captionof to
	paragraph commands.

	* style/subcaption.el ("subcaption"): Add \subcaption and
	\subcaptionbox to paragraph commands.

2017-04-23  Arash Esbati  <arash@gnu.org>

	* style/exam.el ("exam"): Remove duplicate entries and backslash.

2017-04-23  Uwe Brauer  <oub@mat.ucm.es>

	Add the select environment and related macros to exam style.

	* style/exam.el ("exam"): Add the select environment and related macros.

2017-04-23  Tassilo Horn  <tsdh@gnu.org>

	Fix comment environment highlighting

	* style/comment.el ("comment"): Don't set comment starter/ender but generic
	comment delimiters.

2017-04-21  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add test for my last commit

	* tests/japanese/error-parsing.el: New file.

2017-04-21  Mosè Giordano  <mose@gnu.org>

	Do not highlight thin spaces with \,

	* font-latex.el (font-latex-match-simple-command): Add comma to the list of
	characters to be ignored.

2017-04-19  Mosè Giordano  <mose@gnu.org>

	Fix parsing of LaTeX2e date formats

	* tex-buf.el (TeX-LaTeX-sentinel): Support ISO date format, now used by
	LaTeX2e.  Reported by Uwe Siart.
	* tests/tex/error-parsing.el (TeX-LaTeX2e-date): Add a test for LaTeX2e date
	formats.

2017-04-19  Ikumi Keita  <ikumi@ikumi.que.jp>

	Improve error handling for Japanese users

	* tex-buf.el (TeX-help-error): Use number based condition to
	detect whether the search over `TeX-error-description-list'
	comes to its last element.  Comparison with a literal string
	breaks when tex-jp.el installs Japanese help messages into
	`TeX-error-description-list'.

2017-04-18  Ikumi Keita  <ikumi@ikumi.que.jp>

	Deal with strange file name

	* tex-jp.el (): Increase `pos' in case the master file
	name happens to contain special %-sequence.

2017-04-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Support upmendex

	* tex-jp.el (): Make "%(makeindex)" to expand to upmendex when
	upmendex is available and `TeX-engine' is supported by it.
	Add "%(dic)" expander for the dictionary option of (up)mendex.
	* tex.el (TeX-command-list): Add "upMendex" entry.  Set 4th
	element to t so that user will get a chance to supply
	dictionary option to the command line string.

2017-04-17  Tassilo Horn  <tsdh@gnu.org>

	Improve command highlighting to not be triggered by hyphenation

	Reported by François Patte.

2017-04-17  Tassilo Horn  <tsdh@gnu.org>

	Add proper copyright header to some styles

	Add the required headers so that the ELPA build works again.

2017-04-15  Arash Esbati  <arash@gnu.org>

	* doc/changes.texi: Update with recent changes.

2017-04-10  Arash Esbati  <arash@gnu.org>

	* doc/auctex.texi (Selecting a Command): Document `TeX-ispell-verb-delimiters'.

2017-04-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix `paragraph-start' and `paragraph-separate'

	* plain-tex.el (plain-TeX-common-initialization): Remove "^" from
	`paragraph-start' according to the doc string.
	Remove LaTeX display math delimiters "\[" and "\]" from
	`paragraph-start'.
	Add "item" and "itemitem" to `paragraph-start'.
	Change the regexp grouping to shy group in `paragraph-start' and
	`paragraph-separate'.
	* tex-info.el (TeX-texinfo-mode): Remove "^" from `paragraph-start'
	and `paragraph-separate'.

2017-04-03  Arash Esbati  <arash@gnu.org>

	Update package options in style/amsmath.el

	* style/amsmath.el (LaTeX-amsmath-package-options): Update package
	options to v2.16a.

2017-04-01  Arash Esbati  <arash@gnu.org>

	Append \b to regexp built from TeX control words

	* latex.el (LaTeX-paragraph-commands-regexp-make): Append \b to
	regexp built from TeX control words.  Fix this report
	http://lists.gnu.org/archive/html/auctex/2017-03/msg00009.html

	* tests/latex/latex-filling-in.tex:
	* tests/latex/latex-filling-out.tex:
	* tests/latex/latex-test.el (LaTeX-filling): Extend test for addition
	in `LaTeX-paragraph-commands-regexp-make' in latex.el.

2017-03-31  Mosè Giordano  <mose@gnu.org>

	Fix detection of bibliography files with dots in path

	* latex.el (LaTeX-auto-regexp-list): Remove dot from the list of excluded
	characters in addbibresource's regexp.
	* tests/latex/latex-test.el (LaTeX-addbibresource): New test for addbibresource.

2017-03-29  Ikumi Keita  <ikumi@ikumi.que.jp>

	Don't alter standard value or saved value themselves of customize option

	* tex-jp.el (): Stop using `setcar' on the elements of
	`TeX-command-list'.  This used to alter the standard value
	or saved value themselves of the customize option since
	`setcar' operates descructively on lists as Lisp objects.
	Instead create new list by `mapcar' and `append'.
	(): Deal with the case that `TeX-view-program-list-builtin'
	doesn't have an entry of "xdvi".
	Change the expected executable name to "%(xdvi)" as well.

2017-03-28  Arash Esbati  <arash@gnu.org>

	Fix last improvement for skipping of inline verbatim macros

	* tex.el (TeX-ispell-tex-arg-verb-end): New function.

	* tex-ispell.el (TeX-ispell-verb-delimiters): Replace
	`TeX-ispell-verb-opening-delimiters' and
	`TeX-ispell-verb-closing-delimiters' with new customizable option
	`TeX-ispell-verb-delimiters'.
	(TeX-ispell-skip-setcar): Use new function
	`TeX-ispell-tex-arg-verb-end' with verbatim macros.

2017-03-27  Arash Esbati  <arash@gnu.org>

	Improve skipping of inline verbatim macros

	* tex-ispell.el (TeX-ispell-verb-opening-delimiters)
	(TeX-ispell-verb-closing-delimiters): New customizable options.
	(TeX-ispell-skip-setcar): Skip inline verbatim macros from
	listings and fancyvrb package.  Use new variables for minted
	package.

2017-03-27  Arash Esbati  <arash@gnu.org>

	* tests/latex/fontification-verb-macros.tex: New file.

2017-03-27  Arash Esbati  <arash@gnu.org>

	Improve fontification of verbatim macros in style/minted.el

	* style/minted.el (LaTeX-minted-auto-cleanup): Add key=val query
	and fontification support for parsed elements.
	(LaTeX-minted-add-syntactic-keywords-extra): New function.
	("minted"): Use `LaTeX-minted-add-syntactic-keywords-extra' to add
	fontification support for \mint and \mintinline macros.
	Add \mint and \mintinline to textual keywords class and apply the
	fontification only for optional and first mandatory argument.

2017-03-27  Arash Esbati  <arash@gnu.org>

	Adapt fontification for \lstinline

	* style/listings.el ("listings"): Fontify only the optional
	argument of \lstinline.

2017-03-27  Arash Esbati  <arash@gnu.org>

	Recognize optional argument in verb macros with delimiters/braces

	* font-latex.el (font-latex-built-in-keyword-classes): Add \verb
	to textual keyword class.
	(font-latex-set-syntactic-keywords): Extend regexp to ignore an
	optional argument for verbatim macros with delimiters and/or
	braces.

2017-03-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add support for Japanese font command

	* tex-jp.el (): Append entries for mincho and gothic font
	commands to `LaTeX-font-list'.
	(japanese-latex-mode-initialization): Add font lock support
	to \textgt, \mathgt and \gtfamily commands for displaying
	with bold font in Emacs buffer.
	* doc/auctex.texi (Japanese): Mention new font commands and
	add indexes for them.

2017-03-23  Ikumi Keita  <ikumi@ikumi.que.jp>

	Enhance Japanese class files support

	* style/tarticle.el:
	* style/tbooks.el:
	* style/treport.el:
	* style/jsreport.el: Add new style files.
	* Makefile.in (STYLESRC): Add them and tweak order not to break the
	format of file name alignment.
	* style/j-book.el ("j-book"): Correct the largest section level to
	"part" following book.el.
	* style/jarticle.el:
	* style/jbook.el:
	* style/jreport.el:
	* style/jsarticle.el:
	* style/jsbook.el: Add defvar for class options, counters and
	pagestyles following {article,book,report}.el.
	Correct the largest section level in jbook.el, too.
	Deal with "report" option in jsbook.el.

2017-03-24  Arash Esbati  <arash@gnu.org>

	* texmathp.el (texmathp-tex-commands-default): Add entries for empheq.sty.

2017-03-23  Arash Esbati  <arash@gnu.org>

	* style/minted.el ("minted"): Add key=val query for \mint and \mintinline.

2017-03-19  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `TeX-line-number-at-pos' further for older emacsen

	* tex-buf.el (TeX-region-create):
	(TeX-region-update-point):
	* tex-info.el (Texinfo-make-node-list): Replace `line-number-at-pos'
	with `TeX-line-number-at-pos'.

2017-03-19  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use compatibility function `TeX-line-number-at-pos' for older emacsen

	* tex.el (TeX-evince-sync-view-1):
	(TeX-synctex-output-page-1): Replace `line-number-at-pos' with
	`TeX-line-number-at-pos'.

2017-03-18  Arash Esbati  <arash@gnu.org>

	Use the variable `LaTeX-listing-label'

	* style/minted.el ("minted"):
	* style/newfloat.el (LaTeX-newfloat-auto-cleanup): Use
	`LaTeX-listing-label' instead of hard-coded "lst:" string.

2017-03-18  Arash Esbati  <arash@gnu.org>

	Use compat function `TeX-replace-regexp-in-string' in core files

	* tex.el (TeX-source-correlate-sync-source):
	* latex.el (LaTeX-split-bibs): Use compat function
	`TeX-replace-regexp-in-string'.

2017-03-18  Arash Esbati  <arash@gnu.org>

	Use `TeX-replace-regexp-in-string' in style files

	* style/empheq.el (LaTeX-empheq-item-equation):
	* style/tcolorbox.el (LaTeX-tcolorbox-load-used-libraries):
	* style/xcolor.el (LaTeX-xcolor-auto-cleanup): Use compat function
	`TeX-replace-regexp-in-string'.

2017-03-18  Arash Esbati  <arash@gnu.org>

	Add new compat function `TeX-replace-regexp-in-string'

	* tex.el (TeX-replace-regexp-in-string): New compat function.
	With XEmacs, pass arguments to `replace-in-string', with Emacs to
	`replace-regexp-in-string'.  This function supports only mandatory
	arguments of the original functions just mentioned.

2017-03-17  Ikumi Keita  <ikumi@ikumi.que.jp>

	Avoid altering user option as much as possible

	* tex-jp.el (): Alter `TeX-view-predicate-list-builtin' and
	`TeX-view-program-list-builtin' instead of their customize option
	cousins.
	Append to `TeX-view-program-selection' only on w32 system.

2017-03-16  Arash Esbati  <arash@gnu.org>

	Add LaTeX inline math delimiters to Ispell skip list

	* tex-ispell.el: Add LaTeX inline math delimiters \( \) to Ispell
	skip list.  (bug#26125)
	Remove unnecessary part from regexp for \cmidrule.

2017-03-15  Arash Esbati  <arash@gnu.org>

	Fix addition of key=val's

	* style/fvextra.el (LaTeX-fvextra-update-key-val): Fix addition of
	key=val's to `LaTeX-fancyvrb-key-val-options-local'.

2017-03-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	Modify `TeX-expand-list-builtin' instead of `TeX-expand-list'

	* tex-jp.el (): `TeX-expand-list' is user option since 2015.  Add
	extra entries for Japanese TeX engines to `TeX-expand-list-builtin'
	instead.

2017-03-13  Arash Esbati  <arash@gnu.org>

	Add new style/fvextra.el

	* Makefile.in (STYLESRC): Add new style.

	* style/fvextra.el: New file.

2017-03-13  Arash Esbati  <arash@gnu.org>

	Improve parsing capabilities of style/fancyvrb.el

	* style/fancyvrb.el (LaTeX-fancyvrb-key-val-options): Add
	undocumented keys, update some values.
	(LaTeX-fancyvrb-key-val-options-local)
	(LaTeX-fancyvrb-base-macros, LaTeX-fancyvrb-base-environments)
	(LaTeX-fancyvrb-key-val-skip-regexp): New variables.
	(LaTeX-fancyvrb-macro-regexp, LaTeX-fancyvrb-environment-regexp):
	Update for new parsing mechanism.
	(LaTeX-fancyvrb-arg-define-macro)
	(LaTeX-fancyvrb-arg-define-environment)
	(LaTeX-fancyvrb-arg-file-relative): New functions.
	("fancyvrb"): Use new variables and functions in the hook.  Update
	fontification.

2017-03-10  Arash Esbati  <arash@gnu.org>

	Improve fallback for indentation when & is omitted

	* latex.el (LaTeX-hanging-ampersand-position): Improve handling of
	fallback which now respects also intended tabular environments.
	Thanks to Ikumi Keita for testing and providing code.  (bug#26032)

	* tests/latex/tabular-in.tex:
	* tests/latex/tabular-out.tex: Add additional test for indented
	tabular.

2017-03-09  Ikumi Keita  <ikumi@ikumi.que.jp>

	Remove spurious entries of view settings.

	* tex-jp.el (TeX-view-program-list):
	(TeX-view-program-selection): Remove spurious entries, most of which
	are related with other TeX IDEs.
	cf. http://lists.gnu.org/archive/html/auctex-devel/2016-04/msg00036.html

2017-03-09  Arash Esbati  <arash@gnu.org>

	Add fallback for indentation when & is omitted

	* latex.el (LaTeX-hanging-ampersand-position): Add fallback for
	indentation if the row searched does not contain a column
	separator &.

	* tests/latex/tabular-in.tex:
	* tests/latex/tabular-out.tex: Add filling test for missing & in
	row.

2017-02-06  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix auto selection of japanese TeX engine

	* tex-jp.el (japanese-latex-mode-initialization): Use
	`LaTeX-match-class-option' to detect uplatex option given to
	jsarticle, jsreport and jsbook class.  (The root of this problem is
	the same as Bug#25563)
	(): Quit appending to `LaTeX-command-style' because this made the
	user's intentional selection of `TeX-engine' ineffective with regard
	to the selection of the executable names.
	Fix copyright year.
	* doc/auctex.texi (Japanese): Add description of Japanese TeX engine:
	How to use, change and set the value of the engine.
	Add description of the customize options related to the encoding of
	Japanese TeX documents.

2017-03-08  Arash Esbati  <arash@gnu.org>

	Detect \& in tabular cells when filling

	* latex.el (LaTeX-indent-tabular): Search backward for any
	ampersands not escaped with a backslash, i.e. control symbol \&,
	and return the adjusted value.  Thanks to Ikumi Keita for his
	perceptive comments on the implementation.  (bug#26010)

	* tests/latex/tabular-in.tex:
	* tests/latex/tabular-out.tex: Add test for table filling with \&
	in cells.

2017-03-06  Arash Esbati  <arash@gnu.org>

	* tex-ispell.el (TeX-ispell-skip-cmds-list): Add hyperref macros.

2017-03-05  Arash Esbati  <arash@gnu.org>

	* tex-ispell.el (TeX-ispell-skip-setcdr): Add entry for filecontents package.

2017-03-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix documents and add trivial improvements.

	* font-latex.el (font-latex-deactivated-keyword-classes): Add keyword
	class biblatexnoarg, biblatex and slide-title to doc string.
	Use `buffer-string'.
	(font-latex-keyword-matcher): Mention that face attributes is accepted
	as FACE argument in doc string.
	(font-latex-make-built-in-keywords): Arrange doc string for generated
	defvar of `font-latex-match-*-keywords-local' depending on the keyword
	type.
	Remove spurious type declaration from generated defcustom of
	`font-latex-match-*-keywords'.
	Replace meaningless argument with nil and add doc string for generated
	defvar of `font-latex-match-*'.
	Replace redundant call to intern with literal quote of symbol.
	(font-latex-user-keyword-classes): Fix doc string.  The accepted face
	argument is face attribute rather than font specification.
	Add doc string for generated defvar of `font-latex-match-*'.
	(font-latex-make-user-keywords): Replace backquote with quote where
	backquote is not necessary.
	(font-latex-add-keywords): Add keyword class biblatexnoarg to doc
	string.
	* doc/auctex.texi (): Update copyright year.
	(Deactivating defaults of built-in keyword classes): Add keyword
	class biblatexnoarg, biblatex and slide-title.
	Fix sample lisp code.
	(User-defined keyword classes): The accepted face argument is face
	attribute rather than font specification.

2017-03-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make customization to face specification to appear in
	customization buffer.

	* font-latex.el (font-latex-user-keyword-classes): Exchange the order
	of `face' and `custom-face-edit'.  Tweak doc string.

2017-03-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Unify treatment of face argument over the relevant functions.

	* font-latex.el (font-latex-keyword-matcher): Conform the face
	argument correctly to the format `font-lock-keywords' requires.
	(font-latex-make-user-keywords) : Call `font-latex-make-match-defun'
	directly without `eval'.
	(font-latex-deactivated-keyword-classes) : Accept a face symbol, as
	well as a form returning a face symbol, for the third element for each
	item of `font-latex-built-in-keyword-classes'.
	(font-latex-built-in-keyword-classes) : Remove quoting from the face
	names.  Contrary to the sentence of the doc string
	"The third element is the symbol of a face to be used or a Lisp
	form returning a face symbol.", symbol of a face was invalid due to
	the above bugs.

2017-03-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix font-latex-make-match-defun to generate intended code.

	* font-latex.el (font-latex-make-match-defun): Arrange the order of
	evaluation not to generate meaningless clause.  Byte compile warning
	on xemacs went away.

2017-03-04  Mosè Giordano  <mose@gnu.org>

	Partially revert previous commit, will look better later

	* tex-buf.el (TeX-command-expand): Do not error if `string' is nil.  This made
	"View" command unusable.

2017-03-04  Mosè Giordano  <mose@gnu.org>

	Prevent infinite loop in TeX-command-expand

	* tex-buf.el (TeX-command-expand): Throw an error if `string' is not a string.
	This prevents an infinite loop.
	* tex.el (TeX-engine-in-engine-alist): New function to pick up an engine from
	`TeX-engine-alist' and throw an error if the engine is not there.
	(TeX-expand-list-builtin): Use `TeX-engine-in-engine-alist'.
	* context.el (ConTeXt-expand-options): Use `TeX-engine-in-engine-alist'.
	* tests/tex/command-expansion.el (TeX-command-expansion-errors): Add tests for
	error handling of `TeX-command-expand'.

2017-02-24  Ikumi Keita  <ikumi@ikumi.que.jp>

	Tweak locale treatment on xemacs.

	* tex-jp.el (japanese-TeX-set-process-coding-system): Use the locale
	related environment variables for fallback value.

2017-02-21  Arash Esbati  <arash@gnu.org>

	Add new style/sourcecodepro.el

	* Makefile.in (STYLESRC): Add new style.

	* style/sourcecodepro.el: New file.

2017-02-21  Arash Esbati  <arash@gnu.org>

	* style/subfiles.el (LaTeX-subfiles-class-options): New function.

2017-02-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make papersize predicate in tex-jp.el to work again.
	Problem parallel to bug#25563.

	* tex-jp.el (): Use `LaTeX-match-class-option' to examine paper size
	option of document class.

2017-02-14  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix setting of coding system for Japanese TeX

	* tex-jp.el (japanese-TeX-set-process-coding-system): Cater for the
	case that kanji option is requested by user but cannot be determined.
	XEmacs doesn't have `locale-coding-system'.  Use
	`get-coding-system-from-locale' and `current-locale' instead.
	Cleanup indentation.
	(japanese-TeX-coding-ejsu): Add entry for xemacs coding system of cp932.

2017-02-20  Mosè Giordano  <mose@gnu.org>

	Improve regexp for looking for documentclass macro

	* latex.el (LaTeX-env-document): Allow any non line-breaking character in regexp
	  used to look for `documentclass' macro.  Previous regexp did not catch class
	  options containing dots or slash, that may occur when using `subfiles' class.

2017-02-20  Mosè Giordano  <mose@gnu.org>

	Improve determination of master file with subfiles class

	* style/subfiles.el ("subfiles"): Do not strip dirname from master file.

2017-02-19  Arash Esbati  <arash@gnu.org>

	Add new keys for package version 4.00

	* style/tcolorbox.el (LaTeX-tcolorbox-keyval-options): Add new
	keys for v4.00 of the package.

2017-02-16  Arash Esbati  <arash@gnu.org>

	* latex.el (LaTeX-label): Eliminate premature returning of label.

2017-02-16  Arash Esbati  <arash@gnu.org>

	Append "lstlisting" to `LaTeX-label-alist'

	* style/listings.el ("listings"): Append "lstlisting" to
	`LaTeX-label-alist'.
	(LaTeX-listings-auto-cleanup): Use `LaTeX-listing-label' as a
	symbol during clean up.

2017-02-10  Arash Esbati  <arash@gnu.org>

	Add new style/preview.el

	* Makefile.in (STYLESRC): Add new style.

	* style/preview.el: New file.

2017-02-10  Arash Esbati  <arash@gnu.org>

	* .gitignore: Ignore only preview.el in top directory.

2017-02-10  Arash Esbati  <arash@gnu.org>

	Improve parsing process in style/xcolor.el

	* style/xcolor.el (LaTeX-xcolor-definecolor-regexp): Use
	`regexp-opt' to build a regexp to match all color defining macros.
	(LaTeX-xcolor-colorlet-regexp): Remove variable.
	(LaTeX-xcolor-auto-cleanup): Romove unnecessary *.

2017-02-09  Arash Esbati  <arash@gnu.org>

	Improve parsing process in style/color.el

	* style/color.el (LaTeX-color-definecolor-regexp): Remove
	unnecessary 2nd and 3rd arguments from regexp.
	(LaTeX-color-auto-cleanup): Delete unnecessary function and remove
	it from `TeX-auto-cleanup-hook'.

2017-02-09  Arash Esbati  <arash@gnu.org>

	Fix parsing bug in style/xcolor.el

	* style/xcolor.el (LaTeX-xcolor-definecolor-regexp): Move parsing
	of \colorlet macro into `LaTeX-xcolor-colorlet-regexp'.
	(LaTeX-xcolor-colorlet-regexp): New variable.
	("xcolor"): Activate `LaTeX-xcolor-colorlet-regexp' in style hook.

2017-02-06  Arash Esbati  <arash@gnu.org>

	* latex/preview.dtx: Fix example for \PreviewMacro* macro.
	Add missing backslash.

2017-02-04  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix minor problems
	* tex.el (TeX-view-predicate-list-builtin): Enclose whole alternatives
	in regexp with shy group in order that the effect of "\`" and "\'"
	covers all the alternatives.
	* latex.el (LaTeX-auto-cleanup): Regard "Class", in addition to
	"class", as an indicator of LaTeX2e document.

2017-02-02  Arash Esbati  <arash@gnu.org>

	Simplify addition of entirely skipped environments

	* tex-ispell.el (TeX-ispell-skip-envs-list): New variable for
	environments which should be skipped entirely.
	(TeX-ispell-skip-envs-regexp): New variable keeping the regexp
	generated from `TeX-ispell-skip-envs-list'.

2017-02-02  Tassilo Horn  <tsdh@gnu.org>

	Fix TeX-view-predicate-list-builtin predicates wrt class opts

	* latex.el (LaTeX-match-class-option): New function.
	* tex.el (TeX-view-predicate-list-builtin): Use above function to check
	paper sizes orientation from documentclass options (bug#25563).

2017-02-01  Mosè Giordano  <mose@gnu.org>

	Fix number of arguments of local-variable-p in XEmacs

	* font-latex.el (font-latex-after-hacking-local-variables): Second argument of
	`local-variable-p' is mandatory in XEmacs.

2017-02-01  Tassilo Horn  <tsdh@gnu.org>

	Fix font-latex-after-hacking-local-variables on XEmacs

	* font-latex.el (font-latex-after-hacking-local-variables): Cater for the
	fact that file-local-variables-alist isn't there in XEmacs and older
	Emacs versions (bug#25564).

2017-02-01  Arash Esbati  <arash@gnu.org>

	* tex-ispell.el: Add support for enviroments from breqn.sty.

2017-02-01  Tassilo Horn  <tsdh@gnu.org>

	Fix plain-TeX-auto-regexp-list docstring

	* tex.el: Fix docstring of plain-TeX-auto-regexp-list (bug#25574).

2017-01-29  Arash Esbati  <arash@gnu.org>

	Add new style/breqn.el

	* Makefile.in (STYLESRC): Add new style.

	* style/breqn.el: New file.

2017-01-29  Arash Esbati  <arash@gnu.org>

	Update style/listings.el to use `LaTeX-env-label-as-keyval'

	* style/listings.el (LaTeX-listings-key-val-options): Comment the
	"label" key.
	(LaTeX-listings-key-val-label-extract):
	(LaTeX-listings-key-val-label-regexp): New variable.
	(LaTeX-listings-auto-cleanup): Use `LaTeX-add-environments'
	instead of adding new enviroments to `LaTeX-auto-environment'.
	Use the function `LaTeX-env-label-as-keyval' to insert labels.
	Add parsed enviroments to AUCTeX parser with `TeX-auto-add-regexp'.
	("listings"): Add `LaTeX-listings-key-val-label-regexp' to the
	parser.
	Use `LaTeX-env-label-as-keyval' for "lstlisting".

2017-01-29  Arash Esbati  <arash@gnu.org>

	Add function to put labels in opt. argument of environments

	* doc/changes.texi: Document new feature.

	* latex.el (LaTeX-listing-label): New custom prefix for labels in
	code typesetting environments.
	(LaTeX-env-label-as-keyval): New function.
	(LaTeX-narrow-to-environment): Fix typo in docstring.

2017-01-27  Arash Esbati  <arash@gnu.org>

	Add `NO-INSERT' argument to `LaTeX-label'

	* doc/changes.texi: Document changes to `LaTeX-label' and
	`LaTeX-label-function'.

	* latex.el (LaTeX-label): Add second optional argument NO-INSERT.
	This argument is passed to function bound to
	`LaTeX-label-function' (usually `reftex-label' with RefTeX
	enabled).  If `LaTeX-label-function' is nil and NO-INSERT is
	non-nil, label is read and returned as a string.  Remove some
	unnecessary checks.
	(LaTeX-label-function): Mention in docstring that the function is
	expected to take an optional argument NO-INSERT.  This is an
	incompatible change.

2017-01-27  Arash Esbati  <arash@gnu.org>

	Check if label is defined before adding it to known labels

	* latex.el (TeX-read-label): Check if label is already defined and
	ask for user confirmation before adding it list of known labels.
	Do not add label if empty string or the value of
	`TeX-read-label-prefix'.

2017-01-26  Arash Esbati  <arash@gnu.org>

	Add \citetitle to `reftex-cite-format' in style/biblatex

	* style/biblatex.el ("biblatex"): Add \citetitle[*] to
	`reftex-cite-format' and bind them to keys i/I per user request
	http://lists.gnu.org/archive/html/auctex/2017-01/msg00049.html.

2017-01-25  Mosè Giordano  <mose@gnu.org>

	Guard setcar with appropriate test

	* tex-jp.el (assoc): Replace second element of "BibTeX" and "Index" entries of
	`TeX-command-list' only if they are already there.  This variable is
	customizable and users may have removed them.  Reported by jfbu.

2017-01-20  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-newline): Make interactive.  See bug#24412.

2017-01-20  Mosè Giordano  <mose@gnu.org>

	Add makeglossaries to the list of commands

	* tex.el (TeX-command-list): Add makeglossaries.  Fixes bug#24952.
	* latex.el (LaTeX-clean-intermediate-suffixes): Add extensions of files created
	  by makeglossaries.

2017-01-15  Mosè Giordano  <mose@gnu.org>

	Show summary of tests at the end of make check

	* tests/Makefile (check): Depend on `check-doit' and `mostlyclean' phony
	  targets.
	(check-doit): New rule for showing summary of tests.
	(mostlyclean): Delete log files.

2017-01-13  Davide G. M. Salvetti  <salve@debian.org>

	Fix ConTeXt-outline-regexp

	Add a separator between different elements; see Debian bug #850444.

2017-01-13  Mosè Giordano  <mose@gnu.org>

	Remove also a gitignore

	* Makefile.in (EXCLUDEDFILES): Add latex/.gitignore to excluded files.

2017-01-13  Mosè Giordano  <mose@gnu.org>

	Remove file from distributed tar ball

	* Makefile.in (EXCLUDEDFILES): Add doc/tex-ref.log.

2017-01-12  Mosè Giordano  <mose@gnu.org>

	Add AUCTeX Logo

	* etc/auctex-logo.tex: Logo of AUCTeX.  It was realized with comments from
	Vincent Belaïche, Marcin Borkowski, Marta Dell’Atti, Tamas Papp and others.

	* .gitignore: Ignore some files automatically created during compilation.

2017-01-11  Mosè Giordano  <mose@gnu.org>

	Make gitlog-to-changelog ignore release-commit

	* Makefile.in (release-commit): Prefix the commit message with "; ", so that
	the commit will be ignored when automatically updating the ChangeLog.

2017-01-10  Mosè Giordano  <mose@gnu.org>

	* Version 11.90 released.

2017-01-10  Mosè Giordano  <mose@gnu.org>

	Refresh RELEASE file

	* RELEASE: Update "Availability" and "Future development and additional
	information" sections.

2017-01-10  Mosè Giordano  <mose@gnu.org>

	* Makefile.in (release-commit): Use UTF-8 coding for ChangeLog entry.

	* ChangeLog-preview: Change encoding to UTF-8.

	* Makefile.in (release-commit): Fix name of preview ChangeLog.

2017-01-10  Arash Esbati  <arash@gnu.org>

	Use RefTeX for multiple references in cleveref

	* style/cleveref.el (TeX-arg-cleveref-multiple-labels): Check if
	RefTeX is enabled and use it for multiple referencing macros.
	("cleveref"): Use `TeX-arg-ref' instead of `TeX-arg-label'.
	("cleveref"): Remove call of (font-latex-set-syntactic-keywords).

2017-01-10  Arash Esbati  <arash@gnu.org>

	Skip macros and environments from tcolorbox and raster library

	* tex-ispell.el (TeX-ispell-sort-skip-cmds-list): Extract macros
	with optional argument from `TeX-ispell-skip-cmds-list'.
	(TeX-ispell-skip-cmds-opt-arg-regexp): New variable containing
	macros where only the optional argument is skipped while spell
	checking.
	Add macros and environments from tcolorbox.el and
	tcolorboxlib-raster.el.

2017-01-10  Arash Esbati  <arash@gnu.org>

	Advertise AUCTeX installation from ELPA

	* doc/quickstart.texi (Quick Start): Emphasize the necessity to
	drop (load "auctex.el" nil t t) when installed from ELPA.

	* doc/install.texi (Installation): Advertise installation from
	ELPA.

2017-01-09  Mosè Giordano  <mose@gnu.org>

	Prepare for upcoming release

	* RELEASE: Update AUCTeX version, the new features section, and
	the list of contributors.

	* configure.ac: Update AUCTeX version.

	* doc/changes.texi: Reorder changes for 11.90 version section.

	* doc/tex-ref.tex: Update AUCTeX version and copyright years
	across the file.

	* latex/preview.dtx: Manually update release version.

2017-01-07  Mosè Giordano  <mose@gnu.org>

	Adapt Makefile to new ChangeLog file name

	* Makefile.in (release-commit): Use `CHANGELOG_N' in place of
	`ChangeLog'.

2017-01-06  Tassilo Horn  <tsdh@gnu.org>

	Don't use cl function copy-list

	* font-latex.el (font-latex--get-script-props): Use copy-sequence instead of
	copy-list, the latter being a cl function.

2017-01-05  Tassilo Horn  <tsdh@gnu.org>

	Fix bug where font-latex-sub/superscript-face was not applied to ^_

	* font-latex.el (font-latex-make-user-keywords): prepend
	font-latex-script-char-face, don't replace existing specs.

2017-01-05  Tassilo Horn  <tsdh@gnu.org>

	Fontify script characters with a new face

	* doc/auctex.texi (Fontification of math): Document it.
	* doc/changes.texi: Mention that.
	* font-latex.el (font-latex-make-user-keywords): Adapt.
	(font-latex-script-char-face): New face.
	(font-latex-match-script-chars): Improve it so that double ^_ aren't
	matched because such errors were hard to see with
	font-latex-fontify-script set to invisible.
	(font-latex-script-char): New function.

2017-01-05  Arash Esbati  <arash.esbati@gmail.com>

	Support biblatex cite format in all Emacsen

	* style/biblatex.el ("biblatex"): Check if biblatex is available
	in `reftex-cite-format-builtin' and use it.  If not, add entries
	for older Emacsen manually.

2017-01-05  Arash Esbati  <arash.esbati@gmail.com>

	Check new custom option before activating RefTeX cite format

	* doc/changes.texi: Document new variable.

	* style/biblatex.el ("biblatex"):
	* style/harvard.el ("harvard"):
	* style/jurabib.el ("jurabib"):
	* style/natbib.el ("natbib"): Set cite format provided by RefTeX
	when `LaTeX-reftex-cite-format-auto-activate' is non-nil.

	* tex-style.el (LaTeX-reftex-cite-format-auto-activate): New
	customizable variable.

2017-01-04  Tassilo Horn  <tsdh@gnu.org>

	Fix script unfontification bug

	* font-latex.el (font-latex-unfontify-region): Remove script-level
	property and raise display property even though it's value is different
	from what's specified in font-latex-script-display.

2017-01-04  Tassilo Horn  <tsdh@gnu.org>

	Improve completion docs

	* doc/auctex.texi (Completion): Improved docs.
	* doc/changes.texi: Mention math completion, add link to Completion node
	in the manual.
	* tex.el (TeX-complete-list): Improve docstring.

2017-01-04  Tassilo Horn  <tsdh@gnu.org>

	Refactor normal completion and completion at point a bit

	* tex.el (TeX--complete-find-entry): New function.
	(TeX-complete-symbol,TeX--completion-at-point): Use it.

2017-01-04  Tassilo Horn  <tsdh@gnu.org>

	Completion for math macros

	* latex.el (LaTeX--after-math-macro-prefix-p): New function.
	(LaTeX-common-initialization): Use it for new TeX-complete-list entry.
	* tex.el (TeX-complete-list): Also allow match-data setting predicates in
	entries.
	(TeX-complete-symbol,TeX--completion-at-point): Adapt to new possibility.

2017-01-03  Tassilo Horn  <tsdh@gnu.org>

	Add completion-at-point support

	* doc/auctex.texi (Completion): Document completion-at-point support.
	* doc/changes.texi: Mention completion-at-point support.
	* tex.el (TeX--completion-at-point): New function.
	(VirTeX-common-initialization): Add TeX--completion-at-point to
	completion-at-point-functions in TeX buffers if that's bound.

2017-01-03  Mosè Giordano  <mose@gnu.org>

	Use RefTeX for multiple citations in biblatex

	* style/biblatex.el (LaTeX-arg-biblatex-cites): Use RefTeX when
	  available.  Suggested by Arash Esbati.

2017-01-03  Tassilo Horn  <tsdh@gnu.org>

	Simple docfix

	* font-latex.el (font-latex-fontify-script-max-level): Correct escaping of
	\(...\) in the docstring.

2017-01-03  Tassilo Horn  <tsdh@gnu.org>

	Improve multi-level script fontification

	* doc/auctex.texi (Fontification of math): Update docs.
	* doc/changes.texi: Add an item for the new script fontification
	features.
	* font-latex.el (font-latex-fontify-script): Update docstring.
	(font-latex-fontify-script-max-level): New custom variable.
	(font-latex--get-script-props): Apply script face only for levels up to
	font-latex-fontify-script-max-level.
	(font-latex-script): Adapt call to font-latex--get-script-props.

2017-01-03  Arash Esbati  <arash.esbati@gmail.com>

	Add a newline only if \label is inserted

	* style/caption.el (LaTeX-arg-caption-captionof):
	* style/bicaption.el (LaTeX-arg-bicaption-bicaption): Save the
	position before asking for a label.  Add a newline only if a label
	is inserted.

2017-01-03  Tassilo Horn  <tsdh@gnu.org>

	Bring back multi-level script font-locking

	* doc/auctex.texi (Fontification of math): Add documentation.
	* font-latex.el (font-latex-script-display): Increase default raise level to
	0.5.
	(font-latex-superscript-face,font-latex-subscript-face): Let scripts be a bit
	larger (:height 0.85 instead of 0.8).
	(font-latex--get-script-props): New function for incrementing/decrementing
	raise display property values.
	(font-latex-script): Use it.

2017-01-03  Tassilo Horn  <tsdh@gnu.org>

	Revert "Remove multi-level/invisible feature of font-latex-fontify-script"

	This reverts commit ccec8501960a448dd8faccaae54dfd9839a37c30.

2017-01-02  Tassilo Horn  <tsdh@gnu.org>

	Remove multi-level/invisible feature of font-latex-fontify-script

	* font-latex.el (font-latex-make-user-keywords,font-latex-script-display)
	(font-latex-script): Remove multi-level/invisible feature of
	font-latex-fontify-script.
	(font-latex-doctex-preprocessor-face): Remove function.
	* doc/auctex.texi (Fontification of math): Remove documentation for
	font-latex-fontify-script's multi-level and invisible values.

2016-12-31  Arash Esbati  <arash.esbati@gmail.com>

	Set `reftex-set-cite-format' to biblatex or natbib

	* style/biblatex.el ("biblatex"): Set `reftex-set-cite-format' to
	biblatex or natbib depending on package option.

2016-12-30  Uwe Brauer  <oub@mat.ucm.es>

	Add new style/exam.sty

	* Makefile.in (STYLESRC): add exam.el
	* style/exam.el: Add style file
	* tex-style.el: Move defcustom from exam.el to tex-style.el

2016-12-30  Arash Esbati  <arash.esbati@gmail.com>

	Fix the names also in expert macros

	* style/cleveref.el ("cleveref"): Fix the names also in expert macros.

2016-12-30  Arash Esbati  <arash.esbati@gmail.com>

	Fix name of macros \lcnamecref and \lcnamecrefs

	* style/cleveref.el ("cleveref"): Fix name of macros \lcnamecref
	and \lcnamecrefs.

2016-12-30  Arash Esbati  <arash.esbati@gmail.com>

	Add fontification for varioref's referencing macros

	* font-latex.el (font-latex-built-in-keyword-classes): Add starred
	version to \vref macro.

	* style/varioref.el ("varioref"): Add fontification support for
	referencing macros.

2016-12-30  Arash Esbati  <arash.esbati@gmail.com>

	Add starred version of \citeauthor and \Citeauthor

	* font-latex.el (font-latex-built-in-keyword-classes):
	* style/biblatex.el ("biblatex"): Add starred version of
	\citeauthor and \Citeauthor macros.

2016-12-30  Arash Esbati  <arash.esbati@gmail.com>

	Fix fontification for natbib compat macros

	* style/biblatex.el ("biblatex"): Fix fontification for natbib
	compat macros which take 2 optional arguments.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add \switchcolumn to paragraph commands

	* style/paracol.el ("paracol"): Add \switchcolumn to paragraph
	commands.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/titletoc.el

	* style/titletoc.el: New file.

	* Makefile.in (STYLESRC): Add new style.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/titlesec.el

	* Makefile.in (STYLESRC): Add new style.

	* style/titlesec.el: New file.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/titleps.el

	* Makefile.in (STYLESRC): Add new style.

	* style/titleps.el: New file.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/mdframed.el

	* Makefile.in (STYLESRC): Add new style.

	* style/mdframed.el: New file.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Add new tcolorbox library style/tcolorboxlib-raster.el

	* Makefile.in (STYLESRC): Add new style.

	* style/tcolorboxlib-raster.el: New file.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Update style/tcolorbox.el to package v3.96

	* style/tcolorbox.el: Update style to package v3.96.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Query for optional float position

	* style/newfloat.el (LaTeX-newfloat-auto-cleanup): Query for
	optional float position.

2016-12-29  Arash Esbati  <arash.esbati@gmail.com>

	Improve inserting arguments of \captionof macro

	* style/caption.el (LaTeX-arg-caption-captionof): New function
	improving query and insert of caption and label acc. to float
	type.
	("caption"): Use it.

2016-12-29  Mosè Giordano  <mose@gnu.org>

	Fix documentation of TeX-arg-file

	* doc/auctex.texi (Adding Macros): `TeX-arg-file' does not strip
	  extension.  Reported by Tyler Smith.  Fixes bug#24444.

2016-12-26  Uwe Brauer  <oub@mat.ucm.es>

	Make AUCTeX and RefTeX aware of file loading macro \subfile

	* style/subfiles.el ("subfiles"): Make subfile macro be recognized
	as a paragraph command.  For AUCTeX, add argument of subfile to
	`TeX-auto-file'.  For RefTeX, append subfile to
	`reftex-include-file-commands' and run `reftex-compile-variables'
	only once.  Code rearrangement.

2016-12-24  Mosè Giordano  <mose@gnu.org>

	Print only first line of the message in error overview

	* tex-buf.el (TeX-error-overview-make-entries): Use `push' in place of
	  `add-to-list'.  Print only the first line of the message.

2016-12-23  Arash Esbati  <arash.esbati@gmail.com>

	Mention improvements to `LaTeX-array-count-columns' in news

	* doc/changes.texi: Mention improvements to
	`LaTeX-array-count-columns' in news since 11.89.

2016-12-23  Arash Esbati  <arash.esbati@gmail.com>

	Extend test for new column counting code with style files loaded

	* tests/latex/tabular-count-ampersands-out.tex:
	* tests/latex/tabular-count-ampersands-in.tex: Add tests for
	tabularx, tabulary, longtable, dcolumn, siunitx constructs.

	* tests/latex/latex-test.el
	(LaTeX-count-ampersands-inserted-in-tabular): Set `TeX-parse-self'
	to t in order to load style files in the test.  Thanks to Mosè
	Giordano for enabling this feature.

2016-12-22  Arash Esbati  <arash.esbati@gmail.com>

	Update style/minted.el to package version 2.4.1.

	* style/minted.el (LaTeX-minted-key-val-options): Add new key=vals
	from package version 2.4.1.
	(LaTeX-minted-key-val-options-local): New variable.
	(LaTeX-minted-language-list): Set the variable
	`LaTeX-minted-language-list' after the first call of function.
	(LaTeX-minted-style-list): New variable.
	(LaTeX-minted-style-list): New function analogous to
	`LaTeX-minted-language-list' returning styles provided by
	pymentize program.
	(LaTeX-arg-minted-style): New function to insert styles provided
	by pymentize program into buffer.
	(LaTeX-minted-update-key-vals): New function to update key=vals in
	`LaTeX-minted-key-val-options-local'.
	(LaTeX-minted-auto-cleanup): Call `LaTeX-minted-update-key-vals'.
	("minted"): Use `LaTeX-minted-key-val-options-local' for all
	key=val queries.  Update macros incl. fontification.  Run style
	hook for `newfloat' when package option is given.

2016-12-22  Tassilo Horn  <tsdh@gnu.org>

	Uniform font-lock updates/don't break prettify (bug#25245)

	* font-latex.el (font-latex-update-font-lock): New function.
	(font-latex-add-keywords): Use it.
	(font-latex-after-hacking-local-variables): Use it.
	* style/alltt.el: Use font-latex-update-font-lock.
	* style/beamer.el: Ditto.
	* style/comment.el: Ditto.
	* style/expl3.el: Ditto.
	* style/fancyhdr.el: Ditto.
	* style/fancyvrb.el: Ditto.
	* style/listings.el: Ditto.
	* style/minted.el: Ditto.
	* style/url.el: Ditto.

2016-12-22  Mosè Giordano  <mose@gnu.org>

	Fix to TeX-add-local-master

	* tex.el (TeX-add-local-master): Parse local variables again after
	  calling the mode function, which killed local variables.

2016-12-21  Mosè Giordano  <mose@gnu.org>

	Add style/ directory to TeX-style-path for tests

	* tests/latex/latex-test.el: Add our "style/" directory `TeX-style-path'
	  to make it possible to load style files inside tests.

2016-12-20  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-add-local-master): Inherit major mode from master file.

2016-12-19  Arash Esbati  <arash.esbati@gmail.com>

	Mention that arguments to *-operator must be in braces

	* doc/auctex.texi (Tabular-like): Mention that the new code for
	counting columns in *{num}{cols} expects num and cols to be
	enclosed in braces.

2016-12-19  Arash Esbati  <arash.esbati@gmail.com>

	Add test for new column counting code

	* tests/latex/tabular-count-ampersands-out.tex:
	* tests/latex/tabular-count-ampersands-in.tex: New files.

	* tests/latex/latex-test.el
	(LaTeX-count-ampersands-inserted-in-tabular): Test new column
	counting code in `LaTeX-array-count-columns'.

2016-12-19  Arash Esbati  <arash.esbati@gmail.com>

	Count *-operator in column specification

	* latex.el (LaTeX-array-count-columns): Detect *-operator in
	column specification and count the arguments for final calculation
	of columns.  Thanks to Ikumi Keita for pointing out this
	deficiency and code to fix it.

2016-12-19  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/dcolumn.el

	* Makefile.in (STYLESRC): Add new style.

	* style/dcolumn.el: New file.

2016-12-19  Arash Esbati  <arash.esbati@gmail.com>

	Accept non-letter characters as column specifier

	* style/array.el (LaTeX-array-newcolumntype-regexp): Accept
	non-letter characters as column specifier.

2016-12-17  Arash Esbati  <arash.esbati@gmail.com>

	Use `LaTeX-item-longtable' while inserting longtable's

	* style/longtable.el (LaTeX-longtable-skipping-regexp): New variable.
	(LaTeX-item-longtable): New function.  This function is a
	variation of `LaTeX-item-array' which uses
	`LaTeX-longtable-skipping-regexp' when inserting ampersands.
	("longtable"): Append longtable to `LaTeX-item-list'.

2016-12-17  Arash Esbati  <arash.esbati@gmail.com>

	Add "s" and "S" to `LaTeX-array-column-letters'

	* style/siunitx.el ("siunitx"): Add column specification letters
	"s" and "S" to `LaTeX-array-column-letters'.

2016-12-17  Arash Esbati  <arash.esbati@gmail.com>

	Append tabular[xy] to `LaTeX-item-list'

	* style/tabulary.el ("tabulary"):
	* style/tabularx.el ("tabularx"): Append tabularx and tabulary to
	`LaTeX-item-list'.

2016-12-06  Arash Esbati  <arash.esbati@gmail.com>

	Support RefTeX with `reftex-add-index-macros' in style/splitidx.el

	* style/splitidx.el ("splitidx"): Support RefTeX with
	`reftex-add-index-macros' and not by appending macros to
	`reftex-index-macros'.

2016-12-06  Arash Esbati  <arash.esbati@gmail.com>

	Support RefTeX with `reftex-add-label-environments' in style/mathtools.el

	* style/mathtools.el (LaTeX-mathtools-auto-cleanup, "mathtools"):
	Support RefTeX with `reftex-add-label-environments' and not by
	appending environments to `reftex-label-alist'.
	("mathtools"): Add fontification support for referencing macros.

2016-12-06  Arash Esbati  <arash.esbati@gmail.com>

	Support RefTeX with `reftex-add-label-environments' in style/empheq.el

	* style/empheq.el ("empheq"): Support RefTeX with
	`reftex-add-label-environments' and not by appending environments
	to `reftex-label-alist'.

2016-12-05  Arash Esbati  <arash.esbati@gmail.com>

	Fix query for defined colors in style/textpos.el

	* style/textpos.el ("textpos"): Use `cond' to check which color
	defining package is loaded and use the respective function for
	`completing-read'.

2016-12-05  Arash Esbati  <arash.esbati@gmail.com>

	Fix query for defined colors in style/ntheorem.el

	* style/ntheorem.el ("ntheorem"): Use `cond' to check which color
	defining package is loaded and use the respective function for
	`completing-read'.

2016-11-30  Arash Esbati  <arash.esbati@gmail.com>

	Add support for LaTeX core command \textsubscript

	* font-latex.el (font-latex-built-in-keyword-classes):
	* latex.el (LaTeX-common-initialization): Add entry for
	"textsubscript" which is in LaTeX core since 2015/01/01.

2016-11-28  Arash Esbati  <arash.esbati@gmail.com>

	Do not spell-check arguments of \LTXtable

	* tex-ispell.el (TeX-ispell-skip-cmds-list): Add entry for
	\LTXtable.

2016-11-28  Arash Esbati  <arash.esbati@gmail.com>

	Add \LTXtable to list of file-loading commands

	* style/ltxtable.el (LaTeX-ltxtable-file-regexp): New variable.
	("ltxtable"): Make AUCTeX and RefTeX aware of \LTXtable as file
	loading command.
	Add fontification support.

2016-11-25  Arash Esbati  <arash.esbati@gmail.com>

	Support new floats defined with newfloat package

	* style/caption.el (LaTeX-caption-update-key-val-options): Append
	new floating environments defined with "newfloat.sty" as values to
	"type*?" keys in `LaTeX-caption-key-val-options-local'.

2016-11-25  Arash Esbati  <arash.esbati@gmail.com>

	Append entry to `LaTeX-label-alist' for new "verbatim" floats

	* style/newfloat.el (LaTeX-newfloat-auto-cleanup): Append an entry
	for parsed environments of "verbatim" type to `LaTeX-label-alist'.

2016-11-24  Arash Esbati  <arash.esbati@gmail.com>

	Insert \label inside the mandatory argument of \caption

	* style/longtable.el ("longtable"): Append \label at the end of
	caption text inside the mandatory argument.
	(LaTeX-longtable-package-options): New variable to suppress the
	query for package options.

2016-11-24  Uwe Brauer  <oub@mat.ucm.es>

	Add style file for subfiles package.

	* Makefile.in (STYLESRC): add subfiles.el entry

	* style/subfiles.el ("subfiles"): add new style.

2016-11-23  Mosè Giordano  <mose@gnu.org>

	Min fix to kpfonts package

	* style/kpfonts.el ("kpfonts"): Move setting of `TeX-font-list' inside
	  the hook.

2016-11-23  Mosè Giordano  <mose@gnu.org>

	Add style file for amsfonts package

	* style/amsfonts.el: New file.
	* Makefile.in (STYLESRC): Install it.
	* style/amssymb.el ("amssymb"): Run `amsfonts' hook.

2016-11-21  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/bicaption.el

	* Makefile.in (STYLESRC): Add new style.

	* style/bicaption.el: New file.

2016-11-21  Arash Esbati  <arash.esbati@gmail.com>

	Add support for style/bicaption.el to style/caption.el

	* style/caption.el (LaTeX-caption-supported-float-types): Add
	supported caption types available with bicaption.el.
	("caption"): Append key=vals from bicaption.el to
	`LaTeX-caption-key-val-options-local'.
	("caption"): Query for a second optional argument with
	\captionsetup*? if bicaption.el is loaded.  Same for
	fontification.

2016-11-21  Arash Esbati  <arash.esbati@gmail.com>

	Do not insert a new line if \label is omitted

	* style/subcaption.el (LaTeX-arg-subcaption-subcaption): Insert a
	new line only if \label is given.

2016-11-18  Arash Esbati  <arash.esbati@gmail.com>

	Improve caption and label insertion in style/caption.el

	* style/caption.el (LaTeX-caption-key-val-options): Add key slc
	which is an abbrev for singlelinecheck.
	(LaTeX-arg-caption-captionbox): Delete unused prompt argument.
	Ask for short caption acc. to the value of
	`LaTeX-short-caption-prompt-length'.  Use `LaTeX-label' instead of
	`TeX-insert-macro' to insert a label.  Use `TeX-argument-insert'
	instead of conditional insert.
	("caption"): Do not fontify the last argument of \captionbox.
	Fontification happens within \begin...\end{tabular} or
	\includegraphics.

2016-11-18  Arash Esbati  <arash.esbati@gmail.com>

	Improve caption and label insertion in style/subcaption.el

	* style/subcaption.el (LaTeX-arg-subcaption-subcaption): Delete
	unused prompt argument.  Ask for short caption acc. to the value
	of `LaTeX-short-caption-prompt-length'.  Fill the inserted
	sub-caption before using `LaTeX-label' to insert the label.
	(LaTeX-arg-subcaption-subcaptionbox): Delete unused prompt
	argument.  Ask for short caption acc. to the value of
	`LaTeX-short-caption-prompt-length'.  Use `LaTeX-label' to insert
	the label.  Use `TeX-argument-insert' instead of conditional
	insert.
	("subcaption"): Append package environments to `LaTeX-label-alist'.
	("subcaption"): Do not fontify the last argument of
	\subcaptionbox.  Fontification happens within
	\begin...\end{tabular} or \includegraphics.

2016-11-16  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/FiraSans.el

	* Makefile.in (STYLESRC): Add new style.

	* style/FiraSans.el: New file.

2016-11-16  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/FiraMono.el

	* Makefile.in (STYLESRC): Add new style.

	* style/FiraMono.el: New file.

2016-11-14  Mosè Giordano  <mose@gnu.org>

	Suggest to display warnings when there are no errors in error overview

	* tex-buf.el (TeX-error-overview): When there are no errors, suggest to
	  display warnings and bad boxes, if present.  Fixes bug #24877.

2016-11-04  Tassilo Horn  <tsdh@gnu.org>

	Refresh font-latex fontification if vars are modified

	Refresh font-latex fontification if variables such as
	LaTeX-verbatim-*-local are set in a file-local variables block or as
	directory-local variables (bug#24868).

	* font-latex.el (font-latex-after-hacking-local-variables): New function.
	(font-latex-setup): Add it do hack-local-variables-hook.
	* tex.el (TeX--list-of-string-p): New function.
	* latex.el (LaTeX-verbatim-environments-local):
	(LaTeX-verbatim-macros-with-braces-local):
	(LaTeX-verbatim-macros-with-delims-local): Use it for
	safe-local-variable property.

2016-11-02  Arash Esbati  <arash.esbati@gmail.com>

	Update style/natbib.el to package version 8.31b

	* style/natbib.el ("natbib"): Add missing macros to catch up with
	package version 8.31b.  Rearrange code.
	(LaTeX-arg-natbib-notes): Remove redundant check if
	`TeX-arg-cite-note-p' is non-nil.

2016-10-17  Tassilo Horn  <tsdh@gnu.org>

	Make Copyright headers conforming to convention

2016-10-17  Arash Esbati  <arash.esbati@gmail.com>

	Do not insert unnecessary brackets for citation macros

	* style/natbib.el (LaTeX-arg-natbib-notes): Rename function name
	from `natbib-note-args'.
	Improve the insertion of arguments in order not to have an empty
	pair of brackets when both pre- and post-note are omitted.
	("natbib"): Replace occurrence of `natbib-note-args' with
	`LaTeX-arg-natbib-notes'.

2016-10-17  Arash Esbati  <arash.esbati@gmail.com>

	Use `TeX-argument-insert' instead of conditional `insert'

	* style/biblatex.el (LaTeX-arg-biblatex-natbib-notes): Use
	`TeX-argument-insert' instead of `insert' for arguments
	insertion.

2016-10-16  Arash Esbati  <arash.esbati@gmail.com>

	Add support for natbib macros to style/biblatex

	* style/biblatex.el (LaTeX-arg-biblatex-natbib-notes): New
	function.
	("biblatex"): Add completion and fontification support for natbib
	compatibility macros.

2016-10-14  Tassilo Horn  <tsdh@gnu.org>

	Manually merge changes that were only on the elpa branch

2016-10-13  Tassilo Horn  <tsdh@gnu.org>

	Fix TeX--if-macro-fboundp edebug spec

	* tex.el (TeX--if-macro-fboundp): Fix broken edebug spec.

2016-09-27  Mosè Giordano  <mose@gnu.org>

	Fix to my previous commit

	* tex-buf.el (TeX-BibTeX-sentinel): Fix misplaced `setq', it was inside
	  the `cond' form while it should have been outside.

2016-09-19  Tassilo Horn  <tsdh@gnu.org>

	Improve docs added/changed in last commit

	* doc/auctex.texi (Display): Rewrite WYSIWYG paragraph and add
	references.
	(Fontification of math): Switch order in which multi-level and invisible
	are introduced.  Fix misplaced @xref.

2016-09-19  Uwe Brauer  <oub@mat.ucm.es>

	Add information about prettify and semi WYSIWYG features.

	* doc/auctex.texi (Display): Add a sentence about
	prettify-symbols-unprettify-at-point.
	(Fontification of math): add `invisible' to
	`font-latex-fontify-script'.

2016-09-18  Tassilo Horn  <tsdh@gnu.org>

	Don't require \end{env} is on a separate line

	* font-latex.el (font-latex-make-user-keywords):
	(font-latex-set-syntactic-keywords): Don't require that \end{env} is on
	a line of its own.  Also allow empty mandatory argument in verbatim
	environments.

2016-09-18  Mosè Giordano  <mose@gnu.org>

	Fix default command after running BibTeX with warnings

	* tex-buf.el (TeX-BibTeX-sentinel): Always set `TeX-command-next' to
	  `TeX-command-default'.  As it was before, if BibTeX issued
	  warnings (or errors) the default next command would have been "View",
	  which is in no case what the user would expect.  This is the same
	  logic used in Biber sentinel (which has, in addition, a fatal error
	  after which Biber is run again).

2016-09-18  Tassilo Horn  <tsdh@gnu.org>

	Improve font-locking of verbatim environments

	* font-latex.el (font-latex-set-syntactic-keywords): Handle case where
	  verbatim content immediately follows \begin{verb-env}.

2016-09-17  Uwe  <oub@mat.ucm.es>

	Improve style/bidi and add make file entry.

	* Makefile.in (STYLESRC): add bidi.el

	* style/bidi.el ("bidi"): New file.

2016-09-17  Arash Esbati  <arash.esbati@gmail.com>

	Improve style/graphicx.el

	* doc/changes.texi: Document the changes about graphicx.el.

	* tex-style.el (LaTeX-includegraphics-options-alist): Remove the
	now no-op variable.

	* style/graphics.el ("graphics"): Set
	`LaTeX-graphics-package-options' after running hooks for
	graphicx.el.

	* style/graphicx.el (LaTeX-graphicx-key-val-options)
	(LaTeX-includegraphics-dvips-extensions)
	(LaTeX-includegraphics-pdftex-extensions)
	(LaTeX-includegraphics-xetex-extensions)
	(LaTeX-graphicx-package-options): New variables.
	(LaTeX-arg-graphicx-includegraphics-key-val): New function.
	(LaTeX-includegraphics-extensions): Return extensions for input
	files depending on the used engine.
	(LaTeX-arg-includegraphics): Only query for the image file to
	include.  The query for the optional key-val argument is now done
	by `LaTeX-arg-graphicx-includegraphics-key-val'.
	("graphicx"): Extend the query for commands \resizebox[*].
	Commands shared with graphics.el are guarded respectively.
	Add missing commands \graphicspath, \DeclareGraphicsExtensions and
	\DeclareGraphicsRule.

2016-09-14  Stefan Monnier  <monnier@iro.umontreal.ca>

	Cherry-pick 9c24759a96f41e288841ec2e815d62d58dc01e7a from elpa branch

	* tex-ispell.el (TeX-ispell-sort-skip-cmds-list): Drop symbol-value

	* tex-site.el.in (TeX-modes): Use #'.

2016-09-04  Mosè Giordano  <mose@gnu.org>

	Do not use a function from cl

	* tex-buf.el (TeX-parse-TeX): Do not use the `signum' function, provided
	  by `cl' library.

2016-09-02  Mosè Giordano  <mose@gnu.org>

	Fix type of ConTeXt-Mark-version option

	* context.el (ConTeXt-Mark-version): Fix the type, it was wrongly set
	  with a string in place of a symbol.  Reported by Tobias Berndt.

2016-09-01  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/menukeys.el

	* Makefile.in (STYLESRC): Add new style.

	* style/menukeys.el: New file.

2016-09-01  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/paracol.el

	* Makefile.in (STYLESRC): Add new style.

	* style/paracol.el: New file.

2016-09-01  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/framed.el

	* Makefile.in (STYLESRC): Add new style.

	* style/framed.el: New file.

2016-08-31  Arash Esbati  <arash.esbati@gmail.com>

	Use `TeX-ispell-skip-setcar' on user defined index macros

	* style/splitidx.el (LaTeX-splitidx-newindex-regex): Replace wrong
	`^}' with `^]'.
	(LaTeX-splitidx-auto-cleanup, "splitidx"): Use
	`TeX-ispell-skip-setcar' on user defined index macros.

2016-08-31  Arash Esbati  <arash.esbati@gmail.com>

	Use `TeX-ispell-skip-setcdr' on user defined listing environments

	* style/listings.el (LaTeX-listings-auto-cleanup): Use
	`TeX-ispell-skip-setcdr' on user defined lists.

2016-08-31  Arash Esbati  <arash.esbati@gmail.com>

	Use `TeX-ispell-skip-setcdr' on user defined list environments

	* style/enumitem.el (LaTeX-enumitem-auto-cleanup): Use
	`TeX-ispell-skip-setcdr' on user defined lists.
	("enumitem"): Use `TeX-ispell-skip-setcdr' on user defined lists.
	Use `TeX-argument-insert' instead of `insert'.

2016-08-25  Ikumi Keita  <ikumi@ikumi.que.jp>

	Revise document for Japanese TeX

	Revise document for Japanese TeX
	* doc/auctex.texi (Language Support): Fix old statements.  Mention
	about (semi-)obsolete variables japanese-(La)TeX-command-default,
	japanese-TeX-command-list and recommend to use
	japanese-TeX-engine-default instead.

2016-08-25  Ikumi Keita  <ikumi@ikumi.que.jp>

	Add a Japanese error message translation

	* tex-jp.el (TeX-error-description-list): Add a Japanese error
	message translation.

2016-08-25  Ikumi Keita  <ikumi@ikumi.que.jp>

	Set the right coding systems for Japanese TeX process

	Set the right coding systems for Japanese TeX process

	* tex-jp.el:
	(LaTeX-command-style): Remove kanji option from uplatex and jlatex,
	which was there by mistake.
	(TeX-japanese-process-input-coding-system,
	TeX-japanese-process-output-coding-system,
	japanese-TeX-set-process-coding-system): The coding systems for
	interacting with Japanese TeX vary with the OS and other
	circumstances.  So choose the suitable coding system at run time
	rather than using the fixed values.
	(japanese-TeX-use-kanji-opt-flag): Declare before the first use.
	In addition, change default value and tailor doc string as per the
	above change.
	(japanese-TeX-coding-ejsu): Add coding system compatible for emacs
	21 and xemacs.

2016-08-24  Mosè Giordano  <mose@gnu.org>

	Make TeX-previous-error go backward

	* tex-buf.el (TeX-parse-TeX): Decrease `TeX-error-last-visited' when
	  `arg' is negative.  This fixes the behavior of `TeX-previous-error'.

2016-08-23  Arash Esbati  <arash.esbati@gmail.com>

	Update style/mathtools.el to v1.18 of mathtools.sty

	* style/mathtools.el (LaTeX-mathtools-package-options): Add
	"nonrobust" option.
	(LaTeX-mathtools-key-val-options): Add missing key=vals.  Insert a
	period in doc string.
	(LaTeX-mathtools-arg-mathstyle-completion)
	(LaTeX-mathtools-arg-mathsize-completion)
	(LaTeX-mathtools-arg-declarepaireddelimiter)
	(LaTeX-mathtools-env-cases)
	(LaTeX-mathtools-item-cases): New functions.
	(LaTeX-mathtools-env-multlined): Add an empty pair of square
	brackets if only the second optional argument is given.
	("mathtools"): Update commands and environments in style hook.
	(LaTeX-mathtools-env-matrix-starred)
	(LaTeX-mathtools-env-spreadlines): Delete functions.  Use
	["string"] when adding environments in `LaTeX-add-environments'.

2016-08-21  Mosè Giordano  <mose@gnu.org>

	Fold environments with * in name

	* tex-fold.el (TeX-fold-item): Add asterisk to the regexp matching LaTeX
	  environment names.  Fixes bug#24263.

2016-08-21  Mosè Giordano  <mose@gnu.org>

	Remove obsolete TeX-function-p function

	* tex.el (TeX-function-p): Remove this function.  It was introduced here
	  in AUCTeX in 1994, but is present in Emacs since 1997 as well, under
	  the name `functionp'.  Fixes bug#24245.
	* tex-buf.el (TeX-command-expand): Replace `TeX-function-p' with
	  `functionp'.

2016-08-14  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/empheq.el

	* Makefile.in (STYLESRC): Add new style.

	* style/empheq.el: New file.

2016-08-10  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/commath.el

	* Makefile.in (STYLESRC): Add new style.

	* style/commath.el: New file.

2016-08-02  Arash Esbati  <arash.esbati@gmail.com>

	Add new style/pdflscape.el

	* Makefile.in (STYLESRC): Add new style.

	* style/pdflscape.el: New file.

2016-07-22  Arash Esbati  <arash.esbati@gmail.com>

	Document interaction with Ispell

	* doc/auctex.texi (Selecting a Command): Document interaction with Ispell.

2016-07-18  Arash Esbati  <arash.esbati@gmail.com>

	Add new spell checking dictionary tex-ispell.el

	* doc/todo.texi (Wishlist): Remove spell checking of macros from
	wish list.

	* doc/changes.texi: Mention new file tex-ispell.el in news since
	11.89.
	Fix typo.

	* Makefile.in (AUCSRC): Add tex-ispell.el.

	* latex.el (tex-ispell): Require tex-ispell.el.

	* tex.el (TeX-ispell-extend-skip-list): New customizable variable.
	(TeX-ispell-skip-setcar, TeX-ispell-skip-setcdr): New functions.
	(TeX-ispell-tex-arg-end): New function.

	* tex-ispell.el: Add new file.

2016-07-08  Arash Esbati  <arash.esbati@gmail.com>

	Reset `LaTeX-auto-xcolor-definecolorset' before parsing

	* style/xcolor.el (LaTeX-xcolor-auto-prepare): Reset
	`LaTeX-auto-xcolor-definecolorset' before parsing.
	Improve comments.

2016-07-08  Arash Esbati  <arash.esbati@gmail.com>

	Fix doc string for curve quoting style in Emacs 25

	* style/theorem.el (LaTeX-theorem-env-label):
	* style/ntheorem.el (LaTeX-ntheorem-env-label):
	* style/amsthm.el (LaTeX-amsthm-env-label): Fix doc string for new
	text quoting style in Emacs 25.

2016-06-29  Arash Esbati  <arash.esbati@gmail.com>

	Catch up with deletion of \commondummies in texinfo.tex

	* doc/macros.texi: Catch up with deletion of \commondummies in
	texinfo.tex which is replaced with \definedummies.  Check which
	command is defined and add AUCTeX definitions respectively.

2016-06-28  Masayuki Ataka  <masayuki.ataka@gmail.com>  (tiny change)

	Fix to doc/auctex.texi

	* doc/auctex.texi (Prettifying): Insert missing '{}'.

2016-06-27  Mosè Giordano  <mose@gnu.org>

	Change test for PDF Tools availability

	* tex.el (TeX-pdf-tools-sync-view): Change test for PDF Tools
	  availability, in order to make it possible to postpone loading of the
	  package, for example when using "use-package".  Fixes bug#23803.

2016-06-11  Tassilo Horn  <tsdh@gnu.org>

	More about TeX-raise-frame-function

	* doc/auctex.texi (I/O Correlation): Improve TeX-raise-frame-function
	docs.
	* doc/changes.texi: Mention TeX-raise-frame-function.
	* tex.el (TeX-raise-frame-function): Use raise-frame as default value.

2016-06-11  Tassilo Horn  <tsdh@gnu.org>

	Document TeX-raise-frame-function

	* doc/auctex.texi (I/O Correlation): Document TeX-raise-frame-function.

2016-06-10  Tassilo Horn  <tsdh@gnu.org>

	New defcustom TeX-raise-frame-function

	* tex.el (TeX-raise-frame-function): New defcustom.
	(TeX-source-correlate-sync-source): Use it.

2016-06-04  Uwe Brauer  <oub@mat.ucm.es>

	Document how to disable filling for specific environments

	* latex.el (LaTeX-indent-environment-list): Mention in docstring that
	environments listed here are not filled.
	(LaTeX-fill-region-as-paragraph): Add information to the docstring
	concerning excluding enviroments from that function by using
	`LaTeX-indent-environment-list'.  Suggested by Uwe Brauer.

2016-05-31  Mosè Giordano  <mose@gnu.org>

	Fix compatibility with GNU Emacs < 24

	* tex.el (TeX-source-correlate-sync-source): Call `x-focus-frame' only
	  when it is available.

2016-05-29  Tassilo Horn  <tsdh@gnu.org>

	Grab focus on Evince inverse search

	* tex.el (TeX-source-correlate-sync-source): Call `x-focus-frame'.

2016-05-29  Tassilo Horn  <tsdh@gnu.org>

	Don't use non-existing custom-buffer-done-function

	* tex-wizard.el (TeX-wizard): Use `kill-buffer-hook' and
	`custom-buffer-done-kill' instead of `custom-buffer-done-function' which
	has been removed from Emacs a long time ago.

2016-05-27  Tassilo Horn  <tsdh@gnu.org>

	Docs for prettification with Emacs 25+

	* doc/auctex.texi (Prettifying): Document prettification.

2016-05-27  Stefan Monnier  <monnier@IRO.UMontreal.CA>

	Fix byte-compiler warnings.

	* context.el: Fix some byte-compiler warnings.
	* tex-buf.el: Ditto.
	* tex-jp.el: Ditto.
	* tex-mik.el: Ditto.
	* toolbar-x.el: Ditto.

2016-05-24  Tassilo Horn  <tsdh@gnu.org>

	Fix copyright header of tex-jp.el

	* tex-jp.el: Fix Copyright and Author headers.

2016-05-22  Tassilo Horn  <tsdh@gnu.org>

	Convert ChangeLog.1 to UTF-8

	* ChangeLog.1: Convert to UTF-8 and adjust encoding cookie.

2016-05-22  Tassilo Horn  <tsdh@gnu.org>

	Make ChangeLog UTF-8

	* ChangeLog-preview.1: Convert to UTF-8.
	* build-aux/gitlog-to-auctexlog: Remove iconv call for converting
	  ChangeLog to ISO-8859-1.

2016-05-21  Mosè Giordano  <mose@gnu.org>

	Append environment indentation rules to LaTeX-indent-environment-list

	* style/alltt.el ("alltt"): Append indentation rule to
	  `LaTeX-indent-environment-list' in order not to override custom
	  settings.  Reported by François Patte.
	* style/beamer.el ("beamer"): Ditto.
	* style/doc.el ("doc"): Ditto.
	* style/fancyvrb.el ("fancyvrb"): Ditto.
	* style/filecontents.el ("filecontents"): Ditto.
	* style/hyperref.el ("hyperref"): Ditto.
	* style/listings.el (LaTeX-listings-auto-cleanup, "listings"): Ditto.
	* style/longtable.el ("longtable"): Ditto.
	* style/minted.el (LaTeX-minted-auto-cleanup, "minted"): Ditto.
	* style/tabularx.el ("tabularx"): Ditto.
	* style/tabulary.el ("tabulary"): Ditto.

2016-05-18  Arash Esbati  <esbati@gmx.de>

	Respect both "xcolor" and "color" for command queries

	* style/textpos.el ("textpos"): Remove "color" from
	`TeX-run-style-hooks'.
	("textpos"): Respect both "xcolor" and "color" for query to
	"textblockcolour" and "textblockrulecolour" commands.

2016-05-18  Arash Esbati  <esbati@gmx.de>

	Respect both "xcolor" and "color" for query to "shadecolor"

	* style/ntheorem.el ("ntheorem"): Respect both "xcolor" and
	"color" for query to "shadecolor" command.

2016-05-18  Arash Esbati  <esbati@gmx.de>

	Adjust query commands for loading by xcolor.el

	* style/colortbl.el ("colortbl"): Run style hook for "color" only
	if "xcolor" is not an active style.
	("colortbl"): Check if "xcolor" is an active style and run
	(TeX-arg-xcolor) or (TeX-arg-color) respectively to query for the
	arguments.

2016-05-18  Arash Esbati  <esbati@gmx.de>

	Run `TeX-add-symbols' if "xcolor" is not an active style

	* style/color.el ("color"): Check if "xcolor" is an active style
	and then run `TeX-add-symbols' on commands defined by "color.sty"
	and add fontification support.

2016-05-18  Arash Esbati  <esbati@gmx.de>

	Add new style/xcolor.el

	* Makefile.in (STYLESRC): Add new style xcolor.el.

	* style/xcolor.el: Add new file.

2016-05-15  Tassilo Horn  <tsdh@gnu.org>

	Make TeX-view work better with regions

	* tex-buf.el (TeX-region-update-point): New function which sets point in
	the region buffer so that it matches the location of point in the
	current buffer.
	(TeX-view): Use it.

2016-05-14  Arash Esbati  <esbati@gmx.de>

	Improve the insertation of "macro" environment

	* style/doc.el (LaTeX-env-no-comment): Check if argument
	`environment' is "macro" and query/insert a name prefixed with
	`TeX-esc'.
	(LaTeX-doc-after-insert-macrocode): Add "macro" environment.
	("doc"): Run `LaTeX-env-no-comment' when "macro" environment is
	inserted.

2016-05-14  Mosè Giordano  <mose@gnu.org>

	Use commit date for package date also in configure

	* aclocal.m4 (AC_DATE_VERSION_FROM_CHANGELOG): Use commit date rather
	  than author date.

2016-05-14  Ikumi Keita  <ikumi@ikumi.que.jp>

	Tweak mode name only when file local variable is enabled.

	* tex-jp.el (japanese-plain-tex-mode-initialization)
	  (japanese-latex-mode-initialization): Tweak mode name only
	  when `enable-local-variables' is non-nil.

2016-05-12  Ikumi Keita  <ikumi@ikumi.que.jp>

	Adapt for upLaTeX

	* tex-buf.el (TeX-LaTeX-sentinel): Accept banner line of upLaTeX.
	* tex-jp.el (japanese-LaTeX-style-list): Add class file for upLaTeX.
	* tex.el (TeX-format-list): Make upLaTeX class file names lead to
	  `japanese-latex-mode'.

2016-05-09  Mosè Giordano  <mose@gnu.org>

	Do not check TeX engine with ifluatex package

	* style/ifluatex.el ("ifluatex"): Set `TeX-check-engine-list' to nil so
	  that the engine is not checked when this package is loaded.

2016-05-09  Mosè Giordano  <mose@gnu.org>

	Check TeX engine only once

	* tex-buf.el (TeX-check-engine): If user does not want to change engine,
	  do not ask again.  Suggested by Joost Kremers.

2016-05-09  Mosè Giordano  <mose@gnu.org>

	Use commit date to determine package date

	* autogen.sh (AUCTEXDATE): Use commit date, rather than author date, to
	  determine package date.

2016-05-09  Arash Esbati  <esbati@gmx.de>

	Insert braces after some macros and \relax after \ProcessOptions

	* style/ltx-base.el ("ltx-base"): Insert a pair of braces after
	"DeclareOption*", "AtEndOfPackage", "AtEndOfClass",
	"AtBeginDocument" and "AtEndDocument".
	Insert a "\relax" after "ProcessOptions".

2016-05-09  Arash Esbati  <esbati@gmx.de>

	Improve style/doc.el

	* style/doc.el ("doc"): Do not indent the content inside the "macro"
	environment.
	Insert a pair of braces after "DoNotIndex", "StopEventually",
	"MacroFont", "AltMacroFont".
	Prefix the string read with TeX-esc when inserting
	"DescribeMacro", "cmd".
	Ask for an argument ("parg", "oarg", "marg", "meta").
	Add missing macro "cs".
	Delete dups ("MacroFont", "AltMacroFont", "theCodelineNo").
	Ask for .fdd and .dtx files to input or include ("DocInput",
	"DocInclude").
	Add lengths "MacrocodeTopsep", "MacroTopsep", "MacroIndent".

2016-05-06  Mosè Giordano  <mose@gnu.org>

	Allow for negative offsets in region backward search

	* tex.el (TeX-source-correlate-handle-TeX-region): Use the same regexp
	  used in `preview-parse-messages', that is also XEmacs compatible and
	  allows for negative offsets.  This makes backward search work also
	  when using `TeX-command-buffer' and `LaTeX-command-section'.  Reported
	  by Qiang Yin.

2016-04-28  Ikumi Keita  <ikumi@ikumi.que.jp>

	Enable directory local variables in japanese-{latex, plain-tex}-mode

		* tex-jp.el (japanese-latex-mode-initialization): Set
		`major-mode' to `japanese-latex-mode' and reset it to
		`latex-mode' after `hack-local-variables' is done.
		(japanese-plain-tex-mode-initialization): Similar changes
		for `japanese-plain-tex-mode'.
		(japanese-TeX-reset-mode-name): New function.
		(top-level) Make `latex-mode' is regarded as parent of
		`japanese-latex-mode' in directory local variables.  Similar
		addition for `japanese-plain-tex-mode', too.

2016-04-23  Ikumi Keita  <ikumi@ikumi.que.jp>

	Make unloading of tex-site work on Emacs 24

	* tex-site.el.in (tex-site-unload-hook): Run `TeX-modes-set' when
	  `advice-add' is defined.

2016-04-20  Mosè Giordano  <mose@gnu.org>

	Fix TeX-error-overview-make-entries

	* tex-buf.el (TeX-error-overview-make-entries): Add `active-buffer'
	  optional argument.  If `TeX-error-overview-open-after-TeX-run' is
	  non-nil and there is an error, TeX sentinels run this function but
	  `TeX-error-overview-active-buffer' hadn’t been initialized yet.  Fixes
	  bug#23318.

2016-04-19  Mosè Giordano  <mose@gnu.org>

	Call TeX-newline-function interactively

	* tex.el (TeX-newline): Replace `funcall' with `call-interactively'.
	  This makes `electric-indent-mode' work out-of-the-box.  Suggested by
	  alex (http://comments.gmane.org/gmane.emacs.auctex.devel/4631).

2016-04-19  Ikumi Keita  <ikumi@ikumi.que.jp>

	Temporarily bind `TeX-insert-macro-default-style' to 'show-optional-args'

	* latex.el (LaTeX-item-argument): Temporarily bind
	`TeX-insert-macro-default-style' to 'show-optional-args'.
	This is necessary in description environment if the user customize the
	option to `mandatory-args-only'.

2016-04-17  Mosè Giordano  <mose@gnu.org>

	Reword documentation of TeX-PDF-from-DVI

	* doc/auctex.texi (Processor Options): Make information about Japanese
	  documents more accurate.  Suggested by Ikumi Keita.

2016-04-16  Mosè Giordano  <mose@gnu.org>

	Replace TeX-PDF-via-dvips-ps2pdf with TeX-PDF-from-DVI

	* tex.el (TeX-command-list): Add Dvipdfmx.
	(TeX-expand-list-builtin): Use `TeX-PDF-from-DVI' in place of
	`TeX-PDF-via-dvips-ps2pdf'.
	(TeX-PDF-from-DVI): New safe buffer-local and customizable variable.
	(TeX-PDF-via-dvips-ps2pdf): Mark as obsolete.
	(TeX-toggle-PDF-via-dvips-ps2pdf): Remove function.
	(TeX-PDF-from-DVI): New function.
	(TeX-mode-specific-command-menu-entries): Update menu to convert DVI to
	PDF.
	* tex-buf.el (TeX-command-default, TeX-run-set-command,
	TeX-TeX-sentinel, TeX-TeX-sentinel-check, TeX-LaTeX-sentinel,
	TeX-dvips-sentinel, TeX-ps2pdf-sentinel): Use `TeX-PDF-from-DVI' in
	place of `TeX-PDF-via-dvips-ps2pdf'.
	(TeX-run-dvipdfmx, TeX-dvipdfmx-sentinel): New function.
	():
	* doc/auctex.texi (Processor Options): Document `TeX-PDF-from-DVI' and
	  remove mentions to `TeX-PDF-via-dvips-ps2pdf'
	* doc/changes.texi: Mention `TeX-PDF-from-DVI'.

2016-04-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use customize option `TeX-region' instead of "_region_"

	* tex-buf.el (TeX-output-revert-buffer): Use customize option
	`TeX-region' instead of string literal "_region_".

2016-04-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `deactivate-input-method' if defined

	* tex.el (TeX-math-input-method-off): Use `deactivate-input-method'
	instead of obsolete function `inactivate-input-method' when possible.

2016-04-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Use `match-string-no-properties'

	* texmathp.el (texmathp, texmathp-match-environment): For better
	consistency with other parts of the file, change `match-string' to
	`no-properties' variant.

2016-04-16  Ikumi Keita  <ikumi@ikumi.que.jp>

	Fix small errors in doc string and comment

	* tex.el (TeX-auto-add-type): Change the word `function' to `macro'
	and add an `s' to the verb `create'.

	* tex-buf.el (TeX-run-format): Correct a typo `debuger' to `debugger'.

2016-04-14  Mosè Giordano  <mose@gnu.org>

	Fix in TeX sentinels

	* tex-buf.el (TeX-TeX-sentinel, TeX-LaTeX-sentinel): Use
	  `TeX-error-overview-make-entries' to test presence of errors or
	  warnings.  This is the same test carried in `TeX-master-directory' and
	  prevents from getting an error when
	  `TeX-error-overview-open-after-TeX-run' is non-nil but
	  `TeX-debug-warnings' and/or `TeX-debug-bad-boxes' are nil.

2016-04-13  Matthew Leach  <matthew@mattleach.net>

	Auto save `TeX-command-extra-options'.

	* tex.el (TeX-auto-store): Save the value of `TeX-command-extra-options'
	  so it is set project-wide.

2016-04-13  Matthew Leach  <matthew@mattleach.net>

	TikZ: Don't allow relative points with \coordinate.

	* style/tikz.el (TeX-TikZ-point-function-map): Revert back to simple
	  point alist.
	  (TeX-TikZ-relative-point-function-map): New.
	  (TeX-TikZ-draw-arg-function-map): Use
	  `TeX-TikZ-relative-point-function-map'.

2016-04-13  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add the grid command.

	* style/tikz.el (TeX-TikZ-arg-grid): New.
	  (TeX-TikZ-draw-arg-function-map): Map the 'Grid' command to
	  `TeX-TikZ-arg-grid'.

2016-04-13  Matthew Leach  <matthew@mattleach.net>

	Fix a documentation type.

	* doc/auctex.texi (Automatic Local): Fix a documentation typo.

2016-04-13  Mosè Giordano  <mose@gnu.org>

	Prevent infinite loop in TeX-command-expand

	* tex.el (TeX-view-command-raw): This function should always return a
	  string.  Throw an error if fails to do so.  This prevents an infinite
	  loop in `TeX-command-expand' in the case in which `command' is nil
	  because of a malformed viewer specification.
	* tests/tex/command-expansion.el (TeX-view-command-raw-errors): Add
	  tests to trigger errors in `TeX-view-command-raw'.

2016-04-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	Integrate viewer support between tex.el and tex-jp.el

	* tex.el (TeX-view-program-list-builtin): Integrate viewer support
	  between tex.el and tex-jp.el.
	* tex-jp.el : Ditto.

2016-04-09  Mosè Giordano  <mose@gnu.org>

	Do not use add-to-list for let-bound variable

	* style/tikz.el (TeX-TikZ-find-named-points): Replace add-to-list with
	  `push'.

2016-04-09  Mosè Giordano  <mose@gnu.org>

	Compatibility for XEmacs

	* style/tikz.el (TeX-TikZ-single-macro-arg): Pass `function-alist' to
	  `TeX-TikZ-get-arg-type` because XEmacs requires an alist as argument
	  to `completing-read'.

2016-04-08  Matthew Leach  <matthew@mattleach.net>

	TikZ: Remove unneeded function.

	* style/tikz.el (TeX-TikZ-arg-rect-point): Delete.

2016-04-08  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add the 'sin' and 'cos' connectors.

	* style/tikz.el (TeX-TikZ-path-connector-function-map): Add 'sin' and
	  'cos' mapping to `identity'.

2016-04-08  Matthew Leach  <matthew@mattleach.net>

	TikZ: Make '+' and '++' prefixes apply to TikZ points

	* style/tikz.el (TeX-TikZ-get-prefix-string): New.
	  (TeX-TikZ-arg-rect-point): Add optional argument `prefix'.
	  (TeX-TikZ-arg-polar-point): Likewise.
	  (TeX-TikZ-arg-named-point): Likewise.
	  (TeX-TikZ-single-macro-arg): Allow a variable number of arguments to
	  the argument name function map.
	  (TeX-TikZ-point-function-map): Prefix all point types with '+' and
	  '++'.
	  (TeX-TikZ-path-connector-function-map): Remove the '+' and '++'
	  suffixes.

2016-04-04  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add parabola command.

	* style/tikz.el (TeX-TikZ-arg-bend): New.
	  (TeX-TikZ-arg-parabola): New.
	  (TeX-TikZ-draw-arg-function-map): Add mapping from "Parabola" to
	  `TeX-TikZ-arg-parabola'.

2016-04-04  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add optional parameter to `TeX-TikZ-single-macro-arg'.

	* style/tikz.el (TeX-TikZ-single-macro-arg): New argument OPTIONAL.
	  (TeX-TikZ-macro-arg): Use OPTIONAL argument when calling
	  `TeX-TikZ-single-macro-arg'.

2016-04-04  Matthew Leach  <matthew@mattleach.net>

	TikZ: make `TeX-TikZ-single-macro-arg' prompt required.

	* style/tikz.el (TeX-TikZ-get-arg-type): Make prompt non-optional.
	  (TeX-TikZ-single-macro-arg): Likewise.
	  (TeX-TikZ-macro-arg): Make prompt explicit.

2016-04-04  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add the arc command.

	* style/tikz.el (TeX-TikZ-arg-arc): New.
	  (TeX-TikZ-draw-arg-function-map): Map the 'Arc' command to
	  `Tex-TikZ-arg-arc'.

2016-04-04  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add circle command.

	* style/tikz.el (TeX-TikZ-arg-circle): New.
	  (TeX-TikZ-draw-arg-function-map): Add mapping from 'Circle' to
	  `TeX-TikZ-arg-circle'.

2016-04-04  Stefan Monnier  <monnier@iro.umontreal.ca>

	* tex-buf.el: Address some compiler warnings

	Require `latex' since we refer to some of its variables.
	Use #' to quote a function.  Use _ prefix for unused vars.
	(TeX-current-process-region-p, TeX-save-query, TeX-parse-function)
	(TeX-sentinel-function, TeX-sentinel-default-function)
	(compilation-in-progress, TeX-current-page)
	(TeX-error-overview-open-after-TeX-run, TeX-error-list)
	(TeX-parse-all-errors, TeX-command-buffer, TeX-region): Declare before
	the first use.
	(TeX-command-text, TeX-command-pos): Declare as dyn-bound
	(TeX-command-expand): Strength reduce `eval' to `symbol-name'.
	(TeX-run-TeX): Use let*.
	(TeX-sentinel-function, TeX-sentinel-default-function): Put something
	in the function's body.
	(TeX-TeX-sentinel-check): Check ConTeXt-Mark-version exists before
	using it.  We could have (require 'context) instead.
	(TeX-Biber-sentinel): Remove redundant `concat'.
	(TeX-error-description-list): Move before first use.
	(TeX-error-overview-mode-map): Remove unused var `menu-map'.
	(TeX-output-revert-buffer): Remove unused var `command'.

2016-04-02  Mosè Giordano  <mose@gnu.org>

	Fix compatibility with older Emacs versions

	* tex.el: Dynamic determination of `delete-selection' behavior has been
	  introduced in Emacs 24.3.  For previous versions leave
	  `TeX-insert-dollar' without that property.

2016-04-01  Mosè Giordano  <mose@gnu.org>

	Dinamically put delete-selection prop to TeX-insert-dollar

	* tex.el (TeX-insert-dollar): Put `delete-selection' property only when
	  `TeX-electric-math' is nil.  Suggested by Roger Lipsett.  Fixes
	  bug#23177.

2016-03-30  Mosè Giordano  <mose@gnu.org>

	Restore compatibility with XEmacs

	* tex-buf.el (TeX-format-filter): Use `memq' in place of `memql'.  This
	  one is not available in XEmacs.

2016-03-29  Mosè Giordano  <mose@gnu.org>

	Fix previous commit

2016-03-29  Mosè Giordano  <mose@gnu.org>

	New function TeX-error-report-has-errors-p

	* tex-buf.el (TeX-error-report-has-errors-p): New function.
	(TeX-error-report-switches): Update docstring.
	(TeX-LaTeX-sentinel, TeX-command-sequence-sentinel): Use
	`TeX-error-report-has-errors-p'.
	* tex-bar.el (TeX-bar-TeX-button-alist, TeX-bar-LaTeX-button-alist):
	  Ditto.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add more path connector types.

	* style/tikz.el (TeX-TikZ-path-connector-function-map): New.
	  (TeX-TikZ-draw-arg-function-map): Use
	  `TeX-TikZ-path-connector-function-map'.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Rename 'text' to 'label' to be consistent with TikZ terminology.

	* style/tikz.el (TeX-TikZ-arg-label): Rename from `TeX-TikZ-arg-text'
	  and prompt for a 'Label' rather than 'Text'.
	  (TeX-TikZ-arg-node): Use new function name.
	  (TeX-TikZ-node-arg): Likewise.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Ignore case when prompting for argument types.

	* style/tikz.el (TeX-TikZ-get-arg-type): Let-bind
	  `completion-ignore-case' to t when prompting the user.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Apply suggestions from checkdoc.

	* style/tikz.el (TeX-TikZ-point-function-map): Make documentation
	  consistent with checkdoc.
	  (TeX-TikZ-draw-arg-function-map): Likewise.
	  (TeX-TikZ-draw-arg): Likewise and rename parameter to '_ignored'.
	  (TeX-TikZ-coordinate-arg): Likewise.
	  (TeX-TikZ-node-arg): Likewise.

2016-03-29  Mosè Giordano  <mose@gnu.org>

	Fill environment content onley when auto-fill-mode is active

	* latex.el (LaTeX-insert-environment): Fill only when
	  `auto-fill-function' is non-nil, that means auto-fill-mode is active.
	  Reported by Florian Lindner.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add 'Named Point' point type with completion.

	* style/tikz.el (TeX-TikZ-point-name-regexp): New.
	  (TeX-TikZ-find-named-points): New.
	  (TeX-TikZ-arg-named-point): New.
	  (TeX-TikZ-point-function-map): Add 'Named Point' element that maps to
	  `TeX-TikZ-arg-named-point'.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add prompting for TikZ's \node macro.

	* style/tikz.el (TeX-TikZ-node-arg): New.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Add prompting for \coordinate macro.

	* style/tikz.el (TeX-TikZ-point-function-map): New.
	  (TeX-TikZ-draw-arg-function-map): Use `TeX-TikZ-point-function-map'.
	  (TeX-TikZ-coordinate-arg): New.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: Extract the prompting of the next arg from TeX-TikZ-macro-arg.

	* style/tikz.el (TeX-TikZ-single-macro-arg): New.
	  (TeX-TikZ-macro-arg): Use `TeX-TikZ-single-macro-arg' for prompting
	  the user and calling the appropriate function.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: allow arg type prompt to be specified.

	* style/tikz.el (TeX-TikZ-get-arg-type): Add a new optional argument,
	  prompt, and show that to the user when non-nil, instead of the
	  default.

2016-03-29  Matthew Leach  <matthew@mattleach.net>

	TikZ: split out the prompts to TeX-TikZ-arg-node & TeX-TikZ-macro-arg.

	* style/tikz.el (TeX-TikZ-arg-options): New.
	  (TeX-TikZ-arg-name): New.
	  (TeX-TikZ-arg-text): New.
	  (TeX-TikZ-arg-node): Use new TikZ arg functions for prompting the
	  user.
	  (TeX-TikZ-macro-arg): Use `TeX-TikZ-arg-options' when prompting for
	  the options.

2016-03-29  Arash Esbati  <esbati@gmx.de>

	Add fontification support

	* style/environ.el ("environ"): Add fontification support.

2016-03-29  Arash Esbati  <esbati@gmx.de>

	Fix a misplaced closing parenthesis

	* style/splitidx.el (LaTeX-splitidx-auto-cleanup): Fix a misplaced
	closing parenthesis.

2016-03-29  Arash Esbati  <esbati@gmx.de>

	Fix the name of argument in function body

	* style/currvita.el (LaTeX-currvita-env-with-label): Fix the name
	of argument in the body of function.

2016-03-29  Arash Esbati  <esbati@gmx.de>

	Delete redundant code

	* style/enumitem.el (LaTeX-arg-SetLabelAlign)
	(LaTeX-arg-SetEnumitemKey, LaTeX-arg-SetEnumitemValue): Delete
	redundant code which is part of the function
	`LaTeX-enumitem-update-key-val-options'.
	(LaTeX-enumitem-env-with-opts): Fix the name of argument in the
	body of function.

2016-03-28  Mosè Giordano  <mose@gnu.org>

	Better control for presence of errors

	* tex-buf.el (TeX-LaTeX-sentinel): Use `TeX-error-report-switches'
	  instead of `TeX-error-list'.

2016-03-27  Tassilo Horn  <tsdh@gnu.org>

	Call TeX-after-compilation-finished-functions on warnings

	* tex-buf.el (TeX-LaTeX-sentinel): Skip calling
	TeX-after-compilation-finished-functions only if there are real errors.

2016-03-27  Matthew Leach  <matthew@mattleach.net>

	Add the beginnings of TikZ support.

	* style/tikz.el: New
	* doc/changes.texi: Document TikZ style.
	* Makefile.in: Add TikZ style to the build.

2016-03-26  Tassilo Horn  <tsdh@gnu.org>

	Fix forward sync bug with multi-file documents

	* tex.el (TeX-pdf-tools-sync-view): Use the current file for the
	sync-view call, not always the master file (bug#23083).

2016-03-19  Mosè Giordano  <mose@gnu.org>

	Temporarily bind gc-cons-threshold in time-consuming task

	* tex.el (TeX-search-files-by-type): Bind `gc-cons-threshold' to
	  10000000 during the search, to reduce number of garbage collections
	  during the task.

2016-03-17  Matthew Leach  <matthew@mattleach.net>

	Prompt for optional short caption parameter.

	* latex.el (LaTeX-compose-caption-macro): New.
	  (LaTeX-short-caption-prompt-length): New.
	  (LaTeX-env-figure): Prompt for optional short caption parameter, when
	  the caption length is >= `LaTeX-short-caption-prompt-length', and pass
	  to `LaTeX-compose-caption-macro'.
	* style/longtable.el ("longtable"): Likewise.
	* style/psfig.el (LaTeX-env-psfigure): Likewise.
	* doc/auctex.texi (Floats): Document short-caption prompting and
	  `LaTeX-short-caption-prompt-length'.
	* doc/changes.texi: Likewise.

2016-03-16  Matthew Leach  <matthew@mattleach.net>

	Improve prompts when defining LaTeX macros.

	* latex.el (TeX-arg-default-argument-value): New.
	  (TeX-arg-define-macro-arguments): New.
	  (LaTeX-common-initialization): Use new LaTeX macro argument functions.

2016-03-12  Matthew Leach  <matthew@mattleach.net>

	Ensure LaTeX-indent-environment-list environments aren't filled

	* tests/latex/latex-filling-in.tex: Add a tabular environment to ensure
	  the body of the environment isn't filled as it is listed in
	  LaTeX-indent-environment-list.
	* tests/latex/latex-filling-out.tex: Likewise.

2016-03-08  Matthew Leach  <matthew@mattleach.net>

	Remove "table" and "table*" from LaTeX-indent-environment-list

	* latex.el (LaTeX-indent-environment-list): Remove the "table" and
	  "table*" elements.

2016-03-04  Mosè Giordano  <mose@gnu.org>

	Use TeX-quote-after-quote in all language style files

	* style/icelandic.el ("icelandic"):
	* style/polish.el ("polish"):
	* style/polski.el ("polski"): Use value of `TeX-quote-after-quote'
	  instead of hard-coding t.

2016-02-28  Mosè Giordano  <mose@gnu.org>

	Improve word-string regexp in TeX-warning

	* tex-buf.el (TeX-warning): Match letters, numbers, colons, and hyphens,
	  not just word constituents.  They may be preceeded by both grave
	  accent and apostrophe, not only grave accent.
	* tests/tex/compilation-log.txt: Add test case.
	* tests/tex/error-parsing.el: Update result.

2016-02-27  Mosè Giordano  <mose@gnu.org>

	Another fix for vertical bad box warnings

	* tex-buf.el (TeX-parse-error): Use different regexps for horizontal and
	  vertical bad boxes, they cannot be handled together.
	(TeX-warning): Do not move point when a vertical bad box has been found.
	* tests/tex/compilation-log.txt: Add a test where the parser used to
	  fail to find the file for warnings after a vertical bad box warning.
	* tests/tex/error-parsing.el: Update result accordingly.

2016-02-26  Mosè Giordano  <mose@gnu.org>

	Fix parsing of vertical bad boxes context

	* tex-buf.el (TeX-warning): Use as context for vertical bad boxes the
	warning itself and don't move point.
	* tests/tex/compilation-log.txt: Add a test for vertical bad boxes, and
	horizontal bad boxes ending with "at line NN".  The two warnings are in
	two consecutive lines, make sure the second one is correctly reported.
	* tests/tex/error-parsing.el: Update result of the test accordingly.

2016-02-26  Mosè Giordano  <mose@gnu.org>

	Catch more bad box warnings

	* tex-buf.el (TeX-error-list): More information for some elements of the
	list.
	(TeX-parse-error): Change regexp to catch bad vertical boxes as well and
	provide new argument to `TeX-warning'.
	(TeX-warning): Require an additional mandatory argument, `bad-box'.
	Improve regexp for detecting ending line of horizontal bad boxes in
	order to cater for the case "...at line NN".
	* tests/tex/error-parsing.el: Update result of the test.

2016-02-23  Mosè Giordano  <mose@gnu.org>

	Avoid checking duplicate directories in TeX-check-files

	* tex-buf.el (TeX-check-files): Delete duplicate directories in paths
	  list before performing the check.

2016-02-21  Mosè Giordano  <mose@gnu.org>

	Fix detection of line number in TeX-warning

	* tex-buf.el (TeX-warning): Require as additional mandatory argument the
	  position where the warning starts.  Use it to limit
	  `re-search-backward' when looking for the line number.
	(TeX-parse-error): Provide additional argument to `TeX-warning'.
	* tests/tex/compilation-log.txt: Add another case where the line number
	  of the warning was mistaken.
	* tests/tex/error-parsing.el: Update expected result of the test
	  accordingly.

2016-02-21  Mosè Giordano  <mose@gnu.org>

	Improve LaTeX-warnings-regexp

	* tex-buf.el (LaTeX-warnings-regexp): Catch also "LaTeX Font" warnings.

2016-02-21  Mosè Giordano  <mose@gnu.org>

	Another fix for TeX-parse-errro

	* tex-buf.el (TeX-parse-error): Improve regexp for polishing file name.
	* tests/tex/compilation-log.txt: Add example to test file.
	* tests/tex/error-parsing.el: Update the expected result of the test
	  accordingly.

2016-02-21  Mosè Giordano  <mose@gnu.org>

	Allow ignoring certain warnings

	* tex.el (TeX-ignore-warnings, TeX-suppress-ignored-warnings): New
	  customizable options.
	(TeX-toggle-suppress-ignored-warnings): New function.
	(TeX-mode-map): Add key-binding for `TeX-toggle-suppress-ignored-warnings'.
	* tex-buf.el (TeX-error-list-skip-warning-p): Add new argument and use it.
	(TeX-parse-TeX): Provide additional argument to
	`TeX-error-list-skip-warning-p'.
	(TeX-error-list): Document new information.
	(TeX-find-display-help): Add new (ignored) argument.
	(TeX-error): Add new element to `TeX-error-list' entry.
	(TeX-warning): Set the "ignore" flag for `TeX-error-list'
	(TeX-error-overview-make-entries): Provide additional argument to
	`TeX-error-list-skip-warning-p'.
	(TeX-error-overview-toggle-debug-bad-boxes):
	(TeX-error-overview-toggle-debug-warnings): Determine
	`TeX-master-directory' in `TeX-command-buffer'.
	(TeX-error-overview-toggle-suppress-ignored-warnings): New function.
	(TeX-error-overview-mode-map): Add key-binding for
	`TeX-error-overview-toggle-suppress-ignored-warnings'.
	(TeX-error-overview-menu): Add entry for
	`TeX-error-overview-toggle-suppress-ignored-warnings'.

2016-02-21  Mosè Giordano  <mose@gnu.org>

	Show and hide warnings and bad boxes in error overview

	* tex-buf.el (TeX-error-list-skip-warning-p): New function.
	(TeX-parse-TeX): Skip warnings or bad boxes if they are to be ignored.
	(TeX-error-list): Describe information present in the list.
	(TeX-parse-error): When storing warnings and bad boxes, add them to
	`TeX-error-list' even if `TeX-debug-bad-boxes' and `TeX-debug-warnings'
	are nil.
	(TeX-error-overview-make-entries): Skip warnings or bad boxes if they
	are to be ignored.
	(TeX-error-overview-toggle-debug-bad-boxes):
	(TeX-error-overview-toggle-debug-warnings): New functions.
	(TeX-error-overview-mode-map, TeX-error-overview-menu): Add
	`TeX-error-overview-toggle-debug-bad-boxes' and
	`TeX-error-overview-toggle-debug-warnings'.
	(TeX-error-overview): Make the list of entries for the overview before
	creating the buffer and use this list to decide whether there is
	something to show.

2016-02-14  Mosè Giordano  <mose@gnu.org>

	Fix TeX-check-files

	* tex-buf.el (TeX-check-files): Run the test in `TeX-master-directory'
	  as well.

2016-02-14  Arash Esbati  <esbati@gmx.de>

	Add new style/splitidx.el

	* Makefile.in (STYLESRC): Add new style.

	* tex-style.el (LaTeX-splitidx-sindex-reftex-quick-id-key): Add
	customizable variable.

	* style/splitidx.el: New file.

2016-02-14  Arash Esbati  <esbati@gmx.de>

	Fix wrong usage of `TeX-auto-prepare-hook'

	* style/theorem.el (TeX-auto-cleanup-hook):
	* style/ntheorem.el (TeX-auto-cleanup-hook):
	* style/newfloat.el (TeX-auto-cleanup-hook):
	* style/amsthm.el (TeX-auto-cleanup-hook): Use
	`TeX-auto-cleanup-hook' instead of mistakenly used
	`TeX-auto-prepare-hook'.

2016-02-14  Arash Esbati  <esbati@gmx.de>

	Add support for missing macro \SetLabelAlign

	* style/enumitem.el ("enumitem-SetLabelAlign"): Plug
	\SetLabelAlign into AUCTeX parser.
	(LaTeX-enumitem-SetLabelAlign-regexp): New variable.
	(LaTeX-enumitem-auto-prepare): Reset
	`LaTeX-auto-enumitem-SetLabelAlign'.
	(LaTeX-arg-SetLabelAlign): New function to query the arguments of
	\SetLabelAlign.
	("enumitem"): Add \SetLabelAlign to style hook incl. fontification.
	(LaTeX-arg-SetEnumitemValue): Use `completing-read' instead of
	`TeX-read-key-val'.

2016-02-13  Mosè Giordano  <mose@gnu.org>

	Add support for Atril viewer

	Suggested by Antoine Levitt.

	* tex.el (TeX-evince-dbus-p): Take new arguments to specify desktop
	  environment and application names.
	(TeX-evince-sync-view-1): Rename from `TeX-evince-sync-view'.  Take new
	  arguments to specify desktop environment and application names.
	(TeX-atril-sync-view, TeX-evince-sync-view):
	(TeX-view-program-select-evince): New functions.
	(TeX-view-program-list-builtin): Add Atril entry and use
	`TeX-view-program-select-evince' for Atril and Evince.
	(TeX-source-correlate-mode): Register for Atril DBUS signal.
	* doc/changes.texi: Mention Atril support.

2016-02-09  Arash Esbati  <esbati@gmx.de>

	Add support for dviout viewer

	* doc/changes.texi: Mention support for dviout on Windows.

	* tex.el (TeX-view-program-list-builtin): Add support for dviout
	on Windows.  This setup works for `TeX-source-correlate-method'
	set to (dvi . source-specials).
	Reorder " %o" in entry for SumatraPDF.

2016-02-09  Arash Esbati  <esbati@gmx.de>

	Add support for SumatraPDF viewer

	* doc/changes.texi: Mention support for SumatraPDF on Windows.
	Fix typos.

	* tex.el (TeX-view-program-list-builtin): Add support for
	SumatraPDF on Windows.

2016-02-08  Mosè Giordano  <mose@gnu.org>

	Add support for Zathura viewer

	* tex.el (TeX-view-program-list-builtin): Add Zathura.
	* doc/changes.texi: Mention Zathura support and reworked error parsing.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Minor fix in TeX-documentation-texdoc

	* tex.el (TeX-documentation-texdoc): Make it possible to run the
	  function in read-only buffers.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Improve parsing of certain warnings

	* tex-buf.el (TeX-warning): Get full context and line numbers for
	  warnings matching `LaTeX-warnings-regexp'.
	* tests/tex/compilation-log.txt: Add example warnings for this case.
	* tests/tex/error-parsing.el: Update result of test accordingly.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Catch LaTeX class warnings

	* tex-buf.el (LaTeX-warnings-regexp): New variable.  This is the same
	  regexp used before by `TeX-LaTeX-sentinel-has-warnings' and
	  `TeX-parse-error', but now catches class warnings as well.
	(TeX-LaTeX-sentinel-has-warnings, TeX-parse-error): Use
	`LaTeX-warnings-regexp'.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Fix TeX-parse-error

	* tex-buf.el (TeX-parse-error): Remove from the file string pages of the
	  output file.
	* tests/tex/compilation-log.txt: Add a warning containing such faulty
	  file name.
	* tests/tex/error-parsing.el (TeX-error-parsing): Update result of the
	  test accordingly.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Add ERT test for error parsing

	* tests/tex/compilation-log.txt: Add minimal example of compilation log
	  that failed to be parsed correctly with the old parsing function.
	* tests/tex/error-parsing.el: New ERT test.

2016-02-07  Mosè Giordano  <mose@gnu.org>

	Add script to update the ChangeLog

	* ChangeLog.1: Add copyright notice and information about included
	  commits.
	* Makefile.in: Add ChangeLog-related variables and rules.
	* build-aux/gitlog-to-auctexlog: New script, adapted from GNU Emacs.

2016-02-03  Arash Esbati  <esbati@gmx.de>

	Another fix for file name regexp in TeX-documentation-texdoc

	* tex.el (TeX-documentation-texdoc): Add `space' and `()'
	to file name regexp for Windows paths.

2016-02-02  Arash Esbati  <esbati@gmx.de>

	Fix file name regexp in TeX-documentation-texdoc

	* tex.el (TeX-documentation-texdoc): Add backslash separator for Windows
	  paths.

2016-02-02  Mosè Giordano  <mose@gnu.org>

	Capture warnings from packages with hyphens in name

	* tex-buf.el (TeX-LaTeX-sentinel-has-warnings): Add hyphen to regexps.
	(TeX-parse-error): Ditto.

2016-02-02  Mosè Giordano  <mose@gnu.org>

	New function for reading documentation with texdoc

	* tex.el (TeX-documentation-texdoc): New function.
	(TeX-common-menu-entries): Replace `TeX-doc' with
	`TeX-documentation-texdoc'.
	(TeX-mode-map): Ditto.
	* doc/auctex.texi (Documentation): Document `TeX-documentation-texdoc'
	in place of `TeX-doc'.
	* doc/changes.texi: Mention `TeX-documentation-texdoc'.

2016-01-31  Tassilo Horn  <tsdh@gnu.org>

	Capture message of LaTeX warnings

	* tex-buf.el (TeX-parse-error): Capture message of LaTeX warnings.

2016-01-30  Mosè Giordano  <mose@gnu.org>

	Use default argument of completing-read in ConTeXt-environment

	* context.el (ConTeXt-environment): Properly use default argument of
	  `completing-read'.  Do not set `ConTeXt-default-environment' to
	  `environment' if the latter is equal to the current default
	  environment, like in `LaTeX-environment'.

2016-01-30  Mosè Giordano  <mose@gnu.org>

	Add completion for environments in ConTeXt

	* context.el (ConTeXt-language-variable-list): Document variable.  Add
	  `ConTeXt-environment-list' so that now completion for environments
	  names in `ConTeXt-environment' function works.  Suggested by Andrea De
	  Michele.

2016-01-27  Mosè Giordano  <mose@gnu.org>

	Change coding back to iso-8859-1, XEmacs doesn't support utf-8

	* font-latex.el: Restore coding to iso-8859-1.
	* style/alphanum.el: Ditto.
	* style/dk-bib.el: Ditto.
	* style/doc.el: Ditto.
	* style/inputenc.el: Ditto.
	* style/jura.el: Ditto.
	* style/ltx-base.el: Ditto.
	* style/ltxdoc.el: Ditto.
	* tex-font.el: Ditto.
	* tex.el: Ditto.

2016-01-25  Mosè Giordano  <mose@gnu.org>

	Code cleaning

	* latex.el (TeX-arg-document): Remove useless (mapcar 'identity ...).
	Suggested by Marcin Borkowski.
	* style/biblatex.el (LaTeX-biblatex-package-options): Ditto.

2016-01-24  Arash Esbati  <esbati@gmx.de>

	Improve style/enumitem

	* style/enumitem.el (LaTeX-enumitem-newlist-list)
	(LaTeX-enumitem-newlist-list-item-arg)
	(LaTeX-auto-enumitem-newlist): Remove variables.
	(LaTeX-enumitem-newlist-list-local): Fix docstring.
	(LaTeX-enumitem-auto-cleanup): Plug \newlist into AUCTeX parser.
	("enumitem"): Offer only enumerated environments as completion for
	\restartlist.

2016-01-24  Arash Esbati  <esbati@gmx.de>

	Improve font related queries

	* style/theorem.el (LaTeX-theorem-fontdecl): Do not prefix the
	elements with `TeX-esc'.
	(LaTeX-arg-theorem-fontdecl): New function.
	("theorem"): Use `LaTeX-arg-theorem-fontdecl' for font related
	queries.

2016-01-24  Arash Esbati  <esbati@gmx.de>

	Improve font related queries

	* style/ntheorem.el (LaTeX-ntheorem-fontdecl): Do not prefix the
	elements with `TeX-esc'.
	(LaTeX-arg-ntheorem-fontdecl): New function.
	("ntheorem"): Use `LaTeX-arg-ntheorem-fontdecl' for font related
	queries.

2016-01-24  Arash Esbati  <esbati@gmx.de>

	Improve font related queries

	* style/amsthm.el (LaTeX-amsthm-fontdecl): Do not prefix the
	elements with `TeX-esc'.
	(LaTeX-arg-amsthm-fontdecl): New function.
	("amsthm"): Use `LaTeX-arg-amsthm-fontdecl' for font related
	queries.

2016-01-23  Mosè Giordano  <mose@gnu.org>

	Write TeX-style-hook-dialect to parsed file

	* latex.el (BibTeX-auto-store): Run `TeX-bibtex-set-BibTeX-dialect'.
	* tex.el (TeX-auto-store): Store `TeX-style-hook-dialect' from buffer
	  and write it to parsed file when present.

2016-01-23  Mosè Giordano  <mose@gnu.org>

	Add new dialects

	* context.el: Update copyright years.
	(ConTeXt-dialect): New constant.
	(ConTeXt-mode-common-initialization): Set `TeX-style-hook-dialect' to
	`ConTeXt-dialect'.
	* plain-tex.el: Update copyright years.
	(plain-TeX-dialect): New constant.
	(plain-TeX-common-initialization): Set `TeX-style-hook-dialect' to
	`plain-TeX-dialect'.
	* tex.el (TeX-style-hook-dialect): Document new dialects.
	(TeX-style-hook-dialect-weight-alist): Add plain-tex and context dialects.

2016-01-23  Mosè Giordano  <mose@gnu.org>

	Convert tex-font.el to UTF-8 coding

	* tex-font.el: set coding to utf-8.

2016-01-23  Mosè Giordano  <mose@gnu.org>

	Move \iff macro to Arrows section of LaTeX-math-default

	* latex.el (LaTeX-math-default): \iff symbol is defined in base LaTeX,
	  move it to the "Arrows" section.

2016-01-20  Mosè Giordano  <mose@gnu.org>

	Fix bug in subfigure style file

	* style/subfigure.el ("subfigure"): Move `TeX-complete-list' inside
	  append argument.  Fixes bug#22417.

2016-01-17  Mosè Giordano  <mose@gnu.org>

	Add some AMS arrows to LaTeX-math-default

	* latex.el (LaTeX-math-default): Add `impliedby', `implies', and `iff'
	  arrows.  Suggested by Aiko Kyle.

2016-01-10  Mosè Giordano  <mose@gnu.org>

	url macro accepts only braces in hyperref

	* style/hyperref.el: Update copyright years.
	("hyperref"): Remove "url" from
	`LaTeX-verbatim-macros-with-delims-local', it was added by url.el, but
	in hyperref "\url" has a different syntax.

2015-12-18  Ivan Andrus  <darthandrus@gmail.com>

	Fix bug in `preview-LaTeX-disable-pdfoutput'

	* preview.el.in (preview-LaTeX-disable-pdfoutput): Allow one or more
	spaces between command line arguments.

2015-12-04  Tassilo Horn  <tsdh@gnu.org>

	Delete .cvsignore

	I'm pretty confident we won't switch back. ;-)

2015-11-30  Arash Esbati  <esbati@gmx.de>

	Fix query prompt

	* style/ntheorem.el ("ntheorem"):
	* style/theorem.el ("theorem"): Fix wrong query prompt.

2015-11-30  Mosè Giordano  <mose@gnu.org>

	Fix regex in texmathp

	* texmathp.el: Replace \t with \r.  Reported by Marcin Borkowski.

2015-11-24  Tassilo Horn  <tsdh@gnu.org>

	Rename TeX-after-compilation-finished-hook to -functions

	* tex-buf.el (TeX-after-compilation-finished-functions): Rename from
	-hook to -functions.
	(TeX-LaTeX-sentinel): Adapt.
	* context.el (TeX-ConTeXt-sentinel): Adapt.

2015-11-23  Arash Esbati  <esbati@gmx.de>

	Add new style/ntheorem.el

	* Makefile.in (STYLESRC): Add new style.

	* style/ntheorem.el: New file.

2015-11-23  Arash Esbati  <esbati@gmx.de>

	Add new style/theorem.el

	* Makefile.in (STYLESRC): Add new style.

	* style/theorem.el: New file.

2015-11-23  Arash Esbati  <esbati@gmx.de>

	Improve style/amsthm.el

	* style/amsthm.el (LaTeX-amsthm-fontdecl): Cover all font changing
	declarations.
	("amsthm"): Overrule the defintion for \newtheorem in `latex.el'.
	("amsthm"): Use `TeX-completing-read-multiple' for font related
	queries.

2015-11-23  Tassilo Horn  <tsdh@gnu.org>

	Rename TeX-after-TeX-LaTeX-command-finished-hook

	* tex-buf.el (TeX-after-compilation-finished-hook): Rename from
	TeX-after-TeX-LaTeX-command-finished-hook.
	* context.el (TeX-ConTeXt-sentinel): Run
	TeX-after-compilation-finished-hook when the compilation was successful.
	* doc/auctex.texi (Modes and Hooks): Adapt docs.

2015-11-21  Mosè Giordano  <mose@gnu.org>

	Convert Elisp source files to UTF-8

	* font-latex.el: Change coding to UTF-8
	* style/alphanum.el: Ditto.
	* style/dk-bib.el: Ditto.
	* style/doc.el: Ditto.
	* style/inputenc.el: Ditto.
	* style/jura.el: Ditto.
	* style/ltx-base.el: Ditto.
	* style/ltxdoc.el: Ditto.
	* tex.el: Ditto.

2015-11-19  Mosè Giordano  <mose@gnu.org>

	Fix bug in TeX-command-sequence

	* tex-buf.el (TeX-command-sequence): Ask for TeX-master if unknown,
	otherwise running this function on a file without a known `TeX-master'
	will result in `TeX-master' being automatically set to "<none>" at some
	point.
	(TeX-region-file): Add a third compatibility argument and update
	docstring accordingly.

2015-11-19  Mosè Giordano  <mose@gnu.org>

	Remove support to "Master:" line

	* tex.el (TeX-convert-master): Remove now unused variable.
	(TeX-master-file): Remove support to "Master:" line and update
	documentation accordingly.

2015-11-15  Mosè Giordano  <mose@gnu.org>

	Activate RefTeX reference styles

	* tex-style.el (LaTeX-reftex-ref-style-auto-activate): New
	  customizable variable.
	* style/cleveref.el ("cleveref"): Activate RefTeX reference style.
	* style/fancyref.el ("fancyref"): Ditto.
	* style/varioref.el ("varioref"): Ditto.
	* style/hyperref.el ("hyperref"): Use
	  `LaTeX-reftex-ref-style-auto-activate'.

2015-11-15  Mosè Giordano  <mose@gnu.org>

	Determine AUCTEXDATE and AUCTEXVERSION from git

	* aclocal.m4 (AC_DATE_VERSION_FROM_CHANGELOG): if this is git
	  repository, use it to determine the variables.
	* autogen.sh: Ditto.

2015-11-14  Mosè Giordano  <mose@gnu.org>

	Fix error in autogen.sh, configure, and Makefile

	* Makefile.in (doc/Makefile): Replace ChangeLog with ChangeLog.1.
	* autogen.sh: Ditto.
	* configure.ac: Ditto.
	* doc/Makefile.in (version.texi): Ditto.

2015-11-13  Mosè Giordano  <mose@gnu.org>

	Drop ChangeLog

	* .gitignore: Add ChangeLog and auto dirs in tests.
	* ChangeLog.1: Rename from ChangeLog.
	* Makefile.in (EXCLUDEDFILES): Exclude build-aux directory.
	* build-aux/gitlog-to-changelog: Copy script from gnulib.

2014-05-02  Tassilo Horn  <tsdh@gnu.org>

	Improve new-file regex.

	* tex-buf.el (TeX-parse-error): Improve new-file regex.

2014-04-29  Tassilo Horn  <tsdh@gnu.org>

	Fix Wrong type argument: characterp, nil error.

	* tex-buf.el (TeX-format-filter): Fix error caused by trying to
	get char syntax from char after EOF.

2014-04-27  Tassilo Horn  <tsdh@gnu.org>

	Don't use TRIM arg of split-string.

	* tex-buf.el (TeX-parse-error): Don't use TRIM arg of
	`split-string' which is new in emacs 24.4.

2014-04-25  Tassilo Horn  <tsdh@gnu.org>

	Improve line wrap removal heuristics.

	* tex-buf.el (TeX-format-filter): Remove linebreaks at columns 79
	and also column 80.  Also remove linebreaks preceded by a period
	that are followed by a word character to remove linebreaks in file
	names that are wrapped just after the period starting the file
	name extension.

2014-04-24  Tassilo Horn  <tsdh@gnu.org>

	Improve TeX error parsing.

	* tex-buf.el (TeX-error): Error if file containing the TeX error
	doesn't exist instead of finding a new file.
	(TeX-parse-error): Greatly simplify the new file and end of file
	regexps.

2015-11-13  Mosè Giordano  <mose@gnu.org>

	* Version 11.89 released.

2015-11-12  Mosè Giordano  <mose@gnu.org>

	* RELEASE: Update AUCTeX version, the new features section, and
	the list of contributors.

	* configure.ac: Update AUCTeX version.

	* doc/changes.texi: Mention PDF Tools and generic features for
	11.89 release.

	* doc/tex-ref.tex: Update AUCTeX version and copyright years
	across the file.

	* latex.el: Update copyright year.

	* latex/preview.dtx: Manually update release version.

	* Makefile.in (WEMACSPACKAGE): Update for Emacs 24.5
	(www-doc): Download gendocs.sh patch from AUCTeX repository.

	* tex.el (TeX-view-predicate-list-bultin): For
	`has-no-display-manager' predicate, use the current test only for
	old Emacsen, otherwise employ `display-graphic-p'.  Suggested by
	Santiago Saavedra.

2015-11-11  Mosè Giordano  <mose@gnu.org>

	* tests/latex/latex-test.el (LaTeX-math-indent)
	(LaTeX-change-environment-with-esc): New tests.

	* tests/latex/math-indent-in.tex: New test file.

	* tests/latex/math-indent-out.tex: Ditto.

2015-11-10  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-fill-break-at-separators): Change default value
	to opening only inline and display math switches.

	* tests/latex/latex-filling-in.tex: New test file.

	* tests/latex/latex-filling-out.tex: Ditto.

	* tests/latex/latex-test.el (LaTeX-indent-tabular-test/in)
	(LaTeX-indent-tabular-test/out): Remove variables defined with
	`defvar'.
	(AUCTeX-set-ert-path): New function for setting the path of the
	ERT test files.
	(LaTeX-filling): New ERT test.

2015-11-10  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-revert-document-buffer): New function.
	(TeX-after-TeX-LaTeX-command-finished-hook): Mention it in docstring.
	* doc/auctex.texi (Modes and Hooks): Mention it in manual.

2015-11-10  Santiago Saavedra  <ssaavedra@gpul.org>  (tiny change)

	* tex.el (TeX-command-list, TeX-view-program-list-builtin)
	(TeX-view-program-selection): Add dvi2tty as a first-class
	command, removing it from a load-time quasiquotation so that the
	strategy for selecting it or evince goes down to the frame
	performing the View command.  Fixes bug#21873.

2015-11-09  Mosè Giordano  <mose@gnu.org>

	* tex-info.el: Update copyright years.
	(Texinfo-nodename-de-escape, Texinfo-nodename-escape): Use
	`TeX-assoc-string' in place of `assoc-string'.

2015-11-08  Mosè Giordano  <mose@gnu.org>

	* tex-info.el (TeX-texinfo-mode): Set `TeX-output-extension'.
	Remove compatibility code with old Emacsen.

2015-11-06  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-check-TeX, TeX-check-TeX-command-not-found): New
	customizable options.
	(TeX-command): Do a better check for the presence of a TeX
	distribution.  Run `call-process' instead of `executable-find',
	like `TeX-run-command' actually does.  The point is that
	`call-process' and `start-process' use `PATH' environment
	variable, `executable-find' uses `exec-path' variable and they do
	not need to match, but we should check what `TeX-run-command' will
	really do.

	* doc/auctex.texi (Processor Options): Document `TeX-check-TeX'.

	* doc/changes.texi: Mention `TeX-check-TeX'.

2015-11-03  Mosè Giordano  <mose@gnu.org>

	* doc/auctex.texi (Processor Options): Document
	`ConTeXt-Mark-version'.
	(Multifile): Mention `dwim' value for `TeX-master'.

	* doc/changes.texi: Mention `ConTeXt-Mark-version'.

2015-11-02  Mosè Giordano  <mose@gnu.org>

	* latex.el (TeX-arg-document): When `TeX-arg-input-file-search' is
	nil, use `LaTeX-style-list' to complete document classes.  Fixes
	bug#21814.

2015-10-31  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/hologo.el: New file.

2015-10-28  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-fill-break-at-separators): Default to nil
	because many users don't like that special filling.

	* tex-info.el (Texinfo-make-node-list): Warn about duplicate
	nodes.  Return nodes in order instead of reversed.

2015-10-25  Vincent Belaïche  <vincent.b.1@hotmail.fr>

	* tex-info.el (Texinfo-nodename-de-escape): New defun.
	(Texinfo-nodename-escape): New defun.
	(Texinfo-make-node-list): New defun, code taken from
	Texinfo-insert-node into this function for the sake of code
	factorization.  In addition, (1) allow node name not to be
	followed by a comma --- i.e. next node etc. unspecified --- (2)
	trim trailing blanks after node name, and (3) de-escape @comma{}
	before insertion of node name into the list.
	(Texinfo-insert-node): (1) Use new function
	`Texinfo-make-node-list', and (2) escape node names for commas.
	(Texinfo-arg-nodename): New defun.
	(TeX-texinfo-mode): (1) Remove `group' from list of commands,
	`group' is an environment, not a command.  (2) Add
	`guillemetleft', `guillemetright', `guilsinglleft',
	`guilsinglright', `quotedblbase' and `quotesinglbase' to the list
	of commands.  (3) For commands `pxref', `ref' and `xref', use new
	function `Texinfo-arg-nodename' to read node name with completion.

2015-10-24  Arash Esbati  <esbati@gmx.de>

	* style/enumitem.el (LaTeX-enumitem-auto-cleanup): Move some
	operations from style hook into this function.
	(LaTeX-enumitem-newlist-list-item-arg-local): Delete now unused
	variable.

	* style/amsthm.el (LaTeX-amsthm-theoremstyle-list): New variable
	replacing the deleted function
	`LaTeX-amsthm-complete-theoremstyle'.
	(LaTeX-amsthm-env-label): New function to insert user defined
	environments.
	("amsthm"): Improve handling of "newtheorem*" and
	"newtheoremstyle".

	* style/AlegreyaSans.el ("AlegreyaSans"): Remove SmallCaps
	font declaration command.

	* style/Alegreya.el ("Alegreya"): Remove SmallCaps
	font declaration command.

	* style/caption.el (LaTeX-arg-caption-captionbox): Fix doctring.

	* style/subcaption.el (LaTeX-arg-subcaption-subcaption): Fix
	doctring.
	(LaTeX-arg-subcaption-subcaptionbox): ditto.

2015-10-19  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-command): Check that AUCTeX can find a working
	TeX distribution before running some *TeX commands.

2015-10-18  Mosè Giordano  <mose@gnu.org>

	* tex.el (fboundp): Define a `TeX-completing-read-multiple'
	version for GNU Emacs >= 24.4.  Fixes bug#19504.

2015-10-13  Mosè Giordano  <mose@gnu.org>

	* style/pstricks.el ("pstricks"): Do not disable PDF mode if XeTeX
	engine is used.  Suggested by Mandar Mitra.

2015-10-09  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-fill-move-to-break-point): Fill $...$ like
	\(...\) (bug#21645)

2015-10-08  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-expand-list-builtin): New variable.
	(TeX-expand-list): Move all entries to `TeX-expand-list-builtin'
	and update docstring.
	(TeX-expand-list): New function.

	* tex-buf.el (TeX-command-expand): Use `TeX-expand-list' function.

	* doc/auctex.texi (Starting Viewers): Mention
	`TeX-expand-list-builtin'.

	* doc/changes.texi: Mention change to `TeX-expand-list'.

2015-10-08  Arash Esbati  <esbati@gmx.de>

	* style/longtable.el ("longtable"): Use `LaTeX-add-counters' on
	"LTchunksize" and not `TeX-add-symbols'.

	* style/enumitem.el (LaTeX-arg-SetEnumitemKey): Remove unused
	`prompt' from arguments list.
	(LaTeX-arg-SetEnumitemValue): ditto.

	* style/listings.el (LaTeX-listings-key-val-options-local): New
	variable used for all key-val queries.
	("listings-lstdefinestyle"): Add parsing support for
	"\lstdefinestyle".
	(LaTeX-listings-lstnewenvironment-regexp): Add missing "s" to
	"listing".
	(LaTeX-listings-update-style-key): New function adding newly
	defined values to "style" key in
	`LaTeX-listings-key-val-options-local'.
	("listings"): Extend "lstdefinestyle".

	* style/wrapfig.el ("wrapfig"): Check for new floating
	environments definded through "newfloat.el" and offer them as
	completion to "wrapfloat" environment.

2015-10-05  Mosè Giordano  <mose@gnu.org>

	* context.el (TeX-ConTeXt-sentinel): Parse ConTeXt Mark IV output.

	* tex-buf.el (TeX-TeX-sentinel-check): Ditto.

2015-10-05  Arash Esbati  <esbati@gmx.de>

	* style/newfloat.el (LaTeX-newfloat-auto-cleanup): Check if
	`LaTeX-caption-supported-float-types' from caption.el is bound and
	update it accordingly.  Fix docstring.
	("newfloat"): Fix wrong check with (LaTeX-largest-level).
	("newfloat"): Use `LaTeX-newfloat-key-val-options-local' and
	delete redundant code.

2015-10-04  Mosè Giordano  <mose@gnu.org>

	* context.el (ConTeXt-Mark-version): New customizable and
	safe-local variable.
	(ConTeXt-expand-command): New function.
	(ConTeXt-expand-options): Use `ConTeXt-Mark-version'.

	* tex.el (TeX-command-list): Use %(cntxcom) expander in all
	ConTeXt programs.  Remove MkIV entry.
	(TeX-expand-list): Add %(cntxcom).

2015-10-04  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el (font-latex-math-environments): Add math
	environment.

2015-10-04  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-command-list): Add MkIV to `TeX-command-list'.

2015-09-29  Mosè Giordano  <mose@gnu.org>

	* style/newfloat.el (LaTeX-newfloat-auto-cleanup): Replace another
	`pushnew' with `add-to-list', previously overlooked.

2015-09-28  Mosè Giordano  <mose@gnu.org>

	* style/newfloat.el: Do not require cl at loading time.
	(LaTeX-newfloat-auto-cleanup): Append elements to
	`LaTeX-label-alist' in order not to override possible custom
	values.

2015-09-27  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/newfloat.el: New file.

	* style/longtable.el ("longtable"): Make package lengths available
	through `LaTeX-add-lengths' and not `TeX-add-symbol'.

2015-09-26  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-search-files-kpathsea): Remove duplicates
	directories.

2015-09-26  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX--prettify-symbols-compose-p): New function.
	(VirTeX-common-initialization): Use it.

2015-09-25  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/subcaption.el: New file.

	* style/caption.el (LaTeX-caption-key-val-options): Fix values of hypcap-key.
	(LaTeX-caption-update-key-val-options): Add support for
	subcaption.el if loaded.
	(LaTeX-arg-caption-captionbox): Do not query for the third
	optional arg. if the second one is empty.
	("caption"): Add support for all lowercase \continuedfloat*?.
	("caption"): Fix fontification for \captionof.

	* style/hyperref.el ("hyperref"): Make
	`LaTeX-indent-environment-list' local before adding new env's.

	* style/filecontents.el ("filecontents"): Make
	`LaTeX-indent-environment-list' local before adding new env's.

	* style/fontenc.el: Fix mail address in Maintainer-header.

2015-09-25  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-common-initialization): Remove "abstract"
	environment, it is not defined in latex.ltx.

	* style/amsart.el ("amsart"): Add "abstract" environment.

	* style/amsbook.el ("amsbook"): Ditto.

	* style/article.el ("article"): Ditto.

	* style/memoir.el ("memoir"): Ditto.

	* style/report.el ("report"): Ditto.

	* style/scrartcl.el ("scrartcl"): Ditto.

	* style/scrreprt.el ("scrreprt"): Ditto.

2015-09-24  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-doc): Use default argument of `completing-read'.

2015-09-22  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-find-matching-end): Find correct end when point
	is already on the name in \end{name}.

2015-09-20  Mosè Giordano  <mose@gnu.org>

	* .gitignore: Do not ignore auto.el.

	* Makefile.in (install-metadata): auto.el is not there anymore,
	we do not need to test if preview is enabled here.

2015-09-19  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-error-overview): Fix typo in error message.
	(TeX-TeX-sentinel): Fix error parsing.

2015-09-13  Arash Esbati  <esbati@gmx.de>

	* style/eso-pic.el (LaTeX-eso-pic-package-options-list): Rename
	from `LaTeX-eso-pic-package-options'.
	(LaTeX-eso-pic-package-options): Use renamed variable.

	* style/AlegreyaSans.el: New file.

	* Makefile.in (STYLESRC): Add new style.

	* style/Alegreya.el: New file.

	* Makefile.in (STYLESRC): Add new style.

	* style/fontenc.el: New file.

2015-09-10  Mosè Giordano  <mose@gnu.org>

	* style/gloss-italian.el ("gloss-italian"): Fix "textitalian"
	macro and "italian" environment arguments.

	* style/polyglossia.el (LaTeX-polyglossia-prepare): Clear
	`LaTeX-polyglossia-lang-list'.
	(LaTeX-polyglossia-cleanup): Remove clearing of
	`LaTeX-polyglossia-lang-list'.
	(TeX-update-style-hook): Append
	`LaTeX-polyglossia-load-languages'.
	("polyglossia"): Remove `LaTeX-polyglossia-load-languages' from
	here.

2015-09-09  Mosè Giordano  <mose@gnu.org>

	* style/polyglossia.el: Remove
	`LaTeX-polyglossia-italian-options-list', moved to
	gloss-italian.el.
	(LaTeX-polyglossia-setkeys-regexp): Fix regexp.
	(LaTeX-polyglossia-cleanup): Remove useless let-bound variables
	and set `LaTeX-polyglossia-lang-list'.
	(LaTeX-polyglossia-active-languages)
	(LaTeX-polyglossia-lang-option-member): Use
	`LaTeX-polyglossia-lang-list' variable instead of function.
	(LaTeX-polyglossia-load-languages): New function.
	("polyglossia"): Use it.

	* style/gloss-italian.el: New style file.

	* Makefile.in (STYLESRC): Activate it.

	* style/polyglossia.el: New style file.

	* Makefile.in (STYLESRC): Activate it.

2015-09-08  Arash Esbati  <esbati@gmx.de>

	* style/hyperref.el ("hyperref"): Add completion for starred
	version of `\autoref' incl. fontification.
	("hyperref"): Add fontification support for `\hypersetup'.

2015-09-08  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-command-default): Fix bug where wrong command
	was guessed for region files.

2015-09-07  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (LaTeX-idx-md5-alist, LaTeX-idx-changed-alist): New
	variables.
	(TeX-command-sequence): Call file function without optional
	arguments.
	(TeX-command-default): Suggest "Index" when appropriate.
	(TeX-run-TeX): Store value of `LaTeX-idx-md5-alist'.
	(TeX-run-index): New function.
	(TeX-LaTeX-sentinel): Set `LaTeX-idx-changed-alist'.
	(TeX-index-sentinel): New function.

	* tex.el (TeX-command-list): Mention "makeindex" in "Index" help.
	Suggested by Arash Esbati.

	* doc/changes.texi: Mention ability to suggest makeindex when
	needed.

	* doc/todo.texi (Wishlist): Remove reference to makeindex.

	* doc/tex-ref.tex: Update copyright years.
	Mention C-c C-a key binding.

2015-09-05  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el (font-latex-unfontify-region): Also remove the
	`invisible' text properties.

2015-09-04  Mosè Giordano  <mose@gnu.org>

	* doc/auctex.texi (Starting a Command): Update references to
	`TeX-command-run-all' and C-c C-a key binding.

	* doc/changes.texi: Ditto.

	* doc/quickstart.texi (Processing Facilities): Ditto.

	* tex-buf.el (TeX-command-run-all): Use `universal-argument' to
	reference C-u.

2015-09-04  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-command-sequence-file-function): New variable.
	(TeX-command-sequence): Use it.
	(LaTeX-command-section-boundaries): Recognize end of document as
	ultimate boundary.
	(LaTeX-command-section): Signal an error if not in a LaTeX buffer.
	(LaTeX-command-run-all-section): Ditto.

	* tex.el: Add autoloads for the new commands.

	* tex-buf.el (TeX-region-update): New function.
	(TeX-command-region): Use it.
	(LaTeX-command-section-boundaries): New function.
	(LaTeX-command-section): Use it.
	(TeX-command-run-all-region): New command.
	(LaTeX-command-run-all-section): New command.
	(TeX-command-run-all): Move it here from tex.el.

	* tex.el (TeX-command-run-all): Rename from TeX-update.
	(TeX-mode-map): Bind TeX-command-run-all to C-c C-a.

2015-09-03  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el (font-latex-fontify-script): Add possible value
	`multi-level' to allow raising/lowering scripts of scripts, and
	another value `invisible' which in addition hides the ^ and _
	characters in scripts.
	(font-latex-match-script): Use it.
	(font-latex-make-user-keywords): Add font-lock entry for script
	signs.
	(font-latex-match-script-chars): New function.

	* tex.el (TeX-tex-mode): Don't ignore case when matching the
	TeX-format-list regexes.
	(TeX-expand-list): Add expansion of %(PDFout) to -output-format
	option for AmS-TeX.
	(TeX-command-list): Use it instead of calling the non-existing
	pdfamstex command.

2015-09-02  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el: Remove code which set up font-latex for use with
	stock latex-mode on load.

2015-09-01  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-command-sequence): Add argument for processing
	the region file instead of the master file.

	* tex.el (TeX--if-macro-fboundp): New portability macro.
	(VirTeX-common-initialization): Use it.

2015-08-31  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-previous-error): Delete point in error message.
	(TeX-command-default)
	(TeX-run-set-command): Take care of `TeX-PDF-via-dvips-ps2pdf'.
	(TeX-run-dvips, TeX-run-ps2pdf): New functions.
	(TeX-TeX-sentinel, TeX-TeX-sentinel-check, TeX-LaTeX-sentinel):
	Take care of `TeX-PDF-via-dvips-ps2pdf'.
	(TeX-dvips-sentinel, TeX-ps2pdf-sentinel): New functions.
	(TeX-parse-command, TeX-output-revert-buffer): Delete point in
	error message.

	* tex.el (TeX-command-list): Add "Dvips" and "Ps2pdf" entries.
	(TeX-expand-list): Take care of `TeX-PDF-via-dvips-ps2pdf'.
	(TeX-PDF-via-dvips-ps2pdf): New customizable and safe-local
	variable.
	(TeX-toggle-PDF-via-dvips-ps2pdf): New function.
	(TeX-mode-specific-command-menu-entries): Add "PDF via dvips +
	ps2pdf" entry.

	* doc/auctex.texi (Processor Options): Document
	`TeX-PDF-via-dvips-ps2pdf' and fix a typo.

	* doc/changes.texi: Mention `TeX-PDF-via-dvips-ps2pdf'.

	* doc/quickstart.texi (Processing Facilities): Mention
	`TeX-PDF-via-dvips-ps2pdf'.

	* tex-buf.el: Update copyright year.
	(TeX-command-sequence-max-runs-same-command)
	(TeX-command-sequence-max-runs): New customizable variables.
	(TeX-command-sequence-count-same-command)
	(TeX-command-sequence-count, TeX-command-sequence-last-command)
	(TeX-command-sequence-sentinel, TeX-command-sequence-command): New
	variables.
	(TeX-command-sequence): New function.
	(TeX-command-default): New function, stripped off from
	`TeX-command-query'.
	(TeX-command-query): Use `TeX-command-default'.
	(TeX-command-sequence-sentinel): New function.

	* tex.el (TeX-update): New function.
	(TeX-mode-map): Add key binding for `TeX-update'.
	(TeX-mode-specific-command-menu-entries): Add entry for
	`TeX-update'.

	* doc/auctex.texi: Update copyright year.
	(Starting a Command): Document `TeX-update'.

	* doc/changes.texi: Update copyright year.
	Mention `TeX-update'.

	* doc/quickstart.texi (Processing Facilities): Mention
	`TeX-update' and `TeX-error-overview'.

	* doc/todo.texi: Update copyright year.
	(Wishlist): Remove entry for `TeX-update'.

2015-08-30  Arash Esbati  <esbati@gmx.de>

	* style/caption.el ("caption"): Add support for undocumented
	macros `\captionbox[*]'.
	(LaTeX-arg-caption-captionbox): New function.

	* Makefile.in (STYLESRC): Add new style.

	* style/transparent.el: New file.

	* style/filecontents.el ("filecontents"): Do not indent the
	content of `filecontents[*]' environment.

	* style/hyperref.el ("hyperref"): Do not indent the content of
	`Form' environment.

	* style/array.el ("array"): Add fontification for
	`\newcolumntype'.

2015-08-28  Tassilo Horn  <tsdh@gnu.org>

	* Version 11.88.8 released.

2015-08-28  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-mode-syntax-table): Use punctuation syntax for
	character | (bug#21366).

2015-08-24  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (VirTeX-common-initialization): Add support for
	`prettify-symbols-mode'.

2015-08-21  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-check-engine): New customizable variable.
	(TeX-check-engine-list): New variable.
	(TeX-check-engine-add-engines): New function.
	(TeX-check-engine): New function.
	(TeX-command): Use `TeX-check-engine' and update docstring
	accordingly.

	* style/fontspec.el ("fontspec"): Add engine restrictions.

	* doc/auctex.texi (Processor Options): Document
	`TeX-check-engine'.

	* doc/changes.texi: Mention `TeX-check-engine'.

2015-08-20  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-error-overview-jump-to-source)
	(TeX-error-overview-goto-log): New functions.
	(TeX-error-overview-mode-map): Add
	`TeX-error-overview-jump-to-source' and
	`TeX-error-overview-goto-log'.
	(TeX-error-overview-menu): Define menu for TeX error overview.
	(TeX-error-overview-mode): Add menu.

	* doc/auctex.texi (top)
	(Debugging): Add section for error overview.
	(Error overview): Document new functions and keys.

2015-08-19  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-label): Mention in the docstring the returned
	value.  Let-bind `TeX-read-label-prefix' and use `TeX-read-label'
	to read the label.
	(TeX-read-label-prefix): New variable.
	(TeX-read-label): New function.
	(TeX-arg-label): Use `TeX-read-label' and mention
	`TeX-read-label-prefix' in docstring.
	(TeX-arg-define-label): Mention `TeX-read-label-prefix' in
	docstring.

2015-08-14  Arash Esbati  <esbati@gmx.de>

	* latex.el (LaTeX-common-initialization): Fix the subgroup number
	in the regex for `\\(this\\)?pagestyle'

2015-08-10  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (TeX-latex-mode): Call LaTeX-preview-setup only if its
	bound.

	* preview.el.in (LaTeX-preview-setup): Setup menu and keymap only
	once.

2015-08-09  Arash Esbati  <esbati@gmx.de>

	* style/enumitem.el ("enumitem"): Cater for the starred version of
	`\AddEnumerateCounter'.

	* style/ragged2e.el ("ragged2e"): Make package lengths available
	through `LaTeX-add-lengths' and not `TeX-add-symbol'.

2015-08-07  Tassilo Horn  <tsdh@gnu.org>

	* Version 11.88.7 released.

	* latex.el (TeX-latex-mode): Call `LaTeX-preview-setup'
	unconditionally instead of calling it from `LaTeX-mode-hook' which
	breaks things if that hook is customized (bug#21188).

	* preview.el.in: Don't add `LaTeX-preview-setup' to
	`LaTeX-mode-hook'.

2015-07-21  Arash Esbati  <esbati@gmx.de>

	* style/nameref.el ("nameref"): Add missing commands `\nameref*'
	and `\Nameref'.

	* style/textpos.el ("textpos"): Fix the name of the provided env's
	which is `textblock' and not `textpos'.

2015-07-18  Arash Esbati  <esbati@gmx.de>

	* latex.el (LaTeX-common-initialization): Query for the default
	value of first arg when (re-)defining new environments.

	* Makefile.in (STYLESRC): Add new style.

	* style/vwcol.el: New file.

	* Makefile.in (STYLESRC): Add new style.

	* style/textpos.el: New file.

	* Makefile.in (STYLESRC): Add new style.

	* style/environ.el: New file.

	* style/tabulary.el ("tabulary"): Add `LCRJ' to
	`LaTeX-array-column-letters'.

	* style/tabularx.el ("tabularx"): Add `X' to
	`LaTeX-array-column-letters'.

	* style/array.el: Parse user-defined new column types and add them
	to `LaTeX-array-column-letters'.

2015-07-09  Mosè Giordano  <mose@gnu.org>

	* latex/README: restore file deleted by mistake when preview/
	directory has been moved to top level.

	* Makefile.in: Use everywhere $(MAKE) in place of make.

2015-06-21  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-LaTeX-sentinel): Add support for hf-tikz
	messages.

	* style/mnras.el: New style file.

	* Makefile.in (STYLESRC): Activate it.

2015-06-14  Arash Esbati  <esbati@gmx.de>

	* style/pdfpages.el ("pdfpages"): Restrict suggested files to
	*.pdf files.  File name should be relative to master file
	directory.

2015-06-13  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-LaTeX-sentinel-has-warnings, TeX-parse-error):
	Cater for packages with digits in their names (e.g., fixltx2e,
	which emits a warning from TeX Live 2015).

2015-06-09  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-evince-dbus-p): Explicitly bind dbus-debug to nil in
	order to really ignore dbus errors with dbus-ignore-errors.

2015-06-05  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/pdfpages.el: New file.

	* style/listings.el (LaTeX-listings-auto-cleanup): Add support for
	the optional argument of env's defined with `\lstnewenvironment'.
	(LaTeX-listing-lstnewenvironment-regexp): Ditto.

2015-06-05  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex.el (featurep): Restore compatibility with emacs versions
	which don't have `activate-mark' (Emacs <= 22).

2015-06-02  Arash Esbati  <esbati@gmx.de>

	* latex.el (LaTeX-auto-cleanup): Prepare so that an optional
	environment arg is also queried.

2015-06-01  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-auto-env-args-with-opt): New variable for
	collecting environments with an optional argument.
	(LaTeX-auto-regexp-list): Use it.
	(LaTeX-auto-cleanup): Initialize \newenvironment{foo}[n][d]{}{}
	with the n-1 remaining mandatory arguments.

2015-05-29  Nicolas Richard  <youngfrog@members.fsf.org>

	* latex.el (LaTeX-backward-paragraph): Make it work in narrowed
	buffers.  Fixes bug#20685.

2015-05-18  Orlando Iovino  <orlando.iovino@yahoo.it>  (tiny change)

	* style/beamer.el ("beamer"): Add `subtitle' to the `slide-title'
	class.

2015-05-16  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new styles.

	* style/newpxmath.el: New file.

	* style/newpxtext.el: New file.

	* font-latex.el (font-latex-set-syntactic-keywords): Allow for
	multiple mandatory argument for a verbatim environment.

	* style/listings.el ("listings"): Add support for parsing new
	env's defined with `\lstnewenvironment' command.

2015-05-08  Tassilo Horn  <tsdh@gnu.org>

	* Version 11.88.6 released.

2015-05-08  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-mode-syntax-table): Use paired delimiter syntax for
	character |.
	(TeX-tree-expand): Fix docstring.

2015-05-07  Mosè Giordano  <mose@gnu.org>

	* tex.el: Update copyright years.
	(TeX-view-program-list): Fix type.  (Bug#20513)

2015-05-05  Mosè Giordano  <mose@gnu.org>

	* style/italian.el: Evaluate `TeX-quote-after-quote'.

2015-05-01  Tassilo Horn  <tsdh@gnu.org>

	* Version 11.88.5 released.

2015-05-01  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-tree-expand): Expand all given vars in just one
	single call of kpsewhich.  Users reported that on some windows and
	mac systems, kpsewhich is extremely slow leading to auctex startup
	times of several seconds.

2015-04-29  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-string-divide-number-unit): Fix docstring.

	* style/mathtools.el ("mathtools"): Fix typos.

2015-04-25  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-parse-macro): Improve docstring.

2015-04-19  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-clean): Also regexp-quote TeX-region-file.

2015-04-17  Tassilo Horn  <tsdh@gnu.org>

	* preview.el.in (preview-datadir, preview-lispdir): Delete these
	two variables.
	(preview-filter-specs): Use TeX-data-directory in place of
	preview-datadir.

	* configure.ac: Remove auto.el from AC_OUTPUT.

	* Makefile.in (auto.el): Delete target.

2015-04-11  Tassilo Horn  <tsdh@gnu.org>

	* style/mathtools.el (LaTeX-mathtools-env-multlined): Don't call
	newline-and-indent after inserting environment.

2015-04-11  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/attachfile.el: New file.

	* style/fbb.el: Update style to LaTeX package v1.07 from
	2015/04/06.

	* style/erewhon.el ("erewhon"): Update style to LaTeX package
	v1.04 from 2015/04/07.

	* style/baskervaldx.el ("baskervaldx"): Update style to LaTeX
	package v1.07 from 2015/04/06.

	* style/newtxtext.el ("newtxtext"): Update style to LaTeX package
	v1.434 from 2015/04/07.

	* style/enumitem.el ("enumitem"): Fix typos.

	* style/everysel.el ("everysel"): Fix typo (AtNextSelect_f_ont).

	* style/color.el: Replace `read-string' with `TeX-read-string'.

	* style/currvita.el: Replace `read-string' with `TeX-read-string'.

	* style/wrapfig.el: Replace `read-string' with `TeX-read-string'.

	* style/MyriadPro.el ("MyriadPro"): Add missing lenghts
	`MdSlantfracSpacingBeforeSlash' and `MdSlantfracSpacingAfterSlash'.

	* style/caption.el (LaTeX-caption-key-val-options): Delete wrong
	values for `margin'-key.
	(LaTeX-arg-caption-command): Use `TeX-argument-insert' and do not
	rely on `TeX-arg-eval' anymore.
	(LaTeX-arg-caption-DeclareCaption): Ditto.

2015-04-02  Mosè Giordano  <mose@gnu.org>

	* doc/auctex.texi (Indenting): Document indentation of "\[...\]".

	* doc/changes.texi: Mention it.

2015-03-30  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-begin-regexp): Add "\[".
	(LaTeX-indent-calculate): Remove indentation of "\[...\]" from
	here, it is automatically done in `LaTeX-indent-level-count' now
	that `LaTeX-begin-regexp' has "\[".  (Bug#20227)

2015-03-28  Mosè Giordano  <mose@gnu.org>

	* style/acro.el:

	* style/acronym.el:

	* style/caption.el:

	* style/color.el:

	* style/enumitem.el:

	* style/geometry.el:

	* style/minted.el:

	* style/pst-plot.el:

	* style/pstricks.el:

	* style/siunitx.el: Update copyright years and add
	`TeX-auto-parse' to `TeX-update-style-hook'.

2015-03-28  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/colortbl.el: New file.

	* style/ltxtable.el ("ltxtable"): Ask for a `Width' and not for a
	`Length' in minibuffer.

	* latex.el (LaTeX-common-initialization): Add standard LaTeX
	lengths `arraycolsep', `arrayrulewidth' and `doublerulesep'.

2015-03-23  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-run-style-hooks): Apply style hooks in reverse
	order.  With that, a local style can modify a private or a global
	style, and a private style can modify a global one.

2015-03-17  Mosè Giordano  <mose@gnu.org>

	* doc/wininstall.texi: Fix a broken link.

	* style/mn2e.el: New style file.

	* Makefile.in (STYLESRC): Activate new style.

2015-03-15  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/ltxtable.el: New file.

2015-03-15  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/ltablex.el: New file.

2015-03-15  Arash Esbati  <esbati@gmx.de>

	* style/enumitem.el (LaTeX-enumitem-SetEnumitemKey-regexp): Delete
	match for the second argument.
	(LaTeX-enumitem-SetEnumitemValue-regexp): Delete match for the
	third argument.
	(LaTeX-arg-SetEnumitemValue): Replace the randomly generated
	number with something human-readable.

	* style/caption.el (LaTeX-caption-DeclareCaption-regexp): Delete
	match for the second argument.
	(LaTeX-arg-caption-DeclareCaption): Replace the randomly generated
	number with something human-readable.

2015-03-10  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-style-path): Replace `pushnew' with equivalent code
	since defcustom init-forms don't seem to get compiled.

	* doc/auctex.texi (Modes and Hooks): Document
	TeX-after-TeX-LaTeX-command-finished-hook.

	* tex-buf.el (TeX-after-TeX-LaTeX-command-finished-hook): New
	hook.
	(TeX-LaTeX-sentinel): Call it.

2015-03-09  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-find-display-help): Display the help also when
	the file cannot be determined.

	* latex.el (LaTeX-end-regexp): Add "\]".
	(LaTeX-indent-calculate): Indent "\[...\]" display math as a
	regular environment.

2015-03-08  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/geometry.el: New file.

2015-03-08  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/caption.el: New file.

2015-03-08  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/enumitem.el: New file.

2015-03-08  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-style-path): Replace add-to-list on local with
	pushnew.

	* style/bidibeamer.el: New style.

	* Makefile.in (STYLESRC): Activate new bidibeamer style.

2015-03-07  Mosè Giordano  <mose@gnu.org>

	* doc/install.texi: Mention uninstallation in menus.
	(Build/install and uninstall): Add "Uninstallation" index entry.
	Document uninstallation process.

	* Makefile.in: Update copyright years.
	(.PHONY): Add uninstall rule.
	(uninstall): New rule.

	* doc/Makefile.in: Update copyright years.
	(.PHONY): Add uninstall rule.
	(uninstall): New rule.

	* latex/Makefile.in: Update copyright years.
	(.PHONY): Declare phony targets.
	(install-texmf-doc): Do not ignore errors in this rule.
	(uninstall): New rule.

2015-03-03  Tassilo Horn  <tsdh@gnu.org>

	* doc/auctex.texi (Filling): Document LaTeX-fill-excluded-macros.

	* latex.el (LaTeX-fill-excluded-macros): New defcustom for
	excluding macro arguments from filling.
	(LaTeX-fill-region-as-paragraph): Use it.

2015-03-02  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el (font-latex-match-command-with-arguments): Fix
	error introduced in the last change.

2015-02-24  Tassilo Horn  <tsdh@gnu.org>

	* style/expl3.el: New style for the wrapper package for
	experimental LaTeX 3.

	* Makefile.in (STYLESRC): Activate new style.

	* font-latex.el (font-latex-match-simple-command)
	(font-latex-match-command-with-arguments): Use \s_ and \sw regexp
	classes instead of hard-coding [A-Za-z@] as LaTeX macro chars.

2015-02-17  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-after-insert-env-hook): Rename from
	`LaTeX-after-insert-env-hooks' which is now an obsolete variable
	alias.
	(LaTeX-after-modify-env-hook): New hook.
	(LaTeX-modify-environment): Run `LaTeX-after-modify-env-hook'.

2015-02-13  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-pdf-tools-sync-view, TeX-PDF-mode): Move addition of
	`TeX-source-correlate-handle-TeX-region' to
	`pdf-sync-backward-redirect-functions' from `TeX-PDF-mode' to
	`TeX-pdf-tools-sync-view'.

2015-02-09  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-pdf-tools-sync-view): Make it work with
	`TeX-command-region'.

2015-02-09  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-pdf-tools-sync-view): Simplify function.

2015-02-09  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/color.el: New style.

2015-02-08  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-handle-TeX-region): Fix
	void-variable error.

2015-02-07  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-pdf-tools-sync-view)
	(TeX-source-correlate-handle-TeX-region)
	(TeX-source-correlate-sync-source, TeX-PDF-mode): Adapt PDF Tools
	forward/backward search to latest PDF Tools changes.

2015-02-06  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-source-correlate-handle-TeX-region): Replace
	`file-name-base', introduced in GNU Emacs 24, with
	`file-name-sans-extension'+`file-name-nondirectory'.

2015-02-06  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-handle-TeX-region): New function.
	(TeX-source-correlate-sync-source): Use it.
	(TeX-PDF-mode): Set `pdf-sync-correlate-tex-refine-function' to
	`TeX-source-correlate-sync-source'.

2015-02-05  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-pdf-tools-sync-view): New function to use PDF Tools
	`pdf-view-mode' as a viewer.
	(TeX-view-program-list-builtin): Add PDF Tools entry calling
	`TeX-pdf-tools-sync-view'.

2015-02-04  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Add new style.

	* style/tcolorbox.el: New style.

2015-01-31  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new style.

	* style/currvita.el: New file.

2015-01-27  Tassilo Horn  <tsdh@gnu.org>

	* Version 11.88.2 released.

	* tex.el (TeX-view-program-list-builtin): Remove "start" as
	executable entry because it's no executable but a Windows system
	command.
	(TeX-view-program-list-builtin): Also remove "start" as executable
	from the "dvips and start" entry.

2015-01-25  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-section-heading): Use default parameter of
	completing-read.  Fixes bug#19675.

2015-01-19  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-auto-store): Fix indentation in auto files.

2015-01-16  Arash Esbati  <esbati@gmx.de>

	* style/minted.el: Update copyright year.
	(LaTeX-minted-auto-cleanup): Fix the name of the new langcode
	environment.

2014-12-30  Arash Esbati  <esbati@gmx.de>

	* style/multirow.el ("multirow"): Fix a typo in the name of a
	variable.

	* Makefile.in (STYLESRC): Add new styles.

	* style/relsize.el: New file.

	* style/wrapfig.el: New file.

	* style/hyperref.el ("hyperref"): Add `Form' environment needed
	for PDF and HTML forms.
	(LaTeX-hyperref-forms-options): New variable for key-val options
	used in form related macros (`TextField', `CheckBox',
	`ChoiceMenu', `PushButton', `Submit', `Reset').

2014-12-22  Tassilo Horn  <tsdh@gnu.org>

	* doc/changes.texi: Document addition of LaTeX-command-section and
	forward/backward search enhancements with Evince.

	* latex.el (auto-mode-alist): Add latex-mode association for HeVeA
	files.

2014-12-21  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-parse-macro): Enclose arg in
	LaTeX-default-verb-delimiter if macro is in
	LaTeX-verbatim-macros-with-delims and there's only one argument.
	(TeX-auto-store): Check if LaTeX-verbatim-environments,
	LaTeX-verbatim-macros-with-delims, and
	LaTeX-verbatim-macros-with-braces are bound before using them.

	* style/minted.el (LaTeX-minted-newminted-regexp)
	(LaTeX-minted-newmint-regexp, LaTeX-minted-newmintinline-regexp)
	(LaTeX-minted-newmintedfile-regexp, LaTeX-minted-auto-cleanup):
	Extend to recognize optional env/macro name.
	("minted"): Add \newminted, \newmint, \newmintinline, and
	\newmintedfile macros.

2014-12-20  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-auto-store): Write LaTeX-verbatim-*-local variables
	to auto file to make them document-local.

	* style/minted.el (LaTeX-minted-auto-cleanup): Recognize macros
	generated by \newmint, \newmintinline, and \newmintedfile, too.

	* tex.el (TeX-evince-sync-view): Encode URI with `url-encode-url'.

	* auctex.el: Remove byte-recompile-directory call compiling style
	files because package.el does that anyhow.

	* Version 11.88.1 released.

2015-01-19  Tassilo Horn  <tsdh@gnu.org>

	* auctex.el (byte-recompile-directory): Refer to correct style
	directory on load.

	* style/minted.el: New style.

	* Makefile.in (STYLESRC): Add style/minted.el.

	* latex.el (LaTeX-env-args): Bind exit-mark if its not bound
	already.
	(LaTeX-verbatim-regexp): Make variable obsolete.
	(LaTeX-verbatim-regexp): New function which computes a regexp of
	verbatim environments from LaTeX-verbatim-environments.
	(LaTeX-indent-calculate, LaTeX-indent-calculate-last): Use the
	function LaTeX-verbatim-regexp instead of the variable.

	* style/listings.el ("listings"): Don't modify the now obsolete
	LaTeX-verbatim-regexp.

	* style/fancyvrb.el ("fancyvrb"): Don't modify the now obsolete
	LaTeX-verbatim-regexp.

	* style/beamer.el ("beamer"): Don't modify the now obsolete
	LaTeX-verbatim-regexp.

	* style/alltt.el ("alltt"): Don't modify the now obsolete
	LaTeX-verbatim-regexp.

2014-12-18  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-evince-sync-view): Don't URL-encode commas in the
	file name (bug#19398).

2014-12-12  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-environment-name-regexp): New function.
	(LaTeX-modify-environment): Use it.
	(LaTeX-find-matching-end): Use `TeX-grop' instead of the
	hard-coded "{".  Search for the closing of the environment with
	`re-search-forward' instead of `search-forward' and use
	`LaTeX-environment-name-regexp': this allows to consider
	environments with macros in their names.  (Bug#19281)
	(LaTeX-find-matching-begin): Use `TeX-grop' instead of the
	hard-coded "{".

2014-12-09  Mosè Giordano  <mose@gnu.org>

	* style/babel.el (LaTeX-babel-active-languages): Move `nreverse'
	call inside `let'.

2014-12-08  Stefan Monnier  <monnier@iro.umontreal.ca>

	* tex.el (TeX-mode-specific-command-menu): Remove Emacs 20
	compatibility code.

	* style/shortvrb.el ("shortvrb"): Use mapcar instead of
	dolist/add-to-list.

	* style/pstricks.el (LaTeX-pst-point-in-parens)
	(LaTeX-pst-macro-psarc, LaTeX-pst-macro-pscircle)
	(LaTeX-pst-macro-rput, LaTeX-pst-macro-uput)
	(LaTeX-pst-macro-multirputps, LaTeX-pst-macro-psline)
	(LaTeX-pst-macro-psdots, LaTeX-pst-macro-parabola)
	(LaTeX-pst-macro-pnt-twolen, LaTeX-pst-macro-psbezier)
	(LaTeX-pst-macro-pspolygon, LaTeX-pst-macro-psframe)
	(LaTeX-pst-macro-psgrid, LaTeX-pst-macro-newpsobject): Rename
	unused arg to silence the byte-compiler.
	(LaTeX-pst-parameters-add): Remove unused var beg.

	* style/pst-plot.el (LaTeX-pst-macro-psaxes): Rename unused arg to
	silence the byte-compiler and fix indentation.
	("pst-plot"): Use mapc instead of mapcar for side-effects only.

	* style/pst-node.el (LaTeX-pstnode-macro-nput)
	(LaTeX-pstnode-macro-cnodeput, LaTeX-pstnode-macro-nc)
	(LaTeX-pstnode-macro-pc, LaTeX-pstnode-macro-tnabcput): Rename
	unused arg to silence the byte-compiler.

	* style/psfig.el (TeX-arg-psfig, LaTeX-env-psfigure): Rename
	unused arg to silence the byte-compiler.

	* style/prosper.el: Fix comment style.
	(LaTeX-prosper-insert-title, LaTeX-prosper-arg-pdftransition)
	(LaTeX-prosper-insert-options, LaTeX-prosper-insert-slide): Rename
	unused arg to silence the byte-compiler.

	* style/pdfsync.el (LaTeX-pdfsync-output-page): Remove unused
	sync-line variable.

	* style/natbib.el (natbib-note-args): Rename unused arg to silence
	the byte-compiler.

	* style/inputenc.el (LaTeX-arg-inputenc-inputenc): Rename unused
	arg to silence the byte-compiler.

	* style/harvard.el (LaTeX-env-harvardbib): Rename unused arg to
	silence the byte-compiler.

	* style/graphicx.el (LaTeX-arg-includegraphics): Rename unused arg
	to silence the byte-compiler.

	* style/fancyref.el (TeX-arg-fancyref-format): Rename unused arg
	to silence the byte-compiler.

	* style/epsf.el (TeX-arg-epsfsize): Rename unused arg to silence
	the byte-compiler.

	* style/emp.el (LaTeX-env-empfile): Rename unused arg to silence
	the byte-compiler.

	* style/dinbrief.el (LaTeX-dinbrief-sender): Add a FIXME.

	* style/bigstrut.el (TeX-arg-bigstrut): Rename unused arg to
	silence the byte-compiler.

	* style/beamer.el
	(LaTeX-beamer-after-insert-env, TeX-arg-beamer-overlay-spec)
	(TeX-arg-beamer-frametitle, TeX-arg-beamer-note)
	(LaTeX-arg-beamer-theme, LaTeX-arg-beamer-inner-theme)
	(LaTeX-arg-beamer-outer-theme, LaTeX-arg-beamer-color-theme)
	(LaTeX-arg-beamer-font-theme): Rename unused arg to silence the
	byte-compiler.

	* style/babel.el (require): Require cl at compile-time.
	(LaTeX-babel-active-languages): Use pushnew/nreverse instead of
	add-to-list.

	* bib-cite.el (bib-cite--kind): New function.
	(bib-display, bib-find): Use it.
	(featurep): Use with-current-buffer instead of set-buffer.
	(bib-cite--fontify-help): New function.
	(bib-cite-fontify-help-as-bibtex, bib-cite-fontify-help-as-latex):
	Use it.
	(bib-highlight-mouse, bib-label-help): Make comment conform to the
	commenting conventions.
	(bib-label-prompt-map): Derive from
	minibuffer-local-completion-map instead of copying that.
	(bib-display-this-environment): Fix comment.
	(bib-document-TeX-files): Don't doubly-declare the-file.

2014-12-08  Mosè Giordano  <mose@gnu.org>

	* style/mathtools.el ("mathtools"): Fix closing bracket
	placement.  (Bug#19301)

2014-12-08  Arash Esbati  <esbati@gmx.de>

	* Makefile.in (STYLESRC): Add new styles.

	* style/newtxttt.el: New file.

	* style/newtxtext.el: New file.

	* style/newtxsf.el: New file.

	* style/newtxmath.el: New file.

	* style/fbb.el: New file.

	* style/erewhon.el: New file.

	* style/baskervaldx.el: New file.

2014-12-04  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-Omega-command): Add aleph and omega choices.
	(LaTeX-Omega-command): Add lamed and lambda choices.  (Bug#19260)

2014-12-03  Mosè Giordano  <mose@gnu.org>

	* README.GIT: Describe branches of the repository.

2014-12-02  Vladimir Lomov  <lomov.vl@gmail.com>  (tiny change)

	* latex/Makefile.in (MKINSTALLDIRS): Fix MKINSTALLDIRS path.

2014-11-29  Mosè Giordano  <mose@gnu.org>

	* tests/latex/latex-test.el (latex): Require latex.el.
	(LaTeX-indent-tabular-test/in): Expand file name in load
	directory, for automated tests.
	(LaTeX-indent-tabular-test/out): Ditto.

	* tests/Makefile: New Makefile.

	* Makefile.in (.PHONY): Add new check target.
	(check): New rule.  Suggest in comments to run it before a new
	release.

2014-11-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* tex.el (TeX-view-program-list-builtin): Fix up paren typo.

2014-11-28  Mosè Giordano  <mose@gnu.org>

	* tex.el (TeX-view-program-list-builtin): Add the new third
	element to each item.
	(TeX-view-program-list): Document new third element of items in
	doc string.  Adapt the type.
	(TeX-view-command-raw): Check whether the viewer executable
	exists.  (Bug#19121)

	* doc/auctex.texi (Starting Viewers): Document change to
	`TeX-view-program-list'.

	* doc/changes.texi: Mention it.

2014-11-28  Stefan Monnier  <monnier@iro.umontreal.ca>

	* style/siunitx.el (tex): Require tex because its indispensable
	when compiling the call to TeX-auto-add-type.

	* style/acronym.el (tex): Ditto.

	* style/acro.el (tex): Ditto.

2014-11-27  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-label-alist): Expand doc string.
	(LaTeX-label): Make second argument optional to restore backward
	compatibility and update doc string accordingly.  (Bug#19178)

2014-11-27  Matthew Leach  <matthew@mattleach.net>

	* configure.ac: Merge from preview/configure.ac.

	* .gitignore: Merge from preview/.gitignore.

	* autogen.sh: Don't run autoconf in the preview direcotry.

	* Makefile.in (subdirs): Remove.
	(DESCEND): Remove.
	(EXCLUDEDFILES): Remove 'preview/' prefix.
	(preview-ball): Likewise and decrement stip-components in tar.
	(previewstartfile): Adapt from preview/Makefile.in.
	(PREVIEW_AUTOLOAD): Likewise.
	(texmf): Likewise.
	(preview-latex.el): Likewise.
	(latex/Makefile): Likewise.
	(auto.el): Likewise.
	(install-startup): Likewise.
	(install-texmf): Likewise.
	(release-commit): Likewise.
	(DISTCLEANFILES): Likewise.
	(CLEANFILES): Add preview files.
	(install-el): Likewise.
	(install-lisp): Likewise.
	(all): Add texmf dependency and remove DESCEND.
	(clean): Remove DESCEND action.
	(distclean): Likewise.
	(maintainer-clean): Likewise.

	* doc/Makefile.in (preview-dtxdoc.texi): Update path of
	preview.dtx.

	* preview/ChangeLog: Move to ChangeLog-preview

	* preview/ChangeLog.1: Move to ChangeLog.1-preview

	* preview/auto.el.in: Move to top-level.

	* preview/circ.tex: Move to top-level.

	* preview/preview.el.in: Move to top-level.

	* preview/*.el: Move to top-level.

	* preview/images/: Move to images/.

	* preview/latex/: Move to latex/.

	* preview/Makefile.in: Remove.

	* preview/configure.ac: Remove.

	* preview/.gitignore: Remove.

	* preview/COPYING: Remove.

2014-11-21  Tassilo Horn  <tsdh@gnu.org>

	* doc/auctex.texi (Starting a Command): Document
	LaTeX-command-section and friends.

	* style/book.el ("book"): Set LaTeX-largest-level to part instead
	of chapter.

	* tex-buf.el (LaTeX-command-section-level): New variable.
	(LaTeX-command-section-level): New function.
	(LaTeX-command-section-change-level, LaTeX-command-section): New
	commands.

	* latex.el (LaTeX-mode-map): Bind C-c C-z to LaTeX-command-section
	and C-c M-z to LaTeX-command-section-change-level.

	* tex.el (TeX-evince-sync-view): Use line/col information from the
	TeX-region buffer if the View command is made on a region.

	* tex-buf.el (TeX-region-create): Position point in the same
	line/col as in the original buffer to make forward search work.

2014-11-20  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-env-figure): Fix indentation when there is the
	\centering macro and no caption is inserted.

	* style/fontspec.el ("fontspec"): Fix fontification of
	"newfontfamily" and "newfontface".

2014-11-19  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-sync-source): Make backward/inverse
	search form PDF to tex work also for TeX-regions.

	* tex-buf.el (TeX-region-orig-buffer): New variable.
	(TeX-region-create): Set TeX-region-orig-buffer.

	* tex.el (TeX-submit-bug-report): Adapt bug report intro text to
	mention debbugs url.

2014-11-18  Arash Esbati  <esbati@gmx.de>

	* style/zlmtt.el (font-latex-add-keywords): Use more consistent
	fontification.

	* style/textcomp.el (font-latex-add-keywords): Ditto.

	* style/fontaxes.el (font-latex-add-keywords): Ditto.

	* style/XCharter.el (font-latex-add-keywords): Ditto.

2014-11-18  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-region-create): Disable finding of appropriate
	major-mode for region file.  Also disable file-local vars, and
	don't run find-file-hook functions.  Also, make the region file
	read-only to prevent accidental editing where actually the real
	file should have been edited (happens easily with source
	correlation mode).

2014-11-16  Mosè Giordano  <mose@gnu.org>

	* Makefile.in (WEMACSDATAROOTDIR, WEMACSSITELISP): New variables.
	(WPACKAGEFILES): Update accordingly.
	(windows-package): Fix structure of the package for Emacs 24.4.
	Reported by Uwe Siart.  Remove the zip package before creating it,
	otherwise it would be updated instead of recreated.
	Mention that bash shell is required for windows-package and
	release-upload recipes due to some bashisms in them.  Reported by
	José Carlos Santos.

2014-11-15  Mosè Giordano  <mose@gnu.org>

	* Makefile.in (WEMACSPACKAGE, WEMACSEXTRACTDIR): New variables.
	(windows-package): Adapt rule to new Emacs 24.4 package for
	Windows.  Use `WEMACSPACKAGE' and `WEMACSEXTRACTDIR'.

2014-11-15  Davide G. M. Salvetti  <salve@linux.it>

        * Makefile.in (STYLESRC): Add `ifluatex.el', `luatextra.el'.

        * style/luatextra.el: New style.

        * style/ifluatex.el: New style.

        * doc/faq.texi: Update the `Why does 'TeX-next-error' ('C-c `')
        fail?' entry, taking into account the `TeX-file-line-error'
        option.  Update copyright range.

        * doc/auctex.texi (Selecting a Command): Fix typo.
        (Automatic Local): Update description of `TeX-style-path',
        `TeX-style-global', `TeX-style-local', and `TeX-auto-local'
        variables: there is no need to end directories and directories
        lists items with a slash.

        * doc/quickstart.texi (Editing Facilities): Fix documentation: to
        change font attributes of existing text, it has to be marked as an
        _active_ region.

2014-11-10  Davide G. M. Salvetti  <salve@linux.it>

        * context.el: Replace `read-string' with `TeX-read-string'.

        * latex.el: Replace `read-string' with `TeX-read-string'.

        * style/CJK.el: Replace `read-string' with `TeX-read-string'.

        * style/amsmath.el: Replace `read-string' with `TeX-read-string'.

        * style/amsthm.el: Replace `read-string' with `TeX-read-string'.

        * style/beamer.el: Replace `read-string' with `TeX-read-string'.

        * style/csquotes.el: Replace `read-string' with `TeX-read-string'.

        * style/dinbrief.el: Replace `read-string' with `TeX-read-string'.

        * style/dk-bib.el: Replace `read-string' with `TeX-read-string'.

        * style/emp.el: Replace `read-string' with `TeX-read-string'.

        * style/epsf.el: Replace `read-string' with `TeX-read-string'.

        * style/filecontents.el: Replace `read-string' with `TeX-read-string'.

        * style/foils.el: Replace `read-string' with `TeX-read-string';
        add copyright notice.

        * style/graphicx.el: Replace `read-string' with `TeX-read-string'.

        * style/inputenc.el: Replace `read-string' with `TeX-read-string'.

        * style/letter.el: Replace `read-string' with `TeX-read-string'.

        * style/longtable.el: Replace `read-string' with `TeX-read-string'.

        * style/mathtools.el: Replace `read-string' with `TeX-read-string'.

        * style/natbib.el: Replace `read-string' with `TeX-read-string'.

        * style/paralist.el: Replace `read-string' with `TeX-read-string'.

        * style/plext.el: Replace `read-string' with `TeX-read-string'.

        * style/prosper.el: Replace `read-string' with `TeX-read-string'.

        * style/psfig.el: Replace `read-string' with `TeX-read-string'.

        * style/pstricks.el: Replace `read-string' with `TeX-read-string'.

        * style/scrbase.el: Replace `read-string' with `TeX-read-string'.

        * style/scrlttr2.el: Replace `read-string' with `TeX-read-string'.

        * tex-info.el: Replace `read-string' with `TeX-read-string'.

        * tex.el: Replace `read-string' with `TeX-read-string'.

2014-11-04  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (VirTeX-common-initialization): Define a variable alias
	for find-file-hook on XEmacs.

2014-11-04  Stefan Monnier  <monnier@iro.umontreal.ca>

	* toolbar-x.el: Adjust copyright years.
	(require): Require cl at compile-time.
	(toolbarx-good-option-list-p): Use pushnew instead of add-to-list.

	* tex.el (url-unreserved-chars): Declare to silence byte-compiler.
	(TeX-tree-expand): Use pushnew instead of add-to-list.  Iterate
	path-list in reversed order.
	(TeX-style-path): Use mapc instead of mapcar for side-effects.
	(TeX-file-extensions, BibTeX-file-extensions)
	(TeX-Biber-file-extensions): Declare to silence byte-compiler.
	(TeX-tree-roots): Use pushnew instead of add-to-list.
	(TeX-search-files-by-type): Use setq/pushnew instead of
	dolist/add-to-list.
	(TeX-doc): Use pushnew instead of add-to-list.

	* tex-info.el (require): Require cl at compile-time.
	(Texinfo-insert-node): Use pushnew instead of add-to-list.
	(reftex-section-levels-all, reftex-level-indent)
	(reftex-label-menu-flags, reftex-tables-dirty): Always
	forward-declare (not only at compile-time).
	(when): declare-function only at compile-time.

	* tex-fold.el: Adjust copyright years.
	(require): Require cl at compile-time.
	(TeX-fold-region-macro-or-env, TeX-fold-update-at-point): Use
	pushnew instead of add-to-list.
	(TeX-fold-hide-item): Use setq instead of add-to-list.

	* tex-buf.el (font-lock-mode-enable-list)
	(font-lock-auto-fontify, font-lock-defaults-alist): Declare vars
	to silence byte-compiler.

	* multi-prompt.el: Adjust copyright years.
	(multi-prompt): Don't let-bind unused var done.
	(multi-prompt-next-must-match): Use minibuffer-completion-table
	instead of dynamically bound table.

	* latex.el (require): Require cl at compile-time.
	(title, name, level, done-mark, toc): Declare dynamic vars.
	(LaTeX-env-document, TeX-arg-index-tag, TeX-arg-document)
	(LaTeX-arg-usepackage, TeX-arg-verb, ): Rename unused arg.
	(LaTeX-listify-package-options): Use setq instead of add-to-list
	to add to local var.
	(reftex-ref-macro-prompt, TeX-arg-item-label-p)
	(TeX-arg-right-insert-p): Declare to silence byte-compiler.
	(LaTeX-indent-line): Use pushnew instead of add-to-list.
	(LaTeX-fill-move-to-break-point): Don't let-bind unused math-sep.
	(LaTeX-section-enable-symbol): Downcase arg.
	(LaTeX-indent-tabular): Use mapc instead of mapcar for
	side-effects.

	* context.el (done-mark, reference, title, name, level): Declare
	dynamic vars without global nil value.
	(ConTeXt-section): let-bind reference.  Remove binding of unused
	var toc.
	(ConTeXt-numbered-section-hook, ConTeXt-unnumbered-section-hook):
	Improve docstring.
	(ConTeXt-find-matching-stop): Don't let-bind pos.
	(ConTeXt-optional-argument-insert)
	(ConTeXt-required-argument-insert, ConTeXt-indent-line): Rename
	unused arg.
	(ConTeXt-mode-common-initialization): Use fboundp to check if
	make-local-hook is defined.

	* bib-cite.el: Expand copyright years.
	(bib-cite-is-XEmacs): Remove.
	(bib-cite-minor-mode, bib-cite-setup-highlight-mouse-keymap)
	(bib-etags, bib-highlight-mouse, bib-toggle-highlight)
	(bib-etags-find-noselect): Check for XEmacs with featurep.
	(bib-cite-setup-mouse-function): Rename unused arg.
	(bib-apropos): Use mapc instead of mapcar for side effects.
	(bib-cite-fontify-help-xemacs): Define only on XEmacs.
	(bib-cite-fontify-help-as-bibtex, bib-cite-fontify-help-as-latex):
	Check for XEmacs with featurep.  Fix fontification code.
	(bib-display-this-ref): Use point-min instead of 1.
	(TeX-auto-save, TeX-auto-update, TeX-auto-regexp-list): Declare to
	silence the byte-compiler.

2014-11-03  Arash Esbati  <esbati@gmx.de>

	* style/zlmtt.el: New file.

	* style/XCharter.el: New file.

	* style/textcomp.el: New file.

	* style/MyriadPro.el: New file.

	* style/mdsymbol.el: New file.

	* style/fontaxes.el: New file.

	* style/eso-pic.el: New file.

	* style/AnonymousPro.el: New file.

2014-11-02  Arash Esbati  <esbati@gmx.de>

	* style/MinionPro.el (TeX-add-symbols): Remove `figureversion',
	`textsw', `textssc', `sscshape' and `swshape'.
	(TeX-run-style-hooks): Added "fontaxes".

	* style/MinionPro.el (LaTeX-MinionPro-package-options): Added
	additional options from v2.3 of `MinionPro.sty', available from
	<https://github.com/sebschub>

2014-11-01  Davide G. M. Salvetti  <salve@linux.it>

        * tex.el (TeX-file-line-error): New customizable option.
        (TeX-expand-list): New expander "$(file-line-error)".
        (TeX-command-list): Use it.
        (LaTeX-command-style): Use it.

        * doc/auctex.texi (Processor Options): Document
        `TeX-file-line-error'.

        * doc/changes.texi: Mention `TeX-file-line-error'.

2014-10-31  Mosè Giordano  <mose@gnu.org>

	* Makefile.in (CTANDIR): New variable.
	(preview-ball): Create a top level directory "preview/" in the
	preview tarball, as required by CTAN.  Save the tarball to
	$(CTANDIR) instead of $(FTPDIR).

2014-10-29  Mosè Giordano  <mose@gnu.org>

	* Version 11.88 released.

2014-10-29  Matthew Leach  <matthew@mattleach.net>

	* latex.el (LaTeX-indent-environment-list): Remove setter
	lambda.
	(LaTeX--tabular-like-end): Remove variable.
	(LaTeX-indent-tabular): Move setter function from
	LaTeX-indent-environment-list to generate tabular-end regex when
	called.

2014-10-29  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-largest-level-set): Set `outline-heading-alist'
	only if it is bound.

	* .gitignore: Ignore preview/preview.el.

	* Makefile.in (DISTCLEANFILES): Add preview/preview.el.
	(release-commit): Write new version announcement also into
	preview/ChangeLog.

	* aclocal.m4: Add a third argument to
	`AC_DATE_VERSION_FROM_CHANGELOG' specifying the ChangeLog file.

	* configure.ac: Use new third argument of
	`AC_DATE_VERSION_FROM_CHANGELOG'.  Retrieve preview date and
	version from its ChangeLog.  Add preview/preview.el to output
	files.

2014-10-22  Mosè Giordano  <mose@gnu.org>

	* RELEASE: Update AUCTeX version, the new features section, and
	the list of contributors.

	* configure.ac: Update AUCTeX version.

	* doc/changes.texi: Mention generic bug fixes for 11.88 release.

	* doc/tex-ref.tex: Update AUCTeX version and copyright years
	across the file.
	Add now working `TeX-previous-error' key-binding.

	* tex.el: Update copyright year.

	* doc/Makefile.in: Make it possible to build the HTML doc with
	`makeinfo' if `texi2html' is not available.  Add new
	`TEXI2HTML_TOC' variable.
	(extradist): Use `TEXI2HTML_TOC'.
	(html/$(TEXI2HTML_TOC)): Use `TEXI2HTML_TOC'.  Fix splitting
	option to HTML engine.  Suggested by Norbert Preining.

	* latex.el (LaTeX-newline): Fix for when
	`comment-auto-fill-only-comments' is non-nil.  Suggested by Piet
	van Oostrum.

2014-10-13  Matthew Leach  <matthew@mattleach.net>

	* style/cleveref.el: New file.

2014-10-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex.el (featurep): Activate mark in the GNU Emacs version of
	TeX-activate-mark instead of being a no-op.
	(TeX-insert-dollar): Use set-mark instead of push-mark in order to
	avoid duplicate marks.

2014-10-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	* texmathp.el (texmathp-tex-commands-default): Move equation*
	environment to AMS-LaTeX section.
	(texmathp-why): Fix docstring.

2014-10-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	* style/amstext.el (LaTeX-amstext-package-options): Rename from
	`LaTeX-amstext-package-option'.

2014-10-02  Ikumi Keita  <ikumi@ikumi.que.jp>

	* tex-info.el (Texinfo-mark-environment, Texinfo-mark-section)
	(Texinfo-mark-node): Use `push-mark' instead of `set-mark'.

	* latex.el (LaTeX-mark-environment): Ditto.

	* context.el (ConTeXt-mark-environment): Ditto.

2014-09-25  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-insert-environment): Pass correct \end buffer
	position to hooks in LaTeX-after-insert-env-hooks.

2014-09-13  Vincent Belaïche  <vincent.b.1@hotmail.fr>

	* latex.el (LaTeX-dialect): Correct doctstring for consistency
	with definition of function TeX-add-style-hook.

	* doc/auctex.texi (Simple Style): modify example with
	'TeX-add-style-hook', so that 3rd argument is added. Modify @defun
	of 'TeX-add-style-hook' also to document addition of 3rd argument.

2014-09-11  Vincent Belaïche  <vincent.b.1@hotmail.fr>

	* doc/changes.texi: Add information about style hook labelling by dialect.

	* doc/todo.texi (Bugs): Update Bug #1 about style hook clash.

	* style/xspace.el ("xspace"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/xparse.el ("xparse"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/virtex.el ("virtex"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/verbatim.el ("verbatim"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/varioref.el ("varioref"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/url.el ("url"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/units.el ("units"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/unicode-math.el ("unicode-math"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ulem.el ("ulem"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/tabulary.el ("tabulary"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/tabularx.el ("tabularx"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/swedish.el ("swedish"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/subfigure.el ("subfigure"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/slovak.el ("slovak"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/slides.el ("slides"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/siunitx.el ("siunitx"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/shortvrb.el ("shortvrb"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/setspace.el ("setspace"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrreprt.el ("scrreprt"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrpage2.el ("scrpage2"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrlttr2.el ("scrlttr2"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrbook.el ("scrbook"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrbase.el ("scrbase"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/scrartcl.el ("scrartcl"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ruby.el ("ruby"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/report.el ("report"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ragged2e.el ("ragged2e"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pstricks.el ("pstricks"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pst-slpe.el ("pst-slpe"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pst-plot.el ("pst-plot"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pst-node.el ("pst-node"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pst-grad.el ("pst-grad"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/psfig.el ("psfig"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/prosper.el ("prosper"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/polski.el ("polski"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/polish.el ("polish"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/plhb.el ("plhb"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/plfonts.el ("plfonts"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/plext.el ("plext"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/placeins.el ("placeins"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/pdfsync.el ("pdfsync"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/paralist.el ("paralist"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/nomencl.el ("nomencl"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/nicefrac.el ("nicefrac"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ngerman.el ("ngerman"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/naustrian.el ("naustrian"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/natbib.el ("natbib"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/nameref.el ("nameref"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/multirow.el ("multirow"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/multind.el ("multind"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/multido.el ("multido"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/multicol.el ("multicol"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/mflogo.el ("mflogo"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/metalogo.el ("metalogo"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/memoir.el ("memoir"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/mdwlist.el ("mdwlist"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/mathtools.el ("mathtools"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/makeidx.el ("makeidx"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/luacode.el ("luacode"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ltxdoc.el ("ltxdoc"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/ltx-base.el ("ltx-base"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/lscape.el ("lscape"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/longtable.el ("longtable"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/listings.el ("listings"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/lipsum.el ("lipsum"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/lettrine.el ("lettrine"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/letter.el ("letter"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/latexinfo.el ("latexinfo"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/kpfonts.el ("kpfonts"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/kantlipsum.el ("kantlipsum"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jurabib.el ("jurabib"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jura.el ("jura"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jsbook.el ("jsbook"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jsarticle.el ("jsarticle"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jreport.el ("jreport"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jbook.el ("jbook"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/jarticle.el ("jarticle"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/j-report.el ("j-report"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/j-book.el ("j-book"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/j-article.el ("j-article"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/italian.el ("italian"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/inputenc.el ("inputenc"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/index.el ("index"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/imakeidx.el ("imakeidx"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/icelandic.el ("icelandic"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/hyperref.el ("hyperref"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/harvard.el ("harvard"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/graphicx.el ("graphicx"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/graphics.el ("graphics"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/german.el ("german"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/frenchb.el ("frenchb"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/french.el ("french"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/francais.el ("francais"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/footmisc.el ("footmisc"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/fontspec.el ("fontspec"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/foils.el ("foils"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/flashcards.el ("flashcards"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/filecontents.el ("filecontents"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/fancyvrb.el ("fancyvrb"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/fancyref.el ("fancyref"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/fancynum.el ("fancynum"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/fancyhdr.el ("fancyhdr"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/exercise.el ("exercise"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/everysel.el ("everysel"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/epsf.el ("epsf"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/epigraph.el ("epigraph"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/english.el ("english"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/emp.el ("emp"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/dutch.el ("dutch"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/doc.el ("doc"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/dk.el ("dk"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/dinbrief.el ("dinbrief"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/danish.el ("danish"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/czech.el ("czech"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/csquotes.el ("csquotes"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/comment.el ("comment"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/captcont.el ("captcont"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/bulgarian.el ("bulgarian"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/booktabs.el ("booktabs"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/book.el ("book"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/bm.el ("bm"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/bigstrut.el ("bigstrut"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/bigdelim.el ("bigdelim"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/biblatex.el ("biblatex"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/beamer.el ("beamer"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/babel.el ("babel"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/austrian.el ("austrian"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/article.el ("article"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/array.el ("array"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amsthm.el ("amsthm"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amstext.el ("amstext"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amstex.el ("amstex"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amssymb.el ("amssymb"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amsopn.el ("amsopn"): Add LaTeX-dialect to
	TeX-add-style-hook call. Update header with correct filename.

	* style/amsmath.el ("amsmath"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amsbsy.el ("amsbsy"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amsbook.el ("amsbook"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/amsart.el ("amsart"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/alphanum.el ("alphanum"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/alltt.el ("alltt"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/afterpage.el ("afterpage"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/acronym.el ("acronym"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/acro.el ("acro"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/MinionPro.el ("MinionPro"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/CJKutf8.el ("CJKutf8"): Add LaTeX-dialect to TeX-add-style-hook call.

	* style/CJK.el ("CJK"): Add LaTeX-dialect to TeX-add-style-hook call.

	* bib-cite.el (eval-after-load "bibtex"): Add hook
	TeX-bibtex-set-BibTeX-dialect to BibTex mode, this will set
	'TeX-style-hook-dialect' to :bibtex for BibTeX files so that
	Mosè's problem should be solved.

	* latex.el (LaTeX-common-initialization): set
	'TeX-style-hook-dialect' to :latex for LaTeX files, and those in
	LaTeX derived modes. Add LaTeX-dialect as DIALECT argument to all
	calls of TeX-add-style-hook.

	* tex.el (TeX-style-hook-list): Update docstring to make clear
	that style hooks can also be in the form '[TeX-style-hook HOOK-FUN
	DIALECT-SET]'.
	(TeX-bibtex-set-BibTeX-dialect): New defun.
	(TeX-style-hook-dialect-weight-alist): New defconst.
	(TeX-shdex-eval): New defun.
	(TeX-shdex-or TeX-shdex-and TeX-shdex-nor TeX-shdex-not)
	(TeX-shdex-in-p TeX-shdex-listify): New defsubst.
	(TeX-style-hook-dialect): New defvar, used to have style hooks
	called only in corresponding context.
	(TeX-add-style-hook): Add optional argument context for marking
	hooks that must run only in non default (aka nil) dialect.
	(TeX-keep-hooks-in-dialect): New defun, used for unloading only
	those hooks in a dialect list.
	(TeX-unload-style): Add optional argument context-list for
	unloading only those hooks marked for contexts in that
	context-list.
	(TeX-run-style-hooks): Run style hook only when current style hook
	context matches context for which hook is marked.

	* tex-info.el (Texinfo-environment-list): Add 'html' and 'float'
	environments.
	(TeX-texinfo-mode): set 'TeX-style-hook-dialect' to :texinfo for
	Texinfo files. Add macro '@caption'.

2014-09-08  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-assoc-string): Remove docstring from defalias since
	that's not supported with XEmacs.

2014-08-25  Florent Rougon  <f.rougon@free.fr>  (tiny change)

	* tex-buf.el (TeX-command-expand): Fix possible endless loop in
	file name expansion.

2014-08-24  Mosè Giordano  <mose@gnu.org>

	* tests/tex/command-expansion.el: New test file.

2014-08-24  Florent Rougon  <f.rougon@free.fr>  (tiny change)

	* tex.el (TeX-expand-list): Add the previous position to the
	lenght of the expanded string to get the current position in the
	%' expander.

2014-08-18  Vincent Belaïche  <vincent.b.1@hotmail.fr>

	* font-latex.el (font-latex-add-quotes): Code optimization: use
	'(add-to-list (make-local-variable (quote foo)) some-value)'
	instead of '(make-local-variable (quote foo)) (add-to-list 'foo
	some-value)' wherever possible.

	* bib-cite.el (bib-cite-minor-mode)
	(bib-cite-setup-highlight-mouse-keymap): Code optimization: use
	'(set (make-local-variable (quote foo)) some-value)' instead of
	'(make-local-variable (quote foo)) (setq foo some-value)' wherever
	possible.

	* latex.el (BibTeX-auto-store)
	(LaTeX-common-initialization): Ditto.

	* tex-info.el (TeX-texinfo-mode): Code optimization: use '(set
	(make-local-variable (quote foo)) some-value)' instead of
	'(make-local-variable (quote foo)) (setq foo some-value)' wherever
	possible. Add in style Texinfo standard macros '@acronym' and
	'@tie'.

	* tex.el (TeX-assoc-string) new defalias to work-around missing
	assoc-string in XEmacs.
	(TeX-unload-style): Code optimization: use 'TeX-assoc-string'
	instead of 'assoc' to search style in 'TeX-style-hook-list', and
	use delq on returned value of assoc-string for removing the style
	--- on the one hand delq will go through the whole list rather
	than stop after the first match like in original code, but on the
	other hand comparison are faster because eq instead of equal is
	used and we are working on assoc cell rather than on key, so less
	indirection, furthermore delq is C code. Anyway that make the code
	much smaller and easier to understand.
	(TeX-file-extensions): Add txi amongst extension of texinfo files,
	for consistency with info node '(texinfo) Minimum'
	(TeX-run-style-hooks): Code optimization: use 'TeX-assoc-string'
	instead of 'assoc' to search style in 'TeX-style-hook-list'.
	(VirTeX-common-initialization): Code optimization: use '(set
	(make-local-variable (quote foo)) some-value)' instead of
	'(make-local-variable (quote foo)) (setq foo some-value)' wherever
	possible.

2014-08-18  Tassilo Horn  <tsdh@gnu.org>

	* font-latex.el (font-latex-set-syntactic-keywords): Allow for a
	mandatory argument for a verbatim environment.

2014-08-15  Vladimir Lomov  <lomov.vl@gmail.com>

	* style/mathtools.el ("mathtools"): Don't use the removed
	`LaTeX-amsmath-env-aligned' function.

2014-08-14  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-insert-label): Remove.
	(LaTeX-label): Add a new mandatory argument.  Do not use
	`LaTeX-insert-label'.  Determine the prefix at the beginning of
	the function and insert the label only if the prefix is non nil.
	(LaTeX-section-label, LaTeX-env-figure, LaTeX-env-label): Use the
	second mandatory argument of `LaTeX-label'.

	* style/amsmath.el: Update copyright years.
	("amsmath"): Append the environments to `LaTeX-label-alist'
	instead of prepeding them.  Use the second mandatory argument of
	the `LaTeX-label' function.

	* style/longtable.el: Update copyright years.
	("longtable"): Move addition of "longtable" environment to
	`LaTeX-label-alist' inside the style hook.  Append the environment
	to the alist instead of prepending it.  Use the second mandatory
	argument of the `LaTeX-label' function.

	* doc/auctex.texi (Sectioning, Environments): Remove references to
	`LaTeX-insert-label'.
	(Environments): Document `LaTeX-label-alist'.

	* doc/changes.texi: Remove references to `LaTeX-insert-label'.

2014-08-12  Mosè Giordano  <mose@gnu.org>

	* latex.el (LaTeX-insert-label): Rename from
	`LaTeX-auto-insert-label' and mention sections in the doc-string.
	(LaTeX-label): Update accordingly.

	* doc/auctex.texi (Sectioning): Mention `LaTeX-insert-label'.
	(Environments): Update `LaTeX-insert-label' name and document use
	for sectioning commands.
	(Environments, Completion): Prettify
	`TeX-complete-expert-commands' documentation by using a table
	environment.

	* doc/changes.texi: Rename `LaTeX-auto-insert-label' to
	`LaTeX-insert-label' and mention sections too.

2014-08-11  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-command): Keep the frame and the buffer
	associate to the error overview if the command to be run is View.

	* latex.el (LaTeX-auto-insert-label): New customizable variable.
	(LaTeX-label): Use it.

	* doc/auctex.texi (Environments): Document
	`LaTeX-auto-insert-label'.

	* doc/changes.texi: Mention `LaTeX-auto-insert-label'.  Fix a
	couple of bad-boxes in the PDF output of the manual.

2014-07-25  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-largest-level-set): Adapt
	`outline-heading-alist' according to largest level in order to
	make `outline-promote' (and others) work correctly.

2014-07-25  Mosè Giordano  <mose@gnu.org>

	* doc/auctex.texi (Adding Macros): Document `TeX-date-format'.

	* doc/changes.texi: Mention `TeX-date-format'.

	* latex.el (TeX-date-format): New customizable option.
	Suggested by Uwe Brauer.
	(TeX-arg-date): Use it.

2014-07-17  Mosè Giordano  <mose@gnu.org>

	* Makefile.in: Update copyright years.
	(EXCLUDEDFILES): Rename from GITFILES.  Remove also .cvsignore and
	tests from the release tarball.
	(release-commit): More precise suggestion to push tag and release
	commit.
	(tar-ball): Use EXCLUDEDFILES in place of GITFILES.

2014-07-15  Ikumi Keita  <ikumi@ikumi.que.jp>

	* latex.el: Enhance array and tabular(*) environments support.
	(LaTeX-env-array): Add call to `LaTeX-item-array'.
	(LaTeX-env-tabular*): Add call to `LaTeX-item-tabular*'.
	(LaTeX-array-skipping-regexp): New variable.
	(LaTeX-tabular*-skipping-regexp): Ditto.
	(LaTeX-item-array): New function.  Put line break macro on the
	last line and insert suitable number of ampersands.
	(LaTeX-item-tabular*): Ditto.
	(LaTeX-insert-ampersands): New function.  Insert suitable number
	of ampersands.
	(LaTeX-array-column-letters): New variable.  Column letters for
	array-like environments.
	(LaTeX-array-count-columns): New function.  Count number of
	ampersands to be inserted.
	(LaTeX-common-initialization): Add entries to LaTeX-item-list to
	use `LaTeX-item-array' and `LaTeX-item-tabular*'.

	* style/amsmath.el: Enhance alignat-like environments support
	as well as some cleanups.
	(LaTeX-item-equation-alignat): New function.  Insert contents to
	terminate a line in multi-line equations environment.
	(LaTeX-amsmath-env-alignat): Use it.  Add doc string.
	(LaTeX-amsmath-env-alignedat): Ditto.
	(LaTeX-amsmath-env-aligned): Removed.  Just specifying a prompt
	string for an optional argument is enough.
	(LaTeX-item-equation): Take over the job of
	`LaTeX-item-equations'.  Add an optional `suppress' argument:
	when it is non-nil skip putting line break macro.  Add doc string.
	(LaTeX-item-equations): Removed.  Its task is now covered by
	`LaTeX-item-equation'.
	(LaTeX-item-equation-alignat): New function.  Insert ampersands
	according to the columns number, as well as calling
	`LaTeX-item-equation'.
	(LaTeX-amsmath-alignat-number-of-ampersands): New function.
	("amsmath"): Arrange setups of variables to adopt the above
	changes.

	* style/array.el ("array"): Change `LaTeX-array-column-letters'
	locally to include addtional letters extended in array.sty.

	* style/plext.el: New style file.  Add support for extended
	format for array-like environments.

	* Makefile.in (STYLESRC): Include style/plext.el.

	* doc/auctex.texi: Add documentation for the above enhancements.

	* doc/changes.texi: Ditto.

2014-07-14  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-next-error): Do not pass `reparse' argument to
	`next-error' in XEmacs as it is not supported.
	(TeX-error-overview-frame, TeX-error-overview-buffer-name): Move
	before their first use in order to prevent a runtime error in
	XEmacs and GNU Emacs 21.  Reported by Ikumi Keita.
	(TeX-parse-TeX): Manually set `item' to nil when
	`TeX-error-last-visited' is negative.
	(TeX-error-description-error, TeX-error-description-warning)
	(TeX-error-description-tex-said): Set to nil in XEmacs and GNU
	Emacs 21.  Reported by Ikumi Keita.

2014-07-13  Mosè Giordano  <mose@gnu.org>

	* latex.el (TeX-latex-mode): Add second argument to
	`local-variable-p', mandatory in XEmacs.  Suggested by Ikumi
	Keita.

	* preview/preview.el (preview-dump-state): Ditto.

	* style/biblatex.el ("biblatex"): Ditto.

	* tex.el (TeX-how-many): Make the function return a number also in
	XEmacs and Emacs 21.  Suggested by Ikumi Keita.

2014-07-12  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-error-description-error): Do not use the
	`default' display, not supported by GNU Emacs 21 and XEmacs 21.4.
	(TeX-error-description-warning): Ditto.

2014-07-11  Mosè Giordano  <mose@gnu.org>

	* tex-buf.el (TeX-error-description-error): Make face definition
	XEmacs compatible.
	(TeX-error-description-tex-said): Ditto.
	(TeX-error-description-help): Ditto.

	* tex.el (nil): Handle the case of a non-available crm.el with a
	`condition-case', instead of using the third argument of
	`require', not recognized by XEmacs 21.4.
	(and): Check whether dbus support is available before requiring
	dbus.el.

2014-07-02  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-expand-list): Set
	`TeX-source-correlate-output-page-function' when necessary, in the
	"%(outpage)" expander.
	(TeX-source-correlate-method): Add an alist as a possible value
	and change the default.
	(TeX-source-correlate-method-active): Convert to a function.
	(TeX-source-correlate-expand-options): Use the
	`TeX-source-correlate-method-active' function.
	(TeX-source-correlate-mode): Remove setting of the
	`TeX-source-correlate-output-page-function' variable and of the
	now deleted `TeX-source-correlate-method-active' variable.
	(TeX-source-specials-view-expand-options): Use the
	`TeX-source-correlate-method-active' function.
	(TeX-mode-specific-command-menu-entries): Hide "Previous Error"
	and "Error Overview" entries when not available.

	* context.el: Update copyright years.
	(ConTeXt-expand-options): Use the
	`TeX-source-correlate-method-active' function.

	* doc/auctex.texi (I/O Correlation): Update documentation of
	`TeX-source-correlate-method'.

	* doc/changes.texi: Mention change to the default value of
	`TeX-source-correlate-method'.

2014-06-29  Mosè Giordano  <giordano.mose@libero.it>

	* doc/todo.texi (Mid-term Goals): Remove "More flexible option and
	command handling" item: we now have `TeX-command-extra-options'.
	(Wishlist): Remove "Poor man's Source Specials": AUCTeX supports
	source specials and SyncTeX.
	(Wishlist): Remove "multiple completion for \bibliography" item:
	"\bibliography" does complete multiple arguments.

2014-06-28  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el (TeX-command): Kill the frame and buffer associated
	to the error overview before running commands.
	(TeX-TeX-sentinel): Open error overview if
	`TeX-error-overview-open-after-TeX-run' is non-nil and there are
	errors or warnings to show.
	(TeX-LaTeX-sentinel): Ditto.
	(TeX-find-display-help): Set `runbuf' to `TeX-active-buffer' since
	this function may be called also from the error overview buffer.
	(TeX-error-description-faces): Change group to more appropriate
	`TeX-output'.
	(TeX-error-overview-active-buffer): New variable.
	(TeX-error-overview-orig-frame): Ditto.
	(TeX-error-overview-orig-window): Ditto.
	(TeX-error-overview-frame): Ditto.
	(TeX-error-overview-setup): New customizable variable.
	(TeX-error-overview-setup): New function.
	(TeX-error-overview-goto-source): Ditto.
	(TeX-error-overview-make-entries): Ditto.
	(TeX-error-overview-next-error): Ditto.
	(TeX-error-overview-previous-error): Ditto.
	(TeX-error-overview-quit): Ditto.
	(TeX-error-overview-mode-map): New variable.
	(TeX-error-overview-list-entries): Ditto.
	(TeX-error-overview-mode): New major mode.
	(TeX-error-overview-buffer-name): New constant.
	(TeX-error-overview-frame-parameters): New customizable variable.
	(TeX-error-overview-open-after-TeX-run): Ditto.
	(TeX-error-overview): New function.
	(TeX-find-display-help): Expand the name of the file to be visited
	starting from the directory of the master file.
	(TeX-error-overview-make-entries): Add optional `master-dir'
	argument, to shorten file names when they are relative.
	(TeX-error-overview): Pass `TeX-master-directory' as argument to
	`TeX-error-overview-make-entries'.

	* tex.el (TeX-error-overview): Autoload `TeX-error-overview'.
	(TeX-mode-specific-command-menu-entries): Add an entry for the
	error overview.

	* doc/auctex.texi (Debugging): Document error overview.

	* doc/changes.texi: Mention error overview.  Add local variables
	to the end of the file.

	* doc/todo.texi: Add local variables to the end of the file.
	(Wishlist): Update entry about error reporting.

2014-06-21  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el (TeX-parse-TeX): Use `TeX-find-display-help' in place
	of `TeX-error-list-find-display-help'.
	(TeX-error-list-find-display-help): Removed, replaced by more
	general `TeX-find-display-help'.
	(TeX-find-display-help): New function.
	(TeX-error): Append nils to the `TeX-error-list' entry to make
	each entry of the same lenght for both errors and warnings.
	Append also `TeX-error-point'.  This fixes a bug occurring when
	`TeX-display-help' is set to `expert'.  Use
	`TeX-find-display-help' to display the help.
	(TeX-warning): Append `TeX-error-point' to the `TeX-error-list'
	entry to fix the above mentioned bug.  Use `TeX-find-display-help'
	to display the help.

2014-06-04  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el (TeX-parse-TeX): Use
	`TeX-error-list-find-display-help'.
	(TeX-error-list-find-display-help): New function.
	(TeX-warning): Use `bad-box' when there is a bad box.
	(TeX-warning--find-display-help): Cater for bad boxes.
	(TeX-help-error): Ditto.

2014-06-02  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el (TeX-error--find-display-help): Use new fourth
	argument of `TeX-help-error'.
	(TeX-warning): Rename mandatory argument to `warning'.  Do not add
	leading "** " to warning string.
	(TeX-warning--find-display-help): Use new fourth argument of
	`TeX-help-error'.
	(TeX-error-description-faces): New group.
	(TeX-error-description-error): New face.
	(TeX-error-description-warning): Ditto.
	(TeX-error-description-tex-said): Ditto.
	(TeX-error-description-help): Ditto.
	(TeX-help-error): Add new `type' argument.  Color help messages
	using the new faces.
	(TeX-warning): Preserve point when searching backward.  In some
	cases this prevents infinite loops in `TeX-parse-all-errors' and
	fixes wrong detection of context string.

2014-05-27  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-mode-specific-command-menu-entries): Add
	`TeX-previous-error'.

	* tex-buf.el (TeX-error-list): Fix typo.
	(TeX-parse-all-errors): Ditto.

2014-05-23  Stefan Monnier  <monnier@iro.umontreal.ca>

	Backport from ELPA repository.
	* tex-site.el (TeX-modes-set): Use advice-add if available.
	* font-latex.el (font-latex-make-sectioning-faces): Don't rely on
	dynamic scoping for `num'.
	(font-latex-make-built-in-keywords): Don't use `eval' needlessly.
	(font-latex-doctex-syntactic-keywords): Declare before first use.
	(font-latex-match-command-with-arguments):
	Stay away from `add-to-list' on let-bound variables.
	(font-latex-match-command-in-braces): Remove unused var `end'.

2014-05-20  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el: Update copyright years.
	(TeX-error-last-visited): New buffer-local variable.
	(TeX-get-parse-function): New function.
	(TeX-next-error): Add `apt' argument and make all arguments
	optional.  Use `TeX-get-parse-function'.
	(TeX-previous-error): Use `TeX-get-parse-function'.  Use
	`TeX-parse-TeX' to move between errors when possible.
	(TeX-TeX-sentinel): Parse the output log when
	`TeX-parse-all-errors' is non-nil.
	(TeX-LaTeX-sentinel): Ditto.
	(TeX-parse-reset): Add an optional `reparse' argument and reparse
	the output log when it is non-nil.  Reset also `TeX-error-list'
	and `TeX-error-last-visited'.
	(TeX-parse-command): Add `arg' argument.
	(TeX-parse-TeX): Add `arg' argument.  When `TeX-parse-all-errors'
	is non-nil, use `TeX-error-list' to move to the error point.
	(TeX-error-list): New buffer-local variable.
	(TeX-parse-all-errors): New customizable variable.
	(TeX-parse-all-errors): New function.
	(TeX-parse-error): Add an optional `store' argument.  Make the
	function return non-nil when an error or a warning is found.
	(TeX-error): Add an optional `store' argument: when it is non-nil
	store the relevant information about the error in
	`TeX-error-list'.  Use `TeX-error--find-display-help'.
	(TeX-error--find-display-help): New function.
	(TeX-warning): Add an optional `store' argument: when it is
	non-nil store the relevant information about the warning in
	`TeX-error-list'.  Use `TeX-warning--find-display-help'.
	(TeX-warning--find-display-help): New function.
	(TeX-output-mode-map): Bind `p' to the now working
	`TeX-previous-error'.

	* doc/auctex.texi (Debugging): Document `TeX-previous-error' and
	`TeX-parse-all-errors'.  Update `TeX-next-error'.

	* doc/changes.texi: Update copyright years.  Mention
	`TeX-next-error' and `TeX-previous-error' changes and the new
	`TeX-parse-all-errors'.

	* doc/todo.texi: Update copyright years.
	(Wishlist): Update a couple of items related to error parsing.

2014-05-17  Mosè Giordano  <giordano.mose@libero.it>

	* font-latex.el: Update copyright years.
	(font-latex-update-sectioning-faces): Make sure
	`height-scale' is a floating point number.
	(font-latex-make-sectioning-faces): Ditto.

2014-05-10  Mosè Giordano  <giordano.mose@libero.it>

	* style/siunitx.el: Update copyright years and specify last
	`siunitx' version supported.  Hard wrap lines longer than 80
	columns.
	(LaTeX-siunitx-regexp): Move the escape character out of the group
	matching the unit name.
	(LaTeX-arg-siunitx-unit): Add `prefix' argument.  Replace the
	space with `TeX-esc' as the completion separator.
	(LaTeX-arg-define-siunitx-unit): Define a default prompt; set
	`initial-input' to nil; use `TeX-esc' as prefix to the given
	input.
	("siunitx"): Remove the escape character from the unit names.

2014-05-02  Jobst Hoffmann  <J.Hoffmann@fh-aachen.de>  (tiny change)

	* style/listings.el ("listings"): Fix typo.

2014-05-01  Mosè Giordano  <giordano.mose@libero.it>

	* font-latex.el (font-latex-set-syntactic-keywords): Fix
	fontification of the optional argument to a verbatim-like
	environment.

2014-04-16  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-parse-error): Add another exception.

2014-04-06  Tassilo Horn  <tsdh@gnu.org>

	* tex-info.el (TeX-texinfo-mode): Use `texinfo-current-defun-name'
	in `C-x 4 a'.

2014-04-04  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-add-environments): Move advising of
	`LaTeX-add-environments' after definition of
	`LaTeX-environment-menu' and `LaTeX-environment-modify-menu'
	variables to fix assignment to free variable warnings.

	* tex-style.el: Update coyright years.
	(LaTeX-biblatex-use-Biber): New variable.  Mark as
	safe-local-variable.

	* latex.el (TeX-latex-mode): Add setting of `LaTeX-using-Biber' to
	`TeX-update-style-hook'.

	* style/biblatex.el ("biblatex"): Use `LaTeX-biblatex-use-Biber'
	value to set `LaTeX-using-Biber' when it is set locally.

	* tex-bar.el: Update copyright years.
	(LaTeX-install-toolbar): Append toolbar refresh to
	`TeX-update-style-hook' instead of prepending it.

	* doc/auctex.texi:  Update copyright years.
	(Selecting a Command): Document `LaTeX-biblatex-use-Biber'.

	* doc/changes.texi: Mention `LaTeX-biblatex-use-Biber' change.

2014-04-02  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el: Update copyright years and specify last
	`biblatex' version supported.
	(LaTeX-biblatex-executebibliographyoptions-options): Update.
	(LaTeX-biblatex-language-list): Ditto.
	(LaTeX-arg-biblatex-cites): Fix condition on `items' variable to
	adapt to the `TeX-completing-read-multiple' return value change.

2014-03-17  Nicolas Richard  <theonewiththeevillook@yahoo.fr>

	* style/exercise.el: New file.

2014-03-18  Tassilo Horn  <tsdh@gnu.org>

	* doc/auctex.texi: Mention that `TeX-PDF-mode' is enabled by
	default.

	* tex.el (TeX-PDF-mode): Enable TeX PDF mode by default.

	* tex-buf.el (TeX-command-master): Ask for TeX-master if it cannot
	be determined otherwise.

2014-03-15  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-view-command-raw): Throw an error when `spec' is
	nil, otherwise when the function returns nil `TeX-command-expand'
	enters an infinite loop.

	* style/paralist.el: Update copyright years.
	("paralist"): Use `LaTeX-provided-package-options-member' to
	conditionally define environments.

2014-03-12  Tassilo Horn  <tsdh@gnu.org>

	* multi-prompt.el (multi-prompt): Return nil on empty input.

	* tex.el (TeX-completing-read-multiple): Define it so that empty
	input results in nil across different emacs versions (<= 24.3
	vs. later versions).

	* style/biblatex.el ("biblatex"): Use
	`TeX-completing-read-multiple' instead of
	`completing-read-multiple'.
	(LaTeX-arg-biblatex-cites): Use `TeX-completing-read-multiple' and
	adapt handling of return value.

	* style/pstricks.el (LaTeX-package-parameters): Adapt to
	`TeX-completing-read-multiple' change.

2014-03-11  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-arg-usepackage-read-packages-with-options): Fix
	bug that caused AUCTeX to query for packages infinitely.

	* context.el (ConTeXt-add-environments): Advice instead of
	renaming and redefining generated function.

	* latex.el (LaTeX-close-environment): Remove non-interactive
	`next-line' usage compile warning.
	(LaTeX-add-bibliographies): Advice instead of renaming and
	redefining generated function.
	(LaTeX-add-environments): Ditto.

2014-03-10  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-fill-break-at-separators): Default to opening
	and closing math switches.

2014-03-06  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Processor Options): Add missing pair of braces.

2014-02-22  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-environment): Do not set
	`LaTeX-default-environment' to `environment' if the latter is
	equal to the current default environment.

2014-02-21  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-arg-usepackage-read-packages-with-options): New
	function.  Now options are requested only if at least one package
	has been provided.
	(LaTeX-arg-usepackage-insert): New function.
	(LaTeX-arg-usepackage): Use
	`LaTeX-arg-usepackage-read-packages-with-options' and
	`LaTeX-arg-usepackage-insert'.
	(LaTeX-insert-usepackages): New function.
	(LaTeX-env-document): Use it.

	* doc/auctex.texi (Environments): Document new behavior of
	`LaTeX-env-document'.

	* doc/changes.texi: Mention it.

2014-02-20  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-command-extra-options): New customizable variable.
	(TeX-expand-list): New `%(extraopts)' expander.
	(TeX-command-list): Use `%(extraopts)'.

	* doc/auctex.texi (Processor Options): Document
	`TeX-command-extra-options'.

	* doc/changes.texi: Document it.

2014-02-10  Tassilo Horn  <tsdh@gnu.org>

	* style/english.el: New style for english documents so that
	`TeX-language-en-hook' gets run.

	* Makefile.in (STYLESRC): Activate it.

	* doc/auctex.texi (languages): Document it.

2014-02-04  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-auto-add-type): Convert to macro.

	* lpath.el: Don't silence byte-compiler.

	* latex.el (LaTeX-auto-style, LaTeX-auto-arguments)
	(LaTeX-auto-optional, LaTeX-auto-env-args): Defvar explicitly
	before use.

2014-01-29  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-command-query): Use default parameter of
	`completing-read'.

	* tex.el (TeX-insert-macro): Use default parameter of
	`completing-read'.

	* latex.el (LaTeX-environment, TeX-arg-document): Use default
	parameter of `completing-read'.

2014-01-22  Tassilo Horn  <tsdh@gnu.org>

	* style/shortvrb.el (LaTeX-shortvrb-chars): Move from
	tex-style.el.  Set default value to nil because just loading
	shortvrb does not make | a shortvrb char.  One needs to define it
	using \MakeShortVrb{\|}.  Extend the docstring so that it tells
	that one should usually set this variable only buffer-locally.
	(LaTeX-shortvrb-chars): Declare it as safe local variable.

	* font-latex.el (font-latex-add-to-syntax-alist): Call
	`font-latex-setup' to make syntactic font-lock changes effective.

2014-01-21  Berend de Boer  <berend@pobox.com>

	* context.el: distinguish between numbered and unnumbered sections.

2014-01-15  Mosè Giordano  <giordano.mose@libero.it>

	* style/babel.el: Update copyright years and specify last `babel'
	version supported.
	(LaTeX-babel-language-list): Expand language list to all languages
	mentioned in the last version of the manual.
	(LaTeX-babel-active-languages): Update in order to parse the
	`main' option and ignore the modifiers.
	(LaTeX-babel-package-options): Turn the variable into a function
	because now requires `TeX-read-key-val'.

2014-01-11  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-current-environment): Make search for `\begin'
	and `\end' case sensitive.
	(docTeX-in-macrocode-p): Ditto.
	(LaTeX-indent-calculate): Ditto.
	(LaTeX-find-matching-end): Ditto.
	(LaTeX-find-matching-begin): Ditto.

2014-01-06  Vincent Belaïche  <vincentb1@users.sourceforge.net>

	* tex-info.el (Texinfo-reftex-hook): Replace use of
	reftex-tables-dirty by that of reftex-default-label-alist-entries
	to trigger call to reftex-compile-variables in a standard way.
	The problem was that generating a TOC for a Texinfo file and then
	for a LaTeX file was not working for the LaTeX file because the
	Texinfo file was using LaTeX label style and as such
	reftex-ensure-compiled-variables was not calling
	reftex-compile-variables, which caused wrong
	reftex-everything-regexp for sections.

2014-01-06  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-math-insert): Use `TeX-electric-math' for
	consistency with `TeX-insert-dollar'.
	(LaTeX-math-cal): Ditto.

2013-12-24  Mosè Giordano  <giordano.mose@libero.it>

	* tex-style.el (LaTeX-fontspec-arg-font-search): New customizable
	variable.
	(LaTeX-fontspec-font-list-default): Ditto.

	* style/fontspec.el (LaTeX-fontspec-arg-font): New function.
	("fontspec"): Use it.

	* doc/changes.texi: Mention `LaTeX-fontspec-arg-font-search' and
	`LaTeX-fontspec-font-list-default'.

2013-12-20  Mosè Giordano  <giordano.mose@libero.it>

	* style/imakeidx.el ("imakeidx"): Move addition of options to
	`LaTeX-imakeidx-indexsetup-options' inside the hook.

	* Makefile.in (STYLESRC): Activate new styles.

	* style/fontspec.el: New style.

	* style/luacode.el: Ditto.

	* style/metalogo.el: Ditto.

	* style/unicode-math.el: Ditto.

2013-12-18  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-parse-error): Don't confuse ) in package
	messages with EOF.

2013-12-01  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-common-initialization): Move disabling of
	`electric-pair-mode' from `VirTeX-common-initialization'.  Disable
	it only if `LaTeX-electric-left-right-brace' is non-nil.

	* tex.el (VirTeX-common-initialization): See above.

2013-11-29  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (VirTeX-common-initialization): Disable
	`electric-pair-mode' (a global minor mode) in auctex buffers
	because it interferes with auctex's pairing feature.

2013-11-23  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-common-initialization):

	* tex.el (VirTeX-common-initialization): Move
	`LaTeX-narrow-to-environment' and `TeX-narrow-to-group' bindings
	to the AUCTeX maps because `narrow-map' is not defined in GNU
	Emacs < 22.2 and XEmacs.  Reported by Giacomo Boffi.

2013-11-13  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el ("biblatex"): Declare expert macros and
	environments.

2013-11-11  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-next-error, TeX-previous-error): Call
	`next-error' also if last TeX command was a compile command (e.g.,
	Check, ChkTeX).
	(TeX-run-compile): Save compilation buffer in
	`TeX-command-buffer'.

2013-11-10  Ralf Angeli  <angeli@caeruleus.net>

	* bib-cite.el (bib-highlight-mouse): Change regexp to cope with
	multiple optional arguments of a macro.

2013-11-09  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-complete-make-expert-command-functions): Change
	signature of declare-expert functions.

	* doc/auctex.texi: Document it.

2013-11-08  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-complete-expert-commands): New defcustom.
	(TeX-complete-make-expert-command-functions): New macro.
	(TeX-insert-macro): Restrict completion depending on
	`TeX-complete-expert-commands'.
	(VirTeX-common-initialization): Ditto.

	* latex.el (LaTeX-environment, LaTeX-common-initialization):
	Restrict completion depending on `TeX-complete-expert-commands'.

	* tex-info.el (TeX-texinfo-mode): Restrict completion depending on
	`TeX-complete-expert-commands'.

	* doc/auctex.texi: Document normal vs. expert commands for users
	and style file authors.

	* doc/changes.texi: Mention normal vs. expert commands.

	* latex.el (LaTeX-common-initialization): Fix void-function
	LaTeX-symbol-list error.

2013-11-05  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Folding): Document `TeX-fold-auto' and
	`TeX-fold-unfold-around-mark'.

	* latex.el (TeX-arg-bibliography): Run style files associated to
	the bibliography database files.

	* style/biblatex.el ("biblatex"): Do not quote at all
	`TeX-arg-key-val' arguments.
	(LaTeX-arg-addbibresource): Run style file associated to the
	bibliography database file.

2013-11-03  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el ("biblatex"): Quote `TeX-arg-key-val'
	arguments with `quote' special form istead of apostrophe.

2013-11-02  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-narrow-to-environment): New function, disabled
	by default.
	(LaTeX-common-initialization): Add key binding for
	`LaTeX-narrow-to-environment'.

	* tex.el (VirTeX-common-initialization): Add key binding for
	`TeX-narrow-to-group'.
	(TeX-narrow-to-group): New function, disabled by default.

	* doc/auctex.texi (Narrowing): Document narrowing commands.

	* doc/changes.texi: Mention narrowing commands.

2013-10-19  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-arg-file-name): New function.
	(TeX-arg-file-name-sans-extension): Ditto.
	(TeX-arg-version): Ditto.
	(LaTeX-common-initialization): Add completion for
	`ProvidesPackage', `ProvidesClass', and `ProvidesFile'.

	* doc/auctex.texi (Adding Macros): Document `TeX-arg-version',
	`TeX-arg-file-name', and `TeX-arg-file-name-sans-extension'.

2013-10-14  Tassilo Horn  <tsdh@gnu.org>

	* doc/changes.texi: Mention the enhanced tabular indentation.

	* style/longtable.el ("longtable"): Use `LaTeX-indent-tabular'
	also for longtable environment.

	* style/tabularx.el ("tabularx"): Use `LaTeX-indent-tabular' also
	for tabularx environment.

	* style/tabulary.el ("tabulary"): Use `LaTeX-indent-tabular' also
	for tabulary environment.

	* latex.el (LaTeX-indent-environment-list): Use
	`LaTeX-indent-tabular' also for array and eqnarray environments.

2013-10-14  Oleh Krehel  <ohwoeowho@gmail.com>

	* latex.el: `LaTeX-indent-tabular' now indents tabular-like
	environments.
	(LaTeX--tabular-like-end): new variable.
	(LaTeX-indent-environment-list): added `LaTeX-indent-tabular' as
	indenter for "tabular" and "align", added a setter that recomputes
	`LaTeX--tabular-like-end'
	(LaTeX-env-beginning-pos-col): new function.
	(LaTeX-hanging-ampersand-position): new function.
	(LaTeX-indent-tabular): new function.

	* tests/latex/latex-test.el : added an ERT test for
	`LaTeX-indent-tabular'
	(LaTeX-indent-tabular-test/in): input filename variable
	(LaTeX-indent-tabular-test/out): output filename variable

	* tests/latex/tabular-in.tex: input to latex-test.el

	* tests/latex/tabular-out.tex: input to latex-test.el

	* tex.el (TeX-how-many): added for compatibility with XEmacs.

2013-10-11  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Quotes): Fix typo.

	* doc/changes.texi: Ditto.

2013-10-10  Ikumi Keita  <ikumi@ikumi.que.jp>

	* doc/changes.texi: Document enhanced paired braces feature.

	* doc/auctex.texi: Ditto.

2013-10-06  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-insert-macro-default-style): Add new possible value
	`show-all-optional-args' and update doc-string accordingly.
	(TeX-parse-arguments): Use it.

	* doc/auctex.texi (Completion): Document `show-all-optional-args'.

	* doc/changes.texi: Mention `show-all-optional-args'.

	* tex.el (TeX-insert-braces-alist): New customizable variable.
	(TeX-insert-braces): Mention it in doc-string.
	(TeX-parse-macro): Use `TeX-insert-braces-alist'.

	* style/booktabs.el: Update copyright years.
	(LaTeX-booktabs-arg-paren): Let-bind `TeX-arg-opening-brace' and
	`TeX-arg-closing-brace' instead of `<' and `>'.
	("booktabs"): Add `toprule', `midrule', and `bottomrule' macros to
	`TeX-insert-braces-alist'.
	("booktabs"): Add a dummy `ignore' in `cmidrule' macro in order to
	reset `last-optional-rejected' to nil.

	* doc/auctex.texi (Completion): Document
	`TeX-insert-braces-alist'.

	* doc/changes.texi: Mention `TeX-insert-braces-alist'.

2013-09-27  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-arg-insert-braces): : Move
	`indent-according-to-mode' after `save-excursion' because
	`LaTeX-newline' (used in `save-excursion') deletes trailing
	whitespaces.

	* tex-buf.el (TeX-LaTeX-sentinel): Add support for hyperref "Rerun
	to get outlines right" messages.

2013-09-26  Ikumi Keita  <ikumi@ikumi.que.jp>

	* latex.el: Enhance brace pairing feature.
	(TeX-arg-insert-braces): Extend to be used with \bigl and its
	friends.
	(TeX-arg-insert-right-brace-maybe): New function.
	(LaTeX-insert-left-brace): New function.
	(LaTeX-insert-corresponding-right-macro-and-brace): New function.
	(LaTeX-find-preceeding-left-macro-name): New function.
	(LaTeX-electric-left-right-brace): New customization option.
	(LaTeX-left-right-macros-association): New variable.

	* style/amsmath.el ("amsmath"): Make use of the above change.
	\lvert and \lVert are paired with \rvert and \rVert, respectively.

2013-09-19  Mosè Giordano  <giordano.mose@libero.it>

	* style/siunitx.el ("siunitx"): Fix `radian' unit name.

2013-09-17  Fabrice Ben Hamouda  <fabrice_102@yahoo.fr>  (tiny change)

	* tex-buf.el (TeX-next-error, TeX-active-buffer): Fix a problem
	with `TeX-next-error' in multi-file documents.

2013-09-16  Tassilo Horn  <tsdh@gnu.org>

	* tex-info.el (TeX-texinfo-mode): Set
	`TeX-sentinel-default-function' to `TeX-TeX-sentinel'.

2013-09-09  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-check-files): Handle buffers that haven't been
	saved yet.

2013-09-02  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-electric-math): Fix defcustom choices.

	* bib-cite.el (bib-cite-minor-mode): Call `make-local-hook' only
	on XEmacs.

2013-08-03  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-arg-ref): New function.

	* doc/auctex.texi: Replace occurrences of `TeX-arg-label' with
	`TeX-arg-ref'.
	(Adding Macros): Document `TeX-arg-ref'.

	* style/fancyref.el ("fancyref"): Use `TeX-arg-ref' instead of
	`TeX-arg-label'.

	* style/latexinfo.el ("latexinfo"): Ditto.

	* style/nameref.el ("nameref"): Ditto.

	* style/varioref.el ("varioref"): Ditto.

	* style/subfigure.el ("subfigure"): Use `TeX-arg-ref' instead of
	`TeX-arg-label' and fix parentheses.

2013-07-31  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-math-initialize): Refactor top-level code into
	function.
	(LaTeX-math-list): Call `LaTeX-math-initialize' when setting the
	value in order to update the key bindings.
	Also shuffle around several definitions in order to get a
	declaration-before-use order.

2013-07-29  Mosè Giordano  <giordano.mose@libero.it>

	* doc/changes.texi: Add other changes.

	* doc/auctex.texi (Environments): Fix typo.

2013-07-27  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (BibTeX-auto-regexp-list): Remove `TeX-token-char' from
	the regexp since cite keys can start with non-letter characters,
	e.g., bibcodes start with year of publication.

2013-07-24  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-math-menu-unicode): Enable also on windows
	systems as it seems to work there, too.

2013-07-23  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-clean-default-intermediate-suffixes): Add `.fls',
	files created by TeX processors with `-recorder' option, and
	`-blx.bib', files created by `bibtex' when using the `biblatex'
	package.

	* doc/changes.texi: Document some changes for next release.

2013-07-22  Mosè Giordano  <giordano.mose@libero.it>

	* Makefile.in: Update copyright years.
	(GITFILES): Rename from `CVSFILES', adapt to Git.
	(COMMITTER): Get user name and email from Git configuration;
	escape `<', `>' and spaces.
	(install-el): Update reference to Git in comment.
	(release-commit): Adapt to Git; make sure committer name and email
	are encoded with ISO-8859-1 using the `iconv' program.
	(tar-ball): Adapt to Git.
	(preview-ball): Ditto.

	* auctex.spec (Provides): Update reference to Git in comment.

	* bib-cite.el: Update AUCTeX repository link in comment.

	* font-latex.el (font-latex-built-in-keyword-classes): Fix
	fontification of some biblatex macros.  Reported by Christian
	Knüpfer.
	(font-latex-built-in-keyword-classes): Revert changes made with
	commit 7531cca, they were useless.

2013-07-15  Mads Jensen  <mje@inducks.org>

	* style/tabulary.el: New style.

	* Makefile.in (STYLESRC): Activate new style tabulary.

2013-07-12  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Processor Options): Move
	`TeX-source-correlate-method' to `I/O Correlation' section.

2013-07-11  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Processor Options): Document
	`TeX-source-correlate-method'.

2013-07-09  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-default-tabular-environment): New variable.
	(LaTeX-env-figure): Use it instead of hard-coding "tabular".

	* style/tabularx.el ("tabularx"): Set
	`LaTeX-default-tabular-environment' to "tabularx".

2013-06-29  Mosè Giordano  <giordano.mose@libero.it>

	* bib-cite.el: Replace `save-excursion'+`set-buffer' with
	`with-current-buffer'.

	* tex-bar.el: Ditto.

	* tex-buf.el: Ditto.

	* tex.el: Replace `save-excursion'+`set-buffer' with
	`with-current-buffer'.  Delete trailing whitespaces.

	* tex-buf.el (TeX-error-file): Fix spelling error.
	(TeX-error): Ditto.

	* doc/install.texi (Configure): Update for Git.

	* doc/preview-readme.texi (Availability): Ditto.

	* doc/wininstall.texi: Ditto.

2013-06-26  Tassilo Horn  <tsdh@gnu.org>

	* doc/preview-problems.texi: Rename "Known problems" section to
	"Known problems with preview-latex" in rawfile export.  Delete
	sections "Problems with Ghostscript" and "Emacs problems" because
	those are basically ruled out when using the prerequisites
	documented in the manual.

	* doc/install.texi: Don't link to ghostscript specific
	preview-latex problems section because that has been removed.

	* doc/Makefile.in (DISTTEXTS, ../PROBLEMS.preview): Rename
	PROBLEMS to PROBLEMS.preview since it only deals with
	preview-latex problems.

	* Makefile.in (DISTTEXTS): Use PROBLEMS.preview instead of
	PROBLEMS.

2013-06-24  Tassilo Horn  <tsdh@gnu.org>

	* doc/Makefile.in (DISTTEXTS): Add ../PROBLEMS.

	* Makefile.in (DISTTEXTS): Add PROBLEMS.

	* tex.el (TeX-evince-dbus-p): Require dbus at compile-time.

2013-06-21  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-evince-dbus-p): Improved DBUS availability check.

2013-06-21  Rüdiger Sonderfeld  <ruediger@c-plusplus.de>

	* tex.el (TeX-doc-backend-alist): Remove unnecessary `info' check.

2013-06-14  Tassilo Horn  <tsdh@gnu.org>

	* tex-jp.el: Change to `coding: iso-2022-jp-unix'.

2013-06-12  Tassilo Horn  <tsdh@gnu.org>

	* tex-jp.el: Add `coding: iso-2022-7bit-unix' file local variable.

2013-06-11  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-help-error): Let-bind `inhibit-read-only' when
	updating the *TeX Help* buffer.

2013-06-11  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-after-document-hook): New hook.
	(TeX-arg-document): Use it.
	(LaTeX-after-usepackage-hook): New hook.
	(LaTeX-arg-usepackage): Use it, remove babel specific code.

	* style/babel.el: Update copyright years.
	(LaTeX-env-babel-lang): New function.
	("babel"): Add `LaTeX-env-babel-lang' to
	`LaTeX-after-usepackage-hook'.

2013-06-08  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-math-close-double-dollar): Remove.
	(TeX-math-close-single-dollar): Ditto.
	(TeX-electric-dollar): Ditto.
	(TeX-electric-math): New customizable variable, supersedes
	variables above.
	(TeX-insert-dollar): Adapt to `TeX-electric-math'.  See
	http://thread.gmane.org/gmane.emacs.auctex.devel/3070

	* doc/auctex.texi (Quotes): Document `TeX-electric-math'.
	(Environments): Document `LaTeX-find-matching-begin' and
	`LaTeX-find-matching-end'.

2013-06-02  Mosè Giordano  <giordano.mose@libero.it>

	* tex-buf.el: Shorten copyright year ranges and update with
	missing years.  Delete trailing whitespaces.
	(TeX-run-compile): Let-bind `default-directory' to
	`TeX-master-directory'.

2013-05-31  Tassilo Horn  <tsdh@gnu.org>

	* autogen.sh: Set LC_ALL=C when looking into ChangeLog for
	AUCTEXDATE.

2013-05-31  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-env-figure): Simplify using `save-excursion'
	instead of regexp searches.  Fill the caption when
	`auto-fill-mode' is on.

2013-05-30  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-expand-list): Add new expander "%a", it returns the
	quoted absolute path of the file visiting current buffer.
	(TeX-view-program-list-builtin): Use "%a" expander for forward PDF
	search.

2013-05-28  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-sync-source): Fix docstring.

2013-05-23  Mosè Giordano  <giordano.mose@libero.it>

	* font-latex.el: Update copyright years, there have been
	non-trivial changes in 2010, and 2011.
	(font-latex-built-in-keyword-classes): Fontify Biblatex multicites
	macros up to three mandatory arguments.

	* style/biblatex.el (LaTeX-biblatex-entrytype): New variable.
	(LaTeX-biblatex-executebibliographyoptions-options): New variable.
	(LaTeX-biblatex-language-list): New variable.
	(LaTeX-arg-biblatex-cites): New function.
	("biblatex"): Always set `LaTeX-using-Biber'.  Add citation
	macros.
	(LaTeX-biblatex-package-options-list): Move preamble options to
	`LaTeX-biblatex-executebibliographyoptions-options'.

2013-05-22  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el: Replace `delete-backward-char' with `delete-char'.

	* tex.el: Ditto.

	* tex-buf.el: Replace `goto-line' with `goto-char' and
	`forward-line'.

2013-05-19  Mosè Giordano  <giordano.mose@libero.it>

	* doc/.gitignore: Rename from .cvsignore.

	* preview/.gitignore: Ditto.

	* preview/latex/.gitignore: Ditto.

2013-05-18  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el: Update copyright years, there have been non-trivial
	changes in 1998, 2001, 2002.
	(TeX-arg-index-tag): Use `TeX-argument-prompt'.
	(TeX-arg-cite): Ditto.

	* tex.el: Update copyright years, there have been non-trivial
	changes in 1995, 1998.
	(TeX-parse-arguments): Move skipping of optional
	arguments inside loop over all arguments, because optional
	arguments may not be the first ones.  Remove unused let-bound
	variable `skip-opt'.
	(TeX-arg-literal): Remove FIXME comment, `optional' is the first
	argument passed to all functions by `TeX-parse-argument'.

2013-05-13  Mosè Giordano  <giordano.mose@libero.it>

	* style/fancyvrb.el: New style.

	* style/xparse.el: Ditto.

	* Makefile.in (STYLESRC): Add style/fancyvrb.el and
	style/xparse.el.

2013-05-12  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-insert-dollar): Insert just a single dollar when the
	point is in a verbatim-like construct.

	* font-latex.el (font-latex-jit-lock-force-redisplay): Don't rely
	on existing `jit-lock-force-redisplay' because recent bzr Emacs
	broke compatibility changing the number of arguments.  Reported by
	Robert Goldman.

2013-05-08  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Environments): Document
	`LaTeX-default-document-environment'.

2013-05-07  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-electric-dollar): New variable.
	(TeX-insert-dollar): Use it.

	* doc/auctex.texi (Quotes): Document `TeX-electric-dollar'.

2013-04-28  Mosè Giordano  <giordano.mose@libero.it>

	* tex-bar.el: Update copyright range.
	(TeX-bar-LaTeX-button-alist): Change BibTeX button to Biber when
	`LaTeX-using-biber' is non-nil.
	(LaTeX-install-toolbar): Refresh toolbar after styles update.

2013-04-25  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-default-document-environment): New buffer-local
	variable.
	(LaTeX-default-environment): Mention
	`LaTeX-default-document-environment' in doc-string.
	(LaTeX-environment): Use `LaTeX-default-document-environment'.

	* style/beamer.el ("beamer"): Use
	`LaTeX-default-document-environment' instead of
	`LaTeX-default-environment'.

	* style/letter.el ("letter"): Ditto.

	* style/slides.el ("slides"): Ditto.

2013-04-24  Mosè Giordano  <giordano.mose@libero.it>

	* style/acro.el (LaTeX-acro-acronym-history): New variable.
	(LaTeX-arg-acro-acronym): Use it.

	* style/acronym.el (LaTeX-acronym-acronym-history): New variable.
	(LaTeX-arg-acronym-acronym): Use it.

	* style/beamer.el (LaTeX-beamer-frametitle-history): New variable.
	("beamer"): Use it.
	(TeX-arg-beamer-frametitle): Ditto.

	* style/siunitx.el (LaTeX-siunitx-unit-history): New variable.
	(LaTeX-arg-siunitx-unit): Use it.

2013-04-21  Mosè Giordano  <giordano.mose@libero.it>

	* style/beamer.el ("beamer"): Set `frame' as default environment.
	Set `section' as largest sectioning level.  Add fontification for
	`title', `author', and `date'.

	* style/letter.el ("letter"): Set `letter' as default environment.
	Add some macros and fontification.

	* style/slides.el ("slides"): Set `slide' as default environment.

	* latex.el (TeX-arg-insert-braces): Move
	`indent-according-to-mode' after `save-excursion' because
	`LaTeX-newline' (used in `save-excursion') deletes trailing
	whitespaces.

2013-04-19  Mosè Giordano  <giordano.mose@libero.it>

	* style/amsthm.el (LaTeX-amsthm-package-options): New variable.
	("amsthm"): Remove `newtheorem' macro, already defined in
	`latex.el'.  Use `TeX-arg-define-environment' in `newtheorem*'
	macro.  Add `qedhere', `swapnumbers', and `newtheoremstyle'
	macros.  Add `newtheorem*' regexp to match new environments.  Add
	fontification.

	* style/article.el ("article"): Add counters and pagestyles.

	* style/beamer.el ("beamer"): Ditto.

	* style/book.el ("book"): Ditto.

	* style/letter.el (LaTeX-letter-class-options): New variable.
	("letter"): Add pagestyles.

	* style/report.el ("report"): Add counters and pagestyles.

	* style/slides.el (LaTeX-slides-class-options): New variable.
	("slides"): Add counters and pagestyles.

2013-04-18  Mosè Giordano  <giordano.mose@libero.it>

	* style/beamer.el: Update copyright years and remove trailing
	whitespaces.
	("beamer"): Run style hooks for loaded packages.
	(LaTeX-beamer-class-options): New function.

	* style/hyperref.el (LaTeX-hyperref-package-options-list): Rename
	from `LaTeX-hyperref-package-options' to avoid clash with the
	function with the same name.
	("hyperref"): Use it.
	(LaTeX-hyperref-package-options): Ditto.

2013-04-17  Mosè Giordano  <giordano.mose@libero.it>

	* plain-tex.el (plain-TeX-common-initialization): Fix typo in
	abbrev table name.

2013-04-16  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-default-author): New customizable variable.
	(LaTeX-arg-author): New function.
	(LaTeX-common-initialization): Use `LaTeX-arg-author' for the
	\author macro.
	(LaTeX-default-author): Change default to 'user-full-name (quoted)
	and add a new possible value.
	(LaTeX-arg-author): Change accordingly.

	* doc/auctex.texi (Itemize-like): Document `TeX-arg-item-label-p'
	option.
	(Tabular-like): Document `LaTeX-default-width' option.
	(Modes and Hooks): Add modes and hooks to indices.
	(Adding Macros): Document `TeX-arg-index-tag', `TeX-arg-index',
	`TeX-arg-document', `LaTeX-arg-usepackage', `TeX-arg-bibstyle',
	`TeX-arg-bibliography', `LaTeX-arg-author', `TeX-read-key-val',
	and `TeX-arg-key-val' functions.  Mention `TeX-arg-cite-note-p'
	and `LaTeX-default-author' options.
	(Adding Environments): Use in example code actually present in
	`listings.el' file.

2013-04-16  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-sync-source): Use `raise-frame'
	instead of the external wmctrl command to raise the emacs frame.

2013-04-15  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-read-key-val): Add `prompt' optional argument.
	(TeX-arg-key-val): Ditto.

	* tex.el (fboundp): Use `crm-separator' as separator in XEmacs
	`TeX-completing-read-multiple' implementation.

	* style/acro.el (LaTeX-arg-acro-key-val): Let-bind keymap with SPC
	key binding removed, instead of defining a new key binding for
	SPC.  Use `TeX-arg-key-val' instead of `multi-prompt-key-value'
	and `TeX-argument-insert'.

	* style/pst-node.el (LaTeX-pstnode-env-psmatrix): Replace
	`completing-read-multiple' with `TeX-completing-read-multiple'.

	* style/pstricks.el (LaTeX-package-parameters): Ditto.

	* style/siunitx.el (LaTeX-arg-siunitx-unit): Let-bind keymap with
	SPC key binding removed, instead of defining a new key binding for
	SPC.  Replace `completing-read-multiple' with
	`TeX-completing-read-multiple'.

2013-04-15  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-source-correlate-sync-source): Raise frame when
	placing point on the source location.

2013-04-12  Mosè Giordano  <giordano.mose@libero.it>

	* Makefile.in (STYLESRC): Add style/acro.el and style/acronym.el.

	* style/acro.el: New style.

	* style/acronym.el: Ditto.

2013-04-10  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-evince-sync-view): URL-escape pdf file path when
	calling evince via DBUS.
	(TeX-evince-sync-view): Use 0 as timestamp.
	(TeX-source-correlate-sync-source): URL-decode tex file name.

2013-04-10  Nicolas Richard  <theonewiththeevillook@yahoo.fr>  (tiny change)

	* style/mathtools.el (LaTeX-mathtools-key-val-options): Fix defvar
	syntax.

2013-04-10  Jobst Hoffmann  <j.hoffmann@fh-aachen.de>  (tiny change)

	* style/lscape.el ("lscape"): Fix typo and parentheses.

2013-04-09  Tassilo Horn  <tsdh@gnu.org>

	* README.GIT: Rename from README.CVS; update contents to Git.

2013-04-09  Leo Liu  <sdl.web@gmail.com>

	* latex.el (LaTeX-outline-level): Make it work for customized
	`outline-regexp'.  See bug report
	http://permalink.gmane.org/gmane.emacs.auctex.bugs/1648.

	* tex.el (TeX-view-program-list-builtin)
	(TeX-view-program-selection): Enable commented code to support
	darwin system.

	* tex.el (TeX-math-input-method-off-regexp): Improve and fix typo.
	See bug http://permalink.gmane.org/gmane.emacs.auctex.devel/2468.

	* font-latex.el (font-latex-add-to-syntax-alist): Fix a bug in
	`font-latex-add-to-syntax-alist' where it modified both the buffer
	local and global value of `font-latex-syntax-alist'.

2013-04-08  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (LaTeX-style-list): Correct docstring.

2013-04-06  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-provided-class-options-member): Fix typo.
	(LaTeX-arg-usepackage): Provide completion for more than one
	package in mandatory argument.

2013-04-05  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-global-class-files): New variable.
	(TeX-arg-document): Provide completion for class options, based on
	`LaTeX-arg-usepackage'.  Use `LaTeX-global-class-files'.
	(LaTeX-style-list): Mention that if `TeX-arg-input-file-search' is
	set to `t' this variable will be ignored.

	* tex.el (TeX-normal-mode): Reset `LaTeX-global-class-files' when
	ARG is non-nil.

	* style/article.el (LaTeX-article-class-options): New variable.

	* style/book.el (LaTeX-book-class-options): New variable.

	* style/report.el (LaTeX-report-class-options): New variable.

2013-04-03  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-provided-class-options): New buffer-local
	variable.
	(LaTeX-provided-class-options-member): New function.
	(LaTeX-provided-package-options): New buffer-local variable.
	(LaTeX-provided-package-options-member): New function
	(LaTeX-auto-cleanup): Rewrite to support
	`LaTeX-provided-{class,package}-options' variables.
	(LaTeX-arg-usepackage): Ditto.

	* tex.el (TeX-auto-store): Write to parsed file values of
	`LaTeX-provided-{class,package}-options' variables.
	(TeX-auto-insert): Fix indentation of inserted lines.
	(TeX-search-files-by-type): Fix typo in doc-string.
	(TeX-add-to-alist): New function.
	(TeX-quote-language-alist): Fix typo in doc-string.

	* style/babel.el (LaTeX-babel-package-options): Add missing
	languages.
	(LaTeX-babel-package-options): Add options other than
	languages.
	(LaTeX-babel-active-languages): Use
	`LaTeX-provided-{class,package}-options'.  Loop over actually
	used options instead of all babel languages.
	("babel"): Run styles of active languages.

	* style/biblatex.el ("biblatex"): Use
	`LaTeX-provided-package-options-member'.
	(LaTeX-biblatex-package-options): Consider the `ask' value for
	'TeX-arg-input-file-search'.

	* style/kpfonts.el ("kpfonts"): Use
	`LaTeX-provided-package-options-member'.

	* style/siunitx.el: Rename `TeX-siunitx-*' functions to
	`LaTeX-siunitx-*' for consistency.
	("siunitx"): Use `LaTeX-provided-package-options-member'.

2013-03-29  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (TeX-arg-document): Search for LaTeX classes.

2013-03-28  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el (LaTeX-biblatex-package-options): Correct name
	of `TeX-read-key-val' argument.

	* latex.el (LaTeX-common-initialization): Remove `addbibresource'
	macro.

	* style/biblatex.el (LaTeX-biblatex-addbibresource-options): New
	variable.
	(LaTeX-arg-addbibresource): New function, based on current
	`TeX-arg-bibliography'.
	("biblatex"): Add `addbibresource' macro.
	(LaTeX-biblatex-package-options): Use `TeX-read-key-val'.

	* latex.el (TeX-arg-bibliography): Remove `addbibresource'
	support.

2013-03-27  Mosè Giordano  <giordano.mose@libero.it>

	* tex.el (TeX-add-local-master): Remove trailing spaces from
	inserted lines.

2013-03-07  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (TeX-read-key-val): New function.
	(TeX-arg-key-val): Use `TeX-read-key-val'.

	* style/hyperref.el (LaTeX-hyperref-package-options): Use
	`TeX-read-key-val' instead of `TeX-arg-key-val' which caused args
	to be inserted twice.

	* style/siunitx.el (LaTeX-siunitx-package-options): Ditto.

2013-03-06  Mads Jensen  <mje@inducks.org>

	* style/amsopn.el: Add GPL copyright notice.
	("amsopn"): Add regex for \DeclareMathOperator to
	`LaTeX-auto-regexp-list'.  Use `TeX-arg-define-macro' for
	\DeclareMathOperator.

2013-03-06  Mads Jensen  <mje@inducks.org>

        * tex.el (TeX-command-list): Add support for xindy.

2013-03-06  Mads Jensen  <mje@inducks.org>

	* latex.el (LaTeX-common-initialization): Add regular expression
	for thispagestyle and pagestyle to `TeX-complete-list'.

2013-03-04  Tassilo Horn  <tsdh@gnu.org>

	* latex.el (TeX-arg-date): New function.
	(LaTeX-common-initialization): Use `TeX-arg-date' for \date macro.

	* doc/auctex.texi: Document `TeX-arg-date'.

	* style/doc.el ("doc"): Use `TeX-arg-date' for the \changes macro.

2013-02-26  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-run-style-hooks): Guard running style hooks in a
	`condition-case' in order not to error in cases the auto file
	contains calls to functions that are defined by a style that has
	been deactivated in the meantime.

2013-02-25  Werner Fink  <werner@suse.de>

	* style/dinbrief.el ("dinbrief"): Update dinbrief style.
	(LaTeX-dinbrief-insert): New macro.
	(LaTeX-dinbrief-style): New function.
	(LaTeX-dinbrief-env-recipient): Rename from
	`LaTeX-recipient-hook'.
	(LaTeX-dinbrief-sender): New function.
	(LaTeX-dinbrief-recipient): New function.
	(LaTeX-dinbrief-today): Rename from `LaTeX-today'.

2013-02-25  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-parse-macro): Add TeX group characters also in math
	environments if there is an active region that should probably
	used as argument.

	* latex.el (LaTeX-paragraph-commands-internal): Add \clearpage and
	\newpage.

	* style/scrbase.el ("scrbase"): Add \minisec macro to
	`LaTeX-paragraph-commands' locally.

2013-02-23  Mosè Giordano  <giordano.mose@libero.it>

	* style/kpfonts.el: New style file.

	* Makefile.in (STYLESRC): Add style/kpfonts.el.

2013-02-20  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-math-default): Move `digamma' and `varkappa' to
	`AMS > Greek Lowercase' menu.

2013-02-18  Mads Jensen  <mje@inducks.org>

	* Makefile.in (STYLESRC): Activate new style array.el.

	* style/array.el: New style.

	* style/tabularx.el: Expand copyright range.
	("tabularx"): The package relies on the array package, so run its
	style hook.

2013-02-18  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (require): Require crm.

	* multi-prompt.el (multi-prompt-key-value): Don't require crm here
	because it has already been required in tex.el.

2013-02-16  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el ("biblatex"): Add hooks for loaded packages.
	(LaTeX-biblatex-package-options): New function.
	(LaTeX-biblatex-package-options-list): Renamed from
	`LaTeX-biblatex-package-options' to avoid clash with the function
	with the same name.

	* latex.el (LaTeX-search-files-type-alist): Add `bbxinputs'.
	(BibLaTeX-global-style-files): New variable.

	* tex.el (BibLaTeX-style-extensions): New variable.
	(TeX-normal-mode): Make ARG argument optional.
	(TeX-normal-mode): Reset `BibLaTeX-global-style-files' when ARG is
	non-nil.

2013-02-14  Mosè Giordano  <giordano.mose@libero.it>

	* style/siunitx.el (LaTeX-siunitx-package-options): New function.

	* style/hyperref.el (LaTeX-hyperref-package-options): New
	function.

2013-02-13  Mads Jensen  <mje@inducks.org>

	* style/subfigure.el: Expanded copyright range.
	("subfigure"): Collapsed the two regular expressions for
	completion.  Added lengths, and commands for fonts.

2013-02-14  Tassilo Horn  <tsdh@gnu.org>

	* style/fancyhdr.el (TeX-arg-fancyhdr-position): Document the
	OPTIONAL argument.

2013-02-14  Mads Jensen  <mje@inducks.org>

	* Makefile.in (STYLESRC): Activate new style fancyhdr.el.

	* style/fancyhdr.el: New style.

2013-02-13  Mosè Giordano  <giordano.mose@libero.it>

	* doc/auctex.texi (Quotes): Document
	`TeX-math-close-single-dollar'.
	(Selecting a Command): Remove reference to
	`LaTeX-biblatex-use-Biber'.
	(Parsing Files): Document `LaTeX-auto-index-regexp-list',
	`LaTeX-auto-class-regexp-list',
	`LaTeX-auto-pagestyle-regexp-list',
	`LaTeX-auto-counter-regexp-list', `LaTeX-auto-length-regexp-list',
	`LaTeX-auto-savebox-regexp-list'.

	* tex.el (TeX-math-close-single-dollar): New variable.
	(TeX-insert-dollar): Use it.

2013-02-13  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Activate new style filecontents.el.

2013-01-23  Mads Jensen  <mje@inducks.org>

	* style/filecontents.el: New style.

2013-02-13  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Activate new style fancynum.el.

2013-02-08  Mads Jensen  <mje@inducks.org>

	* style/fancynum.el: New style.

2013-02-13  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Activate new style nameref.el.

2013-02-13  Mads Jensen  <mje@inducks.org>

	* doc/auctex.texi (Adding Macros): Mention that `TeX-arg-savebox'
	now supports completion.

	* style/nameref.el: New style.

	* style/hyperref.el ("hyperref"): Run nameref style hook because
	hyperref activates nameref.

2013-02-10  Mosè Giordano  <giordano.mose@libero.it>

        * style/siunitx.el ("siunitx-unit"): New type for the parser.
        (LaTeX-siunitx-regexp): New variable.
        (LaTeX-auto-siunitx-unit): New variable.
        (LaTeX-siunitx-prepare): New function.
        (LaTeX-siunitx-cleanup): New function.
        (TeX-auto-prepare-hook): Add `LaTeX-siunitx-prepare' function.
        (TeX-auto-cleanup-hook): Add `LaTeX-siunitx-cleanup' function.
        (TeX-arg-siunitx-unit): New function.
        (TeX-arg-define-siunitx-unit): New function.
        ("siunitx"): Add `LaTeX-siunitx-regexp' to list of regexps used
	for parsing.
        ("siunitx"): Use `TeX-arg-siunitx-unit' and
	`TeX-arg-define-siunitx-unit' functions.
        ("siunitx"): Use `LaTeX-add-siunitx-units' for adding siunitx unit
	macros to the list of known units.

2013-02-08  Mosè Giordano  <giordano.mose@libero.it>

	* style/biblatex.el: Update copyright range.
	("biblatex"): Check `backend' option value in
	`TeX-active-styles'.

	* tex-style.el: Update copyright years.
	(LaTeX-biblatex-use-Biber) Remove unused variable.

	* tex.el: Update copyright range.
	(TeX-auto-add-type): Append new type to `TeX-auto-parser' instead
	of prepending it.
	(TeX-auto-store): Fix indentation of first lines of parsed file.

	* latex.el (LaTeX-auto-cleanup): Append options and styles to
	`TeX-auto-file' instead of prepending them.

2013-01-28  Mads Jensen  <mje@inducks.org>

	* doc/todo.texi (Wishlist): Remove "Completion for sboxes".

2013-01-27  Mads Jensen  <mje@inducks.org>

	* latex.el (LaTeX-env-contents): Replaced regular expression with
	`LaTeX-header-end', i.e., filecontents environments must go
	somewhere in the preamble but not necessarily before the
	\documentclass.

2013-01-26  Mads Jensen  <mje@inducks.org>

	* latex.el (LaTeX-auto-savebox-regexp-list): New variable.
	(LaTeX-auto-regexp-list): Use `LaTeX-auto-savebox-regexp-list'.
	("savebox"): New type for the parser.
	(TeX-arg-savebox): Use `LaTeX-savebox-list' for completion and
	`definition' argument.
	(LaTeX-common-initialization): Added makeatletter, makeatother,
	and jobname macros.
	(LaTeX-default-options): Changed documentstyle to documentclass in
	docstring.

2013-01-25  Mosè Giordano  <giordano.mose@libero.it>

	* style/siunitx.el ("siunitx"): Add `\gram' and
	`\SendSettingsToPgf'.

2013-01-25  Tassilo Horn  <tsdh@gnu.org>

	* tex-buf.el (TeX-output-mode): Make revert-buffer-function buffer
	local before setting it to TeX-output-revert-buffer.

2013-01-24  Ivan Andrus  <darthandrus@gmail.com>

	* auctex.texi: Updated documetation about ChkTeX and lacheck.
	Fixed typos.

2013-01-24  Ivan Andrus  <darthandrus@gmail.com>

	* tex-buf.el (TeX-output-revert-buffer): New function.
	(TeX-special-mode, TeX-output-mode): New major modes.
	(TeX-special-mode-map, TeX-output-mode-map): New variables.

2013-01-21  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Activate new style placeins.el.

2013-01-21  Ivan Andrus  <darthandrus@gmail.com>

	* texmathp.el (texmathp-tex-commands-default): Add \shortintertext.

2013-01-19  Mads Jensen  <mje@inducks.org>

	* style/placeins.el: New style.

2013-01-17  Tassilo Horn  <tsdh@gnu.org>

	* doc/todo.texi: Remove the todo concerning completion for
	counters that was implemented by Mosè Giordano on 2013-01-15.

	* doc/auctex.texi: Document `TeX-arg-length' and
	`TeX-arg-define-length'.

2013-01-16  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-auto-length-regexp-list): New variable.
	(LaTeX-auto-regexp-list): Use `LaTeX-auto-length-regexp-list'.
	("length"): New type for the parser.
	(TeX-arg-length): New function.
	(TeX-arg-define-length): New function.
	(LaTeX-common-initialization): Initialize some standard LaTeX
	lengths and use `TeX-arg-length' and `TeX-arg-define-length' for
	completion of some macros.

2013-01-15  Tassilo Horn  <tsdh@gnu.org>

	* doc/auctex.texi: Document that `TeX-arg-counter' does completion
	now.

2013-01-15  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el (LaTeX-auto-pagestyle-regexp-list): Fix typo.
	(LaTeX-auto-counter-regexp-list): New variable.
	(LaTeX-auto-regexp-list): Use `LaTeX-auto-counter-regexp-list'.
	("counter"): New type for the parser.
	(TeX-arg-counter): Use `LaTeX-counter-list' function for
	completion and `definition' argument.
	(TeX-arg-pagestyle): Use `definition' argument.
	(LaTeX-common-initialization): Initialize counters.

2013-01-14  Tassilo Horn  <tsdh@gnu.org>

	* style/ulem.el (LaTeX-arg-fontdecl, LaTeX-arg-fontcmd): Fix
	declarations.

2013-01-13  Mads Jensen  <mje@inducks.org>

	* style/pstricks.el (LaTeX-pstricks-package-options): New
	variable.

	* style/varioref.el: Update copyright range.
	("varioref"): Add more definitions.
	(LaTeX-varioref-package-options): Reformat.

	* style/listings.el: Update copyright range.
	(LaTeX-listings-key-val-options, "listings")
	(LaTeX-listings-package-options): Update to recent listings
	version.

2013-01-14  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Enable memoir.el style.

2013-01-14  Mads Jensen  <mje@inducks.org>

	* style/memoir.el: New style.

2013-01-14  Mosè Giordano  <giordano.mose@libero.it>

        * latex.el (TeX-arg-environment): Fix typo.

2013-01-10  Mosè Giordano  <giordano.mose@libero.it>

	* latex.el: Update copyright range.
	(LaTeX-auto-pagestyle-regexp-list): New variable.
	(LaTeX-auto-regexp-list): Use `LaTeX-auto-pagestyle-regexp-list'.
	("pagestyle"): New type for the parser.
	(LaTeX-pagestyle-list): Remove.
	(TeX-arg-pagestyle): Use `LaTeX-pagestyle-list' function for
	completing.
	(LaTeX-common-initialization): Initialize pagestyles.

	* style/imakeidx.el: Use `LaTeX-pagestyle-list' function to set
	`firstpagestyle' option values.

2013-01-11  Ivan Andrus  <darthandrus@gmail.com>

	* tex.el (TeX-command-list): Add command to run ChkTeX.

2013-01-11  Tassilo Horn  <tsdh@gnu.org>

	* Makefile.in (STYLESRC): Add new style files kantlipsum.el,
	lipsum.el, and longtable.el.

2013-01-10  Mosè Giordano  <giordano.mose@libero.it>

	* style/kantlipsum.el: New style.

	* style/lipsum.el: Ditto.

	* style/longtable.el: Ditto

2013-01-10  Mads Jensen  <mje@inducks.org>

	* latex.el (LaTeX-env-document): Only insert \documentclass in
	case the document does not already contain one.

2013-01-09  Ralf Angeli  <angeli@caeruleus.net>

	* style/epigraph.el ("epigraph"): Do not quote list entries for
	`font-latex-add-keywords'.

2013-01-07  Ralf Angeli  <angeli@caeruleus.net>

	* style/mathtools.el ("mathtools"): Prevent amsmath options from
	being added multiple times.

	* style/footmisc.el ("footmisc"): Remove fontification settings
	for length macros.

2013-01-06  Ralf Angeli  <angeli@caeruleus.net>

	* style/mathtools.el ("mathtools"): Append amsmath options to
	mathtools option after the amsmath style file has been loaded.
	Remove `function' wrapper.

2013-01-05  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (STYLESRC): Activate new style files.

	* ChangeLog: Move name of style file contributors to head of
	ChangLog entries.

2013-01-02  Tassilo Horn  <tsdh@gnu.org>

	* style/everysel.el: Fix typos.

2013-01-02  Mads Jensen  <mje@inducks.org>

	* style/afterpage.el: New style.

2012-12-30  Mosè Giordano  <giordano.mose@libero.it>

        * latex.el (LaTeX-pagestyle-list): New variable.
	(TeX-arg-pagestyle): Use it.

        * style/imakeidx.el: New style.

2012-12-29  Ikumi Keita <ikumi@ikumi.que.jp>

	* doc/tex-ref.tex: Fix apparent errors and add keybind entries for
	C-c ? and `:' (in math mode).

2012-12-28  Mads Jensen  <mje@inducks.org>

	* style/multirow.el: New style.

2012-12-27  Mosè Giordano  <giordano.mose@libero.it>

	* style/siunitx.el (LaTeX-siunitx-package-options): New variable.
	("siunitx"): Use it.

	* style/hyperref.el (LaTeX-hyperref-href-options): New variable.
	(LaTeX-hyperref-package-options, "hyperref"): Use it.

2012-12-27  Mads Jensen  <mje@inducks.org>

	* style/mflogo.el: New style.

	* style/epigraph.el: Ditto.

2012-12-27  Ikumi Keita <ikumi@ikumi.que.jp>

	* amsmath.el ("amsmath"): Add support for the alignedat
	and subarray environments.  Also, add support for the shoveright
	and shoveleft macros.
	* font-latex.el (font-latex-math-environments): Add "xxalignat"
	and "flalign".

2012-12-26  Mads Jensen  <mje@inducks.org>

	* style/lscape.el: New style.

	* style/amssymb.el: Ditto.

	* style/ragged2e.el: Ditto.

	* style/mathtools.el: Ditto.

	* style/everysel.el: Ditto.

	* style/bigstrut.el: Ditto.

	* style/bigdelim.el: Ditto.

2012-12-25  Mads Jensen  <mje@inducks.org>

	* style/ulem.el: New style.

2012-12-25  Ikumi Keita <ikumi@ikumi.que.jp>

	* latex.el (LaTeX-math-default): Added unicode character position
	to some entries and "mathring" entry.
	(LaTeX-common-initialization): Added support for accent macros
	\hat, \dot etc and \textasteriskcentered.

2012-12-24  Mads Jensen  <mje@inducks.org>

	* style/footmisc.el: New style.

2012-12-21  Mosè Giordano  <giordano.mose@libero.it>

	* style/bm.el: New style.

	* style/siunitx.el: Ditto.

2012-12-20  Tassilo Horn  <tsdh@gnu.org>

	* tex-bar.el (TeX-bar-LaTeX-buttons, TeX-bar-LaTeX-button-alist):
	Also add spell button.

	* images/spell.xpm: New image, copied from Emacs.

	* tex-bar.el (TeX-bar-TeX-button-alist): Use it for the spell
	button.

2012-12-20  Tassilo Horn  <tsdh@gnu.org>

	* tex-bar.el (TeX-bar-TeX-button-alist, TeX-bar-TeX-buttons): Add
	`spell' button to run spell-checker.

2014-05-23  Tassilo Horn  <tsdh@gnu.org>

	* texmathp.el (texmathp-tex-commands-default): Recognize
	\\shortintertext from mathtools.

2014-05-16  Stefan Monnier  <monnier@iro.umontreal.ca>

	* tex-site.el (TeX-modes-set): Use advice-add if available.
	* font-latex.el (font-latex-make-sectioning-faces): Don't rely on
	dynamic scoping for `num'.
	(font-latex-make-built-in-keywords): Don't use `eval' needlessly.
	(font-latex-doctex-syntactic-keywords): Declare before first use.
	(font-latex-match-command-with-arguments):
	Stay away from `add-to-list' on let-bound variables.
	(font-latex-match-command-in-braces): Remove unused var `end'.

2012-12-04  Tassilo Horn  <tsdh@gnu.org>

	Merge revno 314 (Stefan Monnier) from emacs elpa branch: Shorten
	copyright year ranges.

	* context.el:

	* doc/auctex.texi:

	* doc/changes.texi:

	* doc/install.texi:

	* font-latex.el:

	* latex.el:

	* style/letter.el:

	* tex-fold.el:

	* tex-jp.el:

	* tex.el:

2012-11-30  Ralf Angeli <angeli@caeruleus.net>

	* Version 11.87 released.

2012-11-30  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-evince-dbus-p): Make last change a little more
	conventional.

2012-11-30  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-evince-dbus-p): Check for feature emacs in order not
	to signal an error on XEmacs.

2012-11-29  Ralf Angeli  <angeli@caeruleus.net>

	* RELEASE, configure.ac, doc/auctex.texi, doc/changes.texi,
	doc/install.texi, doc/tex-ref.tex: Update for upcoming release.

2012-11-26  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-split-bibs): Add doc string and use variable for
	Biber file extensions.
	(LaTeX-search-files-type-alist): Add entry for Biber.
	(BibTeX-Biber-global-files): Remove.
	(BibTeX-global-files): Reintroduce.
	(TeX-Biber-global-files): New variable.
	(TeX-arg-bibliography): Check if Biber or BibTeX is used and react
	accordingly.

	* tex-buf.el (TeX-check-files): Do not check duplicate extensions.
	(TeX-command-query, TeX-LaTeX-sentinel): Use separate variables
	for BibTeX and Biber file extensions.
	(TeX-synchronous-sentinel): Use `let' instead of `let*'.

	* tex.el (TeX-clean-default-intermediate-suffixes): Add suffixes
	for biblatex.
	(TeX-auto-generate, TeX-auto-generate-global): Use separate
	variables for BibTeX and Biber file extensions.
	(TeX-Biber-file-extensions): New variable.
	(BibTeX-Biber-file-extensions): Remove.
	(BibTeX-file-extensions): Reintroduce.
	(TeX-search-files-type-alist): Use `BibTeX-file-extensions'.
	(TeX-normal-mode): Use separate variables for BibTeX and Biber
	global files.

2012-07-17  Vincent Belaïche  <vincentb1@users.sourceforge.net>

	* tex-info.el (Texinfo-reftex-hook): Add function.
	(TeX-texinfo-mode): Add RefTeX plugging.

2012-11-23  Tassilo Horn  <tsdh@gnu.org>

	* doc/quickstart.texi (Quick Start): Document that one mustn't
	load auctex.el if AUCTeX is installed from ELPA.

	* doc/install.texi (Installation): Mention installation from ELPA.

2012-11-20  Davide G. M. Salvetti  <salve@debian.org>

        * doc/tex-ref.tex (column{preview-latex}): Fix typo.  Reported by
        Sébastien Villemot.  Update copyright information.

2012-11-14  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-auto-regexp-list): Remove entries for Biber.
	(LaTeX-biber): Remove.
	(LaTeX-listify-package-options): Rewrite so that the function can
	deal with key=value pairs.
	(LaTeX-always-use-Biber): Remove.
	(LaTeX-using-Biber): Add doc string and make buffer-local.

	* tex-style.el (LaTeX-biblatex-use-Biber): New variable.

	* doc/auctex.texi (top): Remove reference to
	`LaTeX-always-use-Biber'.
	(Selecting a Command): Mention Biber and
	`LaTeX-biblatex-use-Biber'.

	* Makefile.in (STYLESRC): Add style/biblatex.el.

	* style/biblatex.el: New file.

2012-11-05  Tassilo Horn  <tsdh@gnu.org>

	* tex.el (TeX-doc-extensions): Fix typo.  This variable was
	formerly named TeX-doc-extenstions.

2012-10-04  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-jp.el: Repair coding from iso-2022-7bit to iso-2022-jp.

2012-10-03  Ralf Angeli  <angeli@caeruleus.net>

	* tex-jp.el: Repair coding.

2012-10-02  Ikumi Keita	 <ikumi@ikumi.que.jp>

	* tex-jp.el (japanese-TeX-engine-default)
	(TeX-engine-alist-builtin, japanese-TeX-use-kanji-opt-flag):
	New defcustoms.
	(japanese-TeX-coding-ejsu, japanese-TeX-get-encoding-string):
	New functions.
	(japanese-TeX-command-list): Support %(kanjiopt).
	(TeX-expand-list): Support new option kanjiopt, bibtex, makeindex,
	mendexkopt, xdvi.
	(TeX-view-predicate-list-builtin): Judge paper.
	(TeX-view-program-list): Support dviout paper size, and other DVI
	previewers in Mac and others.
	(TeX-view-program-selection): Add Dviout, TeXworks and Preview.
	(LaTeX-command-style): Support uplatex.
	(japanese-plain-tex-mode-initialization): Use TeX-engine-set.
	(japanese-latex-mode-initialization): Ditto.

	* tex-jp.el: Comment fix.
	(TeX-error-description-list): Doc fix.

2012-09-27  Joost Kremers  <joostkremers@fastmail.fm>  (tiny change)

	* tex-buf.el (TeX-check-files): Use mapcar instead of cl's map.

2012-09-16 Philip Kime  <Philip@kime.org.uk>  (tiny change)

	* tex-buf.el (TeX-LaTeX-sentinel): Detect generic rerun message
	from biblatex

2012-09-14  Ken Brown  <kbrown@cornell.edu>  (tiny change)

	* doc/auctex.texi (top): Mention LaTeX-always-use-Biber.

	* doc/tex-ref.tex: Add Biber.

2012-09-13  Tassilo Horn  <tsdh@gnu.org>

	Merge Biber support developed by Philip Kime
	<philkime@kime.org.uk>.
	* doc/changes.texi: Mention Biber support.

	* tex.el (TeX-command-list, TeX-auto-generate)
	(TeX-auto-generate-global, TeX-search-files-type-alist)
	(TeX-normal-mode): Adapt.
	(TeX-command-Biber): New defcustom.
	(BibTeX-Biber-file-extensions): Rename from
	BibTeX-file-extensions.

	* tex-buf.el (TeX-save-document, TeX-check-files)
	(TeX-command-query, TeX-LaTeX-sentinel): Adapt.
	(TeX-Biber-sentinel, TeX-run-Biber): New functions.

	* latex.el (LaTeX-auto-regexp-list, LaTeX-auto-cleanup)
	(TeX-arg-bibliography, LaTeX-common-initialization): Adapt.
	(LaTeX-biber, LaTeX-split-bibs, LaTeX-using-Biber)
	(LaTeX-always-use-Biber): New functions and vars.
	(BibTeX-Biber-global-files): Rename from BibTeX-global-files.

	* font-latex.el (font-latex-built-in-keyword-classes)
	(font-latex-add-keywords): Adapt.

2012-06-21  Patrice Dumas  <pertusus@free.fr>  (tiny change)

	* doc/preview-latex.texi (The preview images): Place index command
	`@pindex dvipng' on a line of its own.

	* doc/macros.texi: Replace user macro `@sans' by user macro
	`@sansserif' and make definition conditional against flag
	no-sansserif as `@sansserif' is a Texinfo macro and does not need
	to be redefined.

	* doc/macros.texi: Suppress user macro `@LaTeX' as this macro is
	already defined in Texinfo.

	* doc/quickstart.texi (Editing Facilities): Use texinfo
	`@sansserif' macro rather than user macro `@sans'.

	* doc/auctex.texi (Font Specifiers): Use texinfo `@sansserif'
	macro rather than user macro `@sans'.

2012-08-14  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-determine-method): Match --synctex
	as well as -synctex.

2012-07-04  Tassilo Horn  <tassilo@member.fsf.org>

	* doc/changes.texi: Mention Evince forward/backward search
	changes.

2012-07-03  Tassilo Horn  <tassilo@member.fsf.org>

	* font-latex.el (byte-code-function-p): Reference the generated
	functions with font-latex-match prefix.  See Emacs bug 11837.

2012-06-22  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-evince-dbus-p): Add check for
	`dbus-register-signal', which might be unavailable if emacs was
	configured with --without-dbus.

2012-04-26  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-engine-set): Fix docstring leading to a misplaced
	interactive spec warning.

2012-04-25  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-evince-dbus-p): Improve check for emacs's dbus
	support.

2012-04-11  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-evince-sync-view): Work around emacs integer limits.
	Also provide the current column to Evince.
	(TeX-evince-dbus-p): Also check the signature of Evince's
	FindDocument DBUS method, which is only stable since evince 3.0.

2012-04-10  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-evince-sync-view): Fix arithmetic range error.
	(TeX-evince-dbus-p): Add parameter to extend the check depending
	on wanted features (e.g., forward search).
	(TeX-view-program-list-builtin): Use it.

2012-04-08  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-evince-dbus-p): New function.
	(TeX-evince-sync-view): New function.
	(TeX-view-program-list-builtin): Use Evince's DBUS interface for
	forward search if available.
	(TeX-source-correlate-mode): Use TeX-evince-dbus-p.

2012-01-11  Ralf Angeli  <angeli@caeruleus.net>

	* style/setspace.el ("setspace"): Correct quoting.

2011-09-18  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Marking): Make a few corrections throughout the
	section.
	(Adding Macros): Document special values for numbers used together
	with `TeX-add-symbols'.

2011-09-18  Vincent Belaïche  <vincentb1@users.sourceforge.net>

	* doc/auctex.texi: Add documentation for functions
	LaTeX-mark-section, LaTeX-mark-environment, Texinfo-mark-section,
	Texinfo-mark-environment and Texinfo-mark-node.

2011-08-24  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-synctex-output-page): TeXLive 2011's synctex wants
	absolute file names with dot indicating the master, like
	/foo/bar/./baz/chap1.tex.  So add this as another variant.
	(TeX-view-program-list-builtin): Use evince's -i,--page-index
	switch instead of -p,--page-label if that evince version supports
	it (>=3.0.x).

2011-08-07  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-move-to-break-point): Take characters after
	closing dollar sign into account when deciding to break before
	inline math.

2011-07-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-search-files-kpathsea): Check if directories are
	accessible.

2011-07-11  Vincent Belaïche  <vincentb1@users.sourceforge.net>

	* tex-info.el (Texinfo-mark-environment, Texinfo-mark-section)
	(Texinfo-mark-node): New defun.
	(Texinfo-mode-map): added key bindings for
	Texinfo-mark-environment, Texinfo-mark-section, and
	Texinfo-mark-node.

2011-06-19  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-engine-alist-builtin): Add --jobname to luatex and
	lualatex calls.
	(TeX-engine-alist-builtin): Remove --jobname again for luatex but
	not for lualatex.

2011-06-05  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-source-correlate-sync-source): Restore Emacs 21
	compatibility.

2011-05-26  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-source-correlate-sync-source): Adapt to handle
	file:// URLs.

2011-05-15  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (STYLESRC): Add style/setspace.el.

	* tex.el (TeX-expand-list): Add a safeguard to the %(outpage)
	expander for when an output page function returns nil.

2011-05-09  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-synctex-output-page-1): New function for calling
	synctex.
	(TeX-synctex-output-page): Use it, and try relative file names
	with and without leading ./ when calling synctex before falling
	back to page 1.
	(TeX-source-correlate-sync-source): Add &rest parameter, because
	Evince 3 sends an additional (ignored) parameter via dbus.

2011-05-01  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-tree-expand): Use a different test to check for an
	absolute path on Windows.

	* font-latex.el (font-latex-built-in-keyword-classes):
	Add definition for \rule and remove the one for \sbox.

2011-04-25  Ralf Angeli  <angeli@caeruleus.net>

	* style/setspace.el: Add support for changing \displayskipstretch.

2011-04-25  Mads Jensen  <mje@inducks.org>

	* style/setspace.el: New file.

2011-04-25  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-style-list): Add memoir.

2011-04-20  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-expand-spec): Make sure the expansion of a
	placeholder is not processed again.

2011-04-15  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-built-in-keyword-classes): Make a few
	additions and corrections.

	* latex.el (LaTeX-common-initialization): Prompt for file
	extension instead of name when inserting \addcontentsline or
	\addtocontents.

2011-04-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-mode): Check for D-Bus session.

2011-04-10  Antoine Levitt  <antoine.levitt@gmail.com>  (tiny change)

	* tex.el (TeX-source-correlate-sync-source): Do not use
	`goto-line'.

2011-04-03  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (STYLESRC): Add style/xspace.el.

	* style/xspace.el: Add copyright notice and license blurb.
	Correct a few things.

2011-04-03  Mads Jensen  <mje@inducks.org>

	* style/xspace.el: New file.

2011-03-27  Tassilo Horn  <tassilo@member.fsf.org>

	* tex.el (TeX-source-correlate-mode): Add support for I/O
	correlation mode inverse search for the Evince document viewer.

2011-03-23  Ralf Angeli  <angeli@caeruleus.net>

	* style/bulgarian.el, style/czech.el, style/danish.el,
	style/frenchb.el, style/icelandic.el, style/polish.el,
	style/polski.el, style/slovak.el, style/swedish.el: Do not set
	`TeX-quote-language' if `override' is in effect.

2011-03-20  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-synchronous-sentinel): Strip directory part of
	master file because we are already in the master directory.

2011-03-13  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (STYLESRC): Add style/lettrine.el and
	style/multicol.el.

	* style/lettrine.el: Add copyright notice and license blurb.
	Correct a few things.

	* style/multicol.el: Add copyright notice and license blurb.
	Simplify environment definitions.  Provide completion for lengths
	the package defines.  Get rid of indentation and filling barrier.
	Remove fontification definitions.

2011-03-13  Mads Jensen  <mje@inducks.org>

	* style/lettrine.el: New file.

	* style/multicol.el: New file.

2011-02-27  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-common-initialization): Add support for
	\ProvidesPackage.

2011-02-06  Ralf Angeli  <angeli@caeruleus.net>

	* style/letter.el (LaTeX-env-recipient): Use \renewcommand instead
	of \def to set date.

2011-01-30  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-parse-macro): Do not insert braces if the argument
	is 0 or less.
	(TeX-parse-argument): Put both the macro and the marked region in
	a TeX group if the argument is less than 0.

	* latex.el (LaTeX-common-initialization): Give macros that change
	font size a -1 argument so that braces are added around them if
	if there is an active region.

	* doc/auctex.texi (Adding Macros): Document special options 0 and
	-1 for number-type specs.

2011-01-29  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-complete-symbol): Get rid of the window with the
	completions when possible.

2011-01-23  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-post-command): Add `forward-char' and
	`backward-char' to commands on which to open an overlay.

	* doc/auctex.texi (Adding Macros):
	Mention `TeX-arg-input-file-search'.

2011-01-22  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-tree-expand): Make `subdirs' parameter optional.
	Do not try to call kpsewhich with --expand-braces anymore and adapt
	code for handling of results accordingly.
	(TeX-doc-extenstions): New variable.
	(TeX-tree-roots): New function.
	(TeX-tree-roots): New user option.
	(TeX-kpathsea-format-alist): Remove.
	(TeX-search-files-kpathsea): Add and use `extensions' and `scope'
	parameters.
	(TeX-search-files): Do not call `TeX-search-files-kpathsea'
	anymore.
	(TeX-search-files-type-alist): New variable.
	(TeX-search-files-by-type): New function.

	* latex.el (LaTeX-arg-usepackage): Let-bind
	`TeX-input-file-search'.
	(LaTeX-search-files-type-alist): New user option.
	(TeX-arg-input-file-search): Doc fix.
	(TeX-arg-input-file, TeX-arg-bibstyle, TeX-arg-bibliography):
	Use `TeX-search-files-by-type' instead of `TeX-search-files'.
	(LaTeX-common-initialization): Set `TeX-search-files-type-alist'.

2011-01-09  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-common-initialization): Add support for
	\settoheight and \settodepth.

2010-12-26  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Simple Style): Add a note about the naming of
	the style file and the style hook.

2010-12-12  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-env-args): Add the optional argument at the
	right position when wrapping the environment around existing text.

2010-12-05  Ralf Angeli  <angeli@caeruleus.net>

	* context.el: Set up abbrev table.
	(ConTeXt-mode-common-initialization): Set `local-abbrev-table'.

	* latex.el: Set up abbrev table for LaTeX and docTeX mode.
	(docTeX-mode): Set abbrev table.
	(LaTeX-common-initialization): Set `local-abbrev-table'.

	* plain-tex.el: Set up abbrev table.
	(plain-TeX-common-initialization): Set `local-abbrev-table'.

	* tex.el (TeX-mode-prefix): Add mode parameter.
	(VirTeX-common-initialization): Do not set `local-abbrev-table'
	anymore.
	(TeX-abbrev-mode-setup): New function.

	* doc/changes.texi: Mention change of abbrev handling.

2010-12-04  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-verbatim-macro-boundaries): Support verbatim
	macros with braces.

2010-12-04  Augusto Ritter Stoffel  <arstoffel@inf.ufrgs.br>  (tiny change)

	* latex.el (LaTeX-math-keymap): Define a key for the math prefix
	only if it has not been used as a prefix after the prefix.

2010-11-16  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-view-program-list-builtin): Add Okular.

2010-10-17  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (TeX-arg-input-file-search): New user option.
	(TeX-arg-input-file): Use it.

2010-10-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-synctex-output-page): Return "1" if no page number
	can be found to prevent an infinite loop in command expansion.

2010-10-02  Ralf Angeli  <angeli@caeruleus.net>

	* style/beamer.el ("beamer"): Prompt for block title.

2010-09-28  Ralf Angeli  <angeli@caeruleus.net>

	* context.el (ConTeXt-extra-paragraph-commands): Remove.
	(ConTeXt-language-variable-list):
	Add `ConTeXt-extra-paragraph-commands'.

	* context-en.el (ConTeXt-extra-paragraph-commands-en):
	New variable.

	* context-nl.el (ConTeXt-extra-paragraph-commands-nl):
	New variable.

2010-09-18  Ralf Angeli  <angeli@caeruleus.net>

	* context.el (ConTeXt-expand-options): Eval value from engine
	alist.

2010-09-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fptex.el: Remove.

	* Makefile.in (AUCSRC): Reflect removal of tex-fptex.el.

	* doc/wininstall.texi: Reflect removal of tex-fptex.el.

	* style/virtex.el: Mention author.  Do not unnecessarily protect
	`lambda' with `function'.

	* font-latex.el (font-latex-keyword-matcher): Refine last change
	to work properly with lists of face symbols.

2010-09-11  Ralf Angeli  <angeli@caeruleus.net>

	* style/natbib.el: Update copyright information.

	* style/letter.el: Update copyright information.

	* style/harvard.el: Update copyright information.

	* style/doc.el: Do not unnecessarily protect `lambda' with
	`function'.

2010-09-06  Arne Jørgensen  <arne@arnested.dk>

	* style/danish.el: Changed font-latex-add-quotes from french to
	german.

2010-08-30  Ralf Angeli  <angeli@caeruleus.net>

	* style/ngerman.el: Prevent "| from leading to color bleed.

	* style/german.el: Prevent "| from leading to color bleed.

2010-08-29  Ralf Angeli  <angeli@caeruleus.net>

	* doc/preview-dtxdoc.pl: Use explicit variable with split instead
	of implicit split to @_ which does not work anymore in Perl 5.12.

2010-07-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex-info.el: Delete trailing whitespace.

2010-07-04  Ralf Angeli  <angeli@caeruleus.net>

	* doc/faq.texi: Update infos about Emacs versions.  Add FAQ entry
	for file:line:error messages in case `TeX-next-error' fails due to
	unbalanced parens.

	* tex.el (TeX-print-command, TeX-queue-command)
	(TeX-printer-list): Switch back to Berkeley-style commands.

2010-06-24  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Texinfo mode): Make a few corrections.

2010-06-19  Berend de Boer  <berend@pobox.com>

	* context.el: proper indent of all macros that can appear inside
	an itemize list such as \sym.

2010-06-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex-info.el (Texinfo-find-env-end, Texinfo-find-env-start):
	Enable the commands to be used repeatedly without getting stuck at
	an environment start or end respectively.

2010-05-27  Ralf Angeli  <angeli@caeruleus.net>

	* autogen.sh: Set LANG=C when looking into ChangeLog for
	AUCTEXDATE.

2010-05-24  Vincent Belaïche  <vincent.belaiche@gmail.com>

	* doc/auctex.texi (Texinfo mode): New section.

2010-05-17  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-math-input-method-off-regexp): Fix regexp.

2010-04-25  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-print-command): Support printing of Postscript and
	PDF files.  Doc fix.
	(TeX-queue-command): Use lpstat instead of lpq.  Doc fix.
	(TeX-printer-list): Support printing of Postscript and PDF files.
	Make use of System V style commands (lp, lpstat) instead of
	Berkeley style (lpr, lpq).
	(TeX-printer-default): Doc fix.

2010-04-17  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-warning): Throw an error with a sensible message
	if the file for the warning could not be determined.

2010-04-13  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-format-filter): Calculate the current column as
	difference between line start and end instead of using
	`current-column' in order to do the right thing when octal codes
	are present.

2010-04-11  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-keyword-matcher): Quote a list of face
	properties but do not to quote a face symbol.

2010-04-05  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-parse-error): Allow `TeX-error-file' to become
	empty.

2010-03-28  Ralf Angeli  <angeli@caeruleus.net>

	* plain-tex.el: New file.

	* tex.el: Move code related to plain TeX to plain-tex.el.

	* Makefile.in (AUCSRC): Add plain-tex.el.

	* context.el: Require `plain-tex'.

2010-03-27  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-view-program-selection): Doc fix.
	(TeX-clean): Regexp-quote the master file name.

2010-03-20  Ralf Angeli  <angeli@caeruleus.net>

	* style/french.el: New file.

	* Makefile.in (STYLESRC): Add style/french.el.

2010-03-07  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (TeX-arg-key-val): Hint at key=value format in prompt.
	(LaTeX-fill-region-as-para-do): Match whitespace without comment
	starter at beginning of line when dealing with code comments.

2010-03-06  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (DIST_PREFIX): Use the working directory for the
	folder with distribution files.
	(FTPDIR, WWWDIR): Make them subdirectories of `DIST_PREFIX'.
	(COMMITTER_NAME, COMMITTER_EMAIL): Remove.
	(COMMITTER): New variable.
	(.PHONY): Update.
	(tar-ball-clean): Use `check-tag'.
	(check-tag): New name for `check-dist'.
	(dist): Do not call `release-commit' anymore.
	(snapshot): Now an alias for `dist'.
	(release-commit): Use `COMMITTER'.
	(release-sign): New name for `full-release' target.
	Generate version 1.1 directive files.
	(xemacs-package): Depend on `check-tag'.
	(WPACKAGEFILES): Include info files with a numerical supplement to
	the .info extension.  Depend on `check-tag'.  Check for presence
	of `WEMACSVER' variable.  Try to find a local AUCTeX tar ball
	before downloading one.  Use `TAG' instead of `WAUCVER'.  Put ZIP
	archive into `FTPDIR'.
	(WAUCVER, WEMACSVER): Remove.
	(release-upload): New target.
	(www-doc): Depend on `check-tag'.  Update URLs for Emacs manuals.

2010-02-21  Ralf Angeli  <angeli@caeruleus.net>

	* Version 11.86 released.

2010-02-21  Ralf Angeli  <angeli@caeruleus.net>

	* RELEASE: Update for upcoming release.

	* doc/install.texi (Prerequisites): Update information about Emacs
	distributions.

	* doc/tex-ref.tex: Bump version number.  Update section on TeXing
	options.

	* configure.ac: Bump version number.

	* auctex.spec (Version): Bump version number.

	* doc/fdl.texi: Switch to GFDL 1.3.

	* doc/auctex.texi: Switch to GFDL 1.3.

	* doc/preview-latex.texi: Switch to GFDL 1.3.

	* doc/changes.texi: Update for next release.

2010-02-20  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc): Add a fallback in case nothing is found via
	the backend list, e.g. when using MiKTeX 2.8.

	* doc/auctex.texi (Documentation): Document change in `TeX-doc'.

2010-02-14  Ralf Angeli  <angeli@caeruleus.net>

	* doc/changes.texi: Mention preview.sty supporting XeTeX.

2010-02-13  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-XeTeX-command, LaTeX-XeTeX-command): Remove.
	(ConTeXt-engine): Doc fix.
	(ConTeXt-Omega-engine): Doc fix.  Make obsolote.
	(TeX-expand-list): Add support for LuaTeX.  Adapt to new engine
	handling.
	(AUC-TeX-version, AUC-TeX-date): Remove.
	(TeX-engine-alist-builtin): New variable.
	(TeX-engine-alist): Adapt to new engine handling and make it a
	defcustom.
	(TeX-engine-alist): New function.
	(TeX-engine): Adapt to new engine handling and make it
	buffer-local.
	(LaTeX-engine-alist): Remove.
	(TeX-engine-set): Adapt to new engine handling and take care of
	TeX PDF mode.
	(TeX-clean-default-output-suffixes): Add .xdv.
	(TeX-mode-specific-command-menu-entries): Construct list of
	engines from `TeX-engine-alist'.

	* context.el (ConTeXt-expand-options): Adapt to new engine
	handling.

	* doc/auctex.texi (Processor Options): Document options and
	functions of new engine handling.

2009-12-30  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-view-command-raw): Abort if no matching viewer is
	found.

	* doc/preview-faq.texi (Troubleshooting): Add some hints about
	preview-latex overwriting output files.

2009-12-28  Ralf Angeli  <angeli@caeruleus.net>

	* style/austrian.el: New file.

	* style/naustrian.el: New file.

	* Makefile.in (STYLESRC): Add style/austrian.el and
	style/naustrian.el.

2009-12-26  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Known problems): New subsection on dealing with
	font locking problems.

	* font-latex.el (font-latex-syntax-alist): New variable.
	(font-latex-add-to-syntax-alist): New function.
	(font-latex-setup): Use `font-latex-syntax-alist'.

	* style/shortvrb.el: New file.

	* Makefile.in (STYLESRC): Add style/shortvrb.el.

	* tex-style.el (LaTeX-shortvrb-chars): New variable.

	* doc/changes.texi: Document changes after 11.85.

	* context.el (ConTeXt-expand-options): Check for XeTeX engine, not
	for mode which does not exist anymore.

	* tex.el (plain-TeX-common-initialization): Let commented lines be
	matched by `paragraph-separate' in order for commented and
	non-commented paragraphs to be filled separately.

2009-12-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-parse-error): Also find quoted file names with
	newlines.  Remove the newlines from the matched string if
	necessary.

2009-12-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-parse-error): Add an alternative in the parser
	regexp for quoted file names.  Strip the quotation marks if a file
	name was found with the alternative.

2009-12-06  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-command-prefix): New variable.
	(TeX-fold-mode): Use it.
	(TeX-fold-keymap): Remove prefix strings.

	* tex.el (TeX-fold-menu): Remove hard-coded key binding labels.

	* doc/auctex.texi (Folding): Mention `TeX-fold-command-prefix'.

2009-11-22  Ralf Angeli  <angeli@caeruleus.net>

	* doc/wininstall.texi: Do not refer to Emacs 22 anymore.
	Improve the paragraphs about PNG support.

2009-11-01  Ralf Angeli  <angeli@caeruleus.net>

	* style/pstricks.el: Disable key bindings for macro parameter
	addition and change.
	(LaTeX-pst-color-list, LaTeX-pst-boolean-list)
	(LaTeX-pst-fillstyle-list): Remove information for completion
	mechanism.
	(LaTeX-pst-trimode-list, LaTeX-pst-linestyle-list): Remove.
	Handled directly in `LaTeX-pst-basic-parameters-list'.
	(LaTeX-pst-basic-parameters-list): New variable.
	(LaTeX-pst-parameters): Call `TeX-arg-key-val' instead of
	`LaTeX-package-parameters' and thereby use a different completion
	mechanism.
	(LaTeX-pst-macro-psdots): Do not add a dotstyle parameter.
	(LaTeX-pst-env-pspicture): Handle optional parameter via
	`multi-prompt-key-value'.
	("pstricks"): Handle arguments of \psdot and \psdots correctly.

2009-10-31  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-verbatim-p-function): New variable.
	(TeX-verbatim-p): New function.
	(TeX-in-comment): Use it.
	(TeX-brace-count-line): Use `TeX-in-comment' instead of just
	checking for a comment character.

	* latex.el (LaTeX-common-initialization):
	Set `TeX-verbatim-p-function'.

2009-10-25  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Starting Viewers): Describe new viewer
	selection options.
	(Folding): Add some hints on how to do automatic folding.

	* tex.el (TeX-view-predicate-list-builtin)
	(TeX-view-predicate-list, TeX-view-program-list): Doc fix.
	(TeX-view-program-list-builtin, TeX-view-program-selection):
	Conditionalize default value based on system type.  Doc fix.
	(TeX-synctex-output-page): Do not return random stuff if there was
	no match.
	(TeX-clean-default-intermediate-suffixes): Remove SyncTeX files as
	well.

2009-10-21  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-synctex-output-page): Handle files in subdirectories
	correctly.

2009-10-18  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-run-discard): Doc fix.
	(TeX-run-discard-or-function): New function.

	* tex.el (TeX-command-list): Use `TeX-run-discard-or-function' as
	hook for View command and provide it as a customization option.
	(TeX-view-program-list): Add the possibility to use a function to
	call the viewer.
	(TeX-view-command-raw): Support the use of a function to call the
	viewer.

2009-10-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-view-predicate-list-builtin): Remove combined
	predicates for paper properties and add new predicates testing
	only one property.
	(TeX-view-program-list-builtin): Use new predicates.
	(TeX-view-program-list): Provide the possibility to use a list of
	predicates.

2009-10-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-view-program-list): Shave off extra closing paren.

2009-10-04  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (LaTeX-command-style, TeX-print-style, TeX-view-style):
	Doc fix.
	(TeX-view-predicate-list-builtin, TeX-view-program-list-builtin):
	New variables.
	(TeX-view-predicate-list, TeX-view-program-list)
	(TeX-view-program-selection): New user options.
	(TeX-match-style, TeX-view-match-predicate)
	(TeX-view-command-raw): New functions.
	(TeX-expand-list): Use `TeX-view-command-raw' for %V expander.

2009-09-13  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-error): Cater for case of file:line:error
	messages without context.
	(TeX-parse-error): Add support for quoted file names with
	backslashes as path separators.  Those might be emitted by MiKTeX
	2.8.

2009-06-14  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Indenting): Mention `LaTeX-item-regexp'.
	(Fontification of math): New section replacing and extending
	`Subscript and superscript'.

2009-04-26  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-mode): Clean `custom-requests'
	property.
	(VirTeX-common-initialization): Call `TeX-source-correlate-mode'
	minor mode function when initializing the mode instead of when
	loading the file.

2009-04-13  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (TeX-arg-key-val): Eval `key-val-alist' argument if it
	is a symbol.

	* style/listings.el ("listings"): Do not eval arguments of
	`TeX-arg-key-val'.

	* multi-prompt.el (multi-prompt-expand-completion-table):
	New function.
	(multi-prompt-key-value): Use it.

	* style/pstricks.el: Correct header info.
	(LaTeX-pst-input-int, LaTeX-pst-point, LaTeX-pst-angle)
	(LaTeX-pst-extdir, LaTeX-pst-arrows, LaTeX-pst-dotstyle-list)
	(LaTeX-pst-refpoint-list, LaTeX-pst-refpoint)
	(LaTeX-pst-macro-multirputps, LaTeX-pst-env-pspicture): Improve or
	correct prompt.
	("pstricks"): Move to the bottom of the file.  Do not use
	`function' to quote `lambda'.  Turn off TeX PDF mode.  Use `mapc'
	instead of `mapcar'.

2009-04-05  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-help-error): Make search for help text in log
	file more robust.

2009-04-04  Ralf Angeli  <angeli@caeruleus.net>

	* style/listings.el ("listings"): Remove redundant list when
	calling `TeX-arg-key-val'.  Use `LaTeX-env-args' for lstlisting
	environment.

	* latex.el (LaTeX-env-args): New function.
	(TeX-arg-conditional, TeX-arg-eval, TeX-arg-label)
	(TeX-arg-index-tag, TeX-arg-index, TeX-arg-macro)
	(TeX-arg-environment, TeX-arg-cite, TeX-arg-counter)
	(TeX-arg-savebox, TeX-arg-file, TeX-arg-define-label)
	(TeX-arg-define-macro, TeX-arg-define-environment)
	(TeX-arg-define-cite, TeX-arg-define-counter)
	(TeX-arg-define-savebox, TeX-arg-document, LaTeX-arg-usepackage)
	(TeX-arg-input-file, TeX-arg-bibstyle, TeX-arg-bibliography)
	(TeX-arg-corner, TeX-arg-lr, TeX-arg-tb, TeX-arg-pagestyle)
	(TeX-arg-verb, TeX-arg-pair, TeX-arg-size, TeX-arg-coordinate)
	(TeX-arg-insert-braces): Doc fix.

	* multi-prompt.el (multi-prompt-separator): Remove.
	(multi-prompt-key-value-collection-fn): Do not search for
	`multi-prompt-separator'.
	(crm-local-must-match-map, crm-local-completion-map): Silence the
	byte compiler.
	(multi-prompt-key-value): Require crm.el here and not at
	top-level.

	* tex-info.el (TeX-texinfo-mode): Add @lowersections and
	@raisesections.

	* doc/auctex.texi (Adding Environments): Document hooks for
	`LaTeX-add-environments'.

2009-03-29  Ralf Angeli  <angeli@caeruleus.net>

	* style/listings.el (LaTeX-listings-key-val-options):
	New variable.
	("listings"): Use it.  Check for font-latex function, not feature.

	* latex.el (TeX-arg-key-val): New function.

	* multi-prompt.el: Require crm.el.
	(multi-prompt-separator, multi-prompt-key-value-sep)
	(multi-prompt-completion-table): New variables.
	(multi-prompt-key-value-collection-fn, multi-prompt-key-value):
	New functions.

2009-03-22  Ralf Angeli  <angeli@caeruleus.net>

	* tex-site.el.in: Revitalize support for completion in \cite
	macros via `BibTeX-auto-store'.

2009-03-02  Holger Sparr  <holger.sparr@gmx.net>

	* Makefile.in (STYLESRC): Add style/multido.el;
	style/pst-{grad|node|plot|slpe}.el

2009-03-01  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-verbatim-macro-boundaries): Do step backwards at
	beginning of buffer.
	(LaTeX-search-forward-comment-start): Treat find of comment at
	limit correctly.

	* tex-fold.el (TeX-fold-comment-do): Abort backward search for
	comment start at beginning of buffer.  Do not fold empty comment.

2009-02-24  Holger Sparr  <holger.sparr@gmx.net>

	* style/multido.el: New file.

	* style/pst-grad.el: New file.

	* style/pst-node.el: New file.

	* style/pst-plot.el: New file.

	* style/pst-slpe.el: New file.

2009-02-23  Holger Sparr  <holger.sparr@gmx.net>

	* style/pstricks.el: Actually implement support for writing
	PSTricks code.

2009-02-22  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Multi-line fontification): Remove.

	* doc/todo.texi (Wishlist): Fix typo.  Remove entry which is
	already supported.

	* style/tabularx.el: New file.

	* Makefile.in (STYLESRC): Add style/tabularx.el

2009-02-15  Ralf Angeli  <angeli@caeruleus.net>

	* style/natbib.el ("natbib"): Check for font-latex function rather
	than feature.  Add fontification spec for \cite.

	* doc/auctex.texi (Simple Style): Bring example in line with
	reality.

2009-01-24  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-method): Doc fix.
	(TeX-source-correlate-mode): Call minor mode function after file
	is loaded.

2009-01-14  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-babel-insert-hyphen): Put `delete-selection'
	property on function symbol.

2009-01-04  Ralf Angeli  <angeli@caeruleus.net>

	* style/CJK.el: New file.

	* style/ruby.el: New file.  Correct argument numbers of \rubysize
	and \rubysep.

	* style/CJKutf8.el: New file.

	* Makefile.in (STYLESRC): Add style/CJK.el and style/ruby.el.
	Add style/CJKutf8.el.

2009-01-03  Ralf Angeli  <angeli@caeruleus.net>

	* style/flashcards.el ("flashcards"): Test for font-latex function
	instead of feature.  Reflect that \cardbackstyle has an optional
	argument.

2008-12-29  Ralf Angeli  <angeli@caeruleus.net>

	* style/hyperref.el ("hyperref"): Test for font-latex function
	instead of feature.  Activate hyperref referencing style if
	possible.

2008-12-28  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-current-pages): Get rid of trailing periods.
	(TeX-LaTeX-sentinel): Add support for longtable warning.  Use only
	one search per condition.  Call `message' like `format'.

2008-12-22  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Call `TeX-tree-expand' instead
	of `TeX-macro-global-internal'.

	* tex-jp.el (TeX-macro-global): Call `TeX-tree-expand' instead of
	`TeX-macro-global-internal'.

	* latex.el (LaTeX-env-item): Deactivate the mark before inserting
	\item.
	(LaTeX-insert-item): Swap point and mark when mark if necessary.
	Insert newline only when not at beginning of line.

	* tex.el (TeX-deactivate-mark): New function.
	(TeX-parse-argument): Use it.

2008-12-21  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-auto-private, TeX-style-private): Per default
	propose a place in the user's Emacs directory, not in the TeX
	tree.
	(TeX-style-path): Add values to the end of the list.  Doc fix.

	* doc/auctex.texi (Automatic Private): Adjust descriptions of
	`TeX-macro-private', `TeX-auto-private', and `TeX-style-private'.

2008-12-16  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-tree-expand): New name for
	`TeX-macro-global-internal'.  Adapt parameter list to make it more
	flexible.  Update doc string.  Do not return removed default
	argument.
	(TeX-macro-global): Change to accomodate new interface of
	`TeX-tree-expand'.
	(TeX-macro-private): New function.
	(TeX-macro-private): Use it to determine variable value.

2008-12-13  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (plain-TeX-clean-intermediate-suffixes)
	(plain-TeX-clean-output-suffixes): New variables.

2008-12-01  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (VirTeX-common-initialization): Revert last change.

2008-11-30  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (VirTeX-common-initialization): Do not add call to
	`TeX-update-style' to `find-file-hooks' but call it directly.

2008-11-23  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-determine-method): Use configured
	LaTeX command and find -synctex switch even if there are spaces in
	front of it, as e.g. with MiKTeX.
	(TeX-format-list): Use \subsection and \subsubsection as well to
	identify a LaTeX file.

2008-11-02  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-math-env)
	(font-latex-extend-region-backwards-math-env): Do not match
	\\[...].

	* tex-fold.el (TeX-fold-expand-spec): Do not treat `\' special in
	replacement text.

2008-10-26  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (plain-TeX-common-initialization): Respect double dollar,
	i.e. "$$", as a paragraph separator.

2008-10-14  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-current-environment): Fix handling of commented
	parts.

	* tex.el (TeX-comment-prefix): Save match data.

2008-10-13  Ralf Angeli  <angeli@caeruleus.net>

	* doc/changes.texi, doc/install.texi, doc/intro.texi,
	doc/preview-readme.texi, doc/quickstart.texi: Make some
	corrections and updates.

2008-10-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-warning): Fix regexp for detecting bad boxes.

2008-10-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-set-mode-name): Indicate TeX PDF mode as a trailing
	flag.
	(TeX-engine): Doc fix.

	* doc/auctex.texi: Restructure some parts.  Update and extend it a
	bit to reflect the recent changes of functionality.

2008-10-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-interactive-mode): Add to `minor-mode-alist'.
	("desktop"): Remove `TeX-interactive-mode' from
	`desktop-locals-to-save'.

2008-10-06  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-paragraph-commands-regexp-make): Make it work
	for the case that `LaTeX-paragraph-commands' is set.

2008-10-05  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-engine): New variable.
	(TeX-expand-list): Use it instead of XeTeX and Omega mode
	variables.
	(hack-one-local-variable): Remove references to XeTeX and Omega
	mode variables.
	(TeX-set-mode-name): Remove lighters for XeTeX and Omega mode.
	(TeX-engine-alist, LaTeX-engine-alist): New variables.
	(TeX-engine-set): New function.
	(TeX-Omega-mode): Mark as obsolete.  Remove defcustom.
	(TeX-PDF-mode): Use `TeX-engine' instead of mode variables.
	(TeX-XeTeX-mode): Remove.
	(TeX-mode-map): Remove key bindings for toggling XeTeX and Omega
	mode.
	(TeX-mode-specific-command-menu-entries): Use new facilities for
	switching TeX engines.
	("desktop"): Remove reference to TeX Omega mode.

	* context.el (ConTeXt-expand-options): Use `TeX-engine' instead of
	XeTeX and Omega mode variables.

2008-09-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-PDF-mode): Add to `minor-mode-alist'.  Use "" as
	lighter.
	("desktop"): Remove `TeX-PDF-mode' from `desktop-locals-to-save'.

	* latex.el (LaTeX-mark-environment): Swap beg and end.

2008-08-02  Ralf Angeli  <angeli@caeruleus.net>

	* tex-bar.el (TeX-bar-TeX-buttons, TeX-bar-LaTeX-buttons):
	Mimic the default tool bars more closely.

2008-08-02  Reiner Steib  <reiner.steib@gmx.de>

	* toolbar-x.el (toolbarx-default-toolbar-meaning-alist):
	Provide different defaults for different Emacs and XEmacs versions.
	Conditionally add a `new-file' entry.

2008-07-28  Ralf Angeli  <angeli@caeruleus.net>

	* toolbar-x.el (toolbarx-image-path): Protect against load-path
	items being nil.

	* style/foils.el (LaTeX-style-foils): Silence the byte compiler.

	* style/epsf.el (TeX-arg-epsfsize): Silence the byte compiler.

	* tex.el (TeX-source-specials-view-start-server): Alias only if
	`defvaralias' is available.
	(TeX-master, TeX-convert-master): Move upwards to prevent some
	compiler warnings.

2008-07-27  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-synctex-tex-flags): New variable.
	(TeX-source-correlate-expand-options): Use it.
	(TeX-source-specials-tex-flags): Remove possibility to create
	lists.

	* context.el (ConTeXt-expand-options): Support TeX XeTeX mode and
	TeX Source Correlate mode.

2008-07-24  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-specials-mode): Fix last change.

2008-07-23  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-expand-list): Prevent "%(PDF)" expander from
	returning "pdf" if `TeX-XeTeX-mode' is active.  Make "%(tex)" and
	"%(latex)" expanders aware of the XeTeX commands.
	(hack-one-local-variable): Cater for `TeX-XeTeX-mode'.
	(TeX-set-mode-name): Cater for `TeX-XeTeX-mode'.
	(TeX-source-specials-mode): Mark as obsolete.
	(TeX-PDF-mode): Disable TeX XeTeX mode if TeX PDF mode is
	disabled.
	(TeX-Omega-mode): Disable TeX XeTeX mode if TeX Omega mode is to
	be enabled.
	(TeX-XeTeX-command, LaTeX-XeTeX-command): New variables.
	(TeX-XeTeX-mode): New minor mode.
	(TeX-mode-map): Define key for TeX XeTeX mode.
	(TeX-mode-specific-command-menu-entries): Add entry for TeX XeTeX
	mode.  Make the engine-related options exclusive by using radio
	buttons.  Refine the wording for some options.

2008-07-19  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-correlate-determine-method): Do not error out
	if calling the engine fails.

	* latex.el (LaTeX-mark-environment): Keep point upon unsuccessful
	search.

2008-07-19  Vincent Belaïche  <vincent.b.1@hotmail.fr>  (tiny change)

	* latex.el (LaTeX-mark-environment): Support marking of multiple
	nested environments.

2008-07-17  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-paragraph-commands-regexp-make):
	Take `LaTeX-paragraph-commands' into account.
	(LaTeX-paragraph-commands-regexp): Move behind
	`LaTeX-paragraph-commands' definition.

2008-07-14  Ralf Angeli  <angeli@caeruleus.net>

	* style/pdfsync.el ("pdfsync"):
	Use `TeX-source-correlate-output-page-function' rather than
	`TeX-sync-output-page-function'.

	* tex.el (TeX-command-list): Remove SyncTeX expanders.
	(TeX-expand-list): Adapt function calls.  Remove SyncTeX expander.
	(hack-one-local-variable, TeX-set-mode-name):
	Remove `TeX-synctex-mode' and `TeX-source-specials-mode'.
	Add `TeX-source-correlate-mode'.
	(TeX-source-correlate-method): New variable.
	(TeX-source-correlate-method-active): New variable.
	(TeX-source-correlate-output-page-function): Rename from
	`TeX-sync-output-page-function'.
	(TeX-source-correlate-start-server): Rename from
	`TeX-view-start-server'.
	(TeX-source-correlate-start-server-asked): Rename from
	`TeX-view-start-server-asked'.
	(TeX-source-correlate-start-server-flag): Rename from
	`TeX-view-start-server-flag'.
	(TeX-source-correlate-gnuserv-p): Rename from
	`TeX-view-gnuser-p'.
	(TeX-source-correlate-server-enabled-p): Rename from
	`TeX-view-server-enabled-p'.
	(TeX-source-correlate-start-server-maybe): Rename from
	`TeX-view-start-server-maybe'.
	(TeX-source-specials): Remove custom group.
	(TeX-source-correlate-determine-method): New function.
	(TeX-source-correlate-expand-options): Rename from
	`TeX-source-specials-expand-options'.  Support SyncTeX as well.
	(TeX-source-correlate-map): Rename from
	`TeX-source-specials-map'.
	(TeX-source-correlate-mode): Rename from
	`TeX-source-specials-mode'.  Support SyncTeX as well.
	(TeX-source-specials-mode): Now an alias for
	`TeX-source-specials-mode'.
	(TeX-source-specials-tex-flags, TeX-source-specials-places)
	(TeX-source-specials-view-position-flags)
	(TeX-source-specials-view-editor-flags)
	(TeX-source-specials-view-gnuclient-flags)
	(TeX-source-specials-view-emacsclient-flags): Put into `TeX-view'
	rather than `TeX-command' group.
	(TeX-source-specials-view-expand-options): Adapt for new function
	names and distinction between source specials and SyncTeX.
	(TeX-synctex-mode): Remove.
	(TeX-mode-map): Remove binding for TeX SyncTeX mode.
	(TeX-mode-specific-command-menu-entries): Remove menu entry for
	TeX SyncTeX mode.  Use Source Correlate moniker instead of Source
	Specials.

2008-07-07  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Folding): Fix last change.

2008-07-06  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Folding): Document folding of math constructs
	and the possibilities of providing expanders and alternatives in
	replacement specifiers.

	* tex.el (TeX-command-list): Add expanders for SyncTeX.
	(TeX-expand-list): Start server if necessary when viewing.
	Define expander for SyncTeX.
	(hack-one-local-variable): Cater for TeX SyncTeX mode.
	(TeX-set-mode-name): Add lighter for TeX SyncTeX mode.
	(TeX-view): New customization group.
	(TeX-view-start-server): Rename from
	`TeX-source-specials-view-start-server'.
	(TeX-source-specials-view-start-server): Rename to
	`TeX-view-start-server' and define alias.
	(TeX-view-start-server-asked): Rename from
	`TeX-source-specials-view-start-server-asked'.
	(TeX-source-specials-view-start-server-asked): Rename to
	`TeX-view-start-server-asked'.
	(TeX-view-start-server-flag): New variable.
	(TeX-view-gnuserv-p): Rename from
	`TeX-source-specials-view-gnuserv-p'.
	(TeX-source-specials-view-gnuserv-p): Rename to
	`TeX-view-gnuserv-p'.
	(TeX-view-server-enabled-p): New function.
	(TeX-view-start-server-maybe): New function.
	(TeX-source-specials-mode): Set `TeX-view-start-server-flag'.
	(TeX-source-specials-view-expand-client): Adapt call to new
	function name.
	(TeX-source-specials-view-expand-options): Do not try to start the
	server here anymore.
	(TeX-synctex-mode): New minor mode.
	(TeX-synctex-output-page): New function.
	(TeX-mode-map): Add key for toggling TeX SyncTeX mode.
	(TeX-mode-specific-command-menu-entries): Add menu entry for TeX
	SyncTeX mode.
	(TeX-math-input-method-off-regexp): New variable.
	(TeX-toggle-off-input-method): Remove.
	(TeX-math-input-method-off): Do without
	`TeX-toggle-off-input-method'.

2008-07-04  Berend de Boer  <berend@pobox.com>

	* context.el, context-en.el: added a few more entries to the menu
	to select ConTeXt macro's from.

2008-06-29  Ralf Angeli  <angeli@caeruleus.net>

	* style/bulgarian.el ("bulgarian"): Use value of
	`TeX-quote-after-quote' for default quote insertion behavior.

2008-06-28  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-find-matching-close): Simplify.
	There is no need for a general mechanism if the supported chars are
	limited at another place.

	* tex.el (TeX-search-syntax-table): Support (...) and <...>.

	* tex-fold.el (TeX-fold-macro-spec-list): New spec for \item.
	Adapt doc string to reflect new functionality.
	(TeX-fold-macro-nth-arg): New `delims' parameter which can be used
	to find other macro args than those enclosed by braces.
	(TeX-fold-expand-spec): New function.
	(TeX-fold-hide-item): Use it.

	* doc/auctex.texi (European): Document `bulgarian' language
	option.

	* Makefile.in (STYLESRC): Add style/bulgarian.el.

	* style/bulgarian.el: New file.

2008-06-21  Ralf Angeli  <angeli@caeruleus.net>

	* style/hyperref.el: New file.

	* Makefile.in (STYLESRC): Add style/hyperref.el.

2008-06-07  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-make-built-in-keywords):
	Distinguish command-type keyword classes from others when creating the
	respective variables.

	* doc/auctex.texi (Font Locking): Structure with nodes.
	(Fontification of macros): Describe format specifiers for macros
	with arguments.

2008-05-30  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-macro-spec-list): Add some documentation.
	(TeX-fold-hide-item): Support replacement of argument specifiers
	like "{1}" by the respective argument value in the display string.

2008-05-30  Joost Kremers  <joostkremers@fastmail.fm>  (tiny change)

	* tex-fold.el (TeX-fold-macro-spec-list): Add function choice.
	(TeX-fold-hide-item): If specifier is a function, call it with all
	mandatory arguments of macro.

2008-05-25  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (docTeX-mode): Add regexp group to value of
	`TeX-comment-start-regexp'.

	* style/doc.el (LaTeX-doc-after-insert-macrocode): New function.
	("doc"): Add it to `LaTeX-after-insert-env-hooks'.

	* latex.el: Get rid of some compiler warnings.
	(LaTeX-after-insert-env-hooks): New variable.
	(LaTeX-insert-environment): Remove docTeX-specific code.
	Run `LaTeX-after-insert-env-hooks'

	* style/beamer.el (LaTeX-beamer-after-insert-env): New function.
	("beamer"): Add it to `LaTeX-after-insert-env-hooks'.  Get rid of
	some compiler warnings.  Support the semiverbatim environment.

	* style/dinbrief.el: Get rid of some compiler warnings.

	* style/dk-bib.el: Get rid of some compiler warnings.

	* style/emp.el: Get rid of some compiler warnings.

	* style/epsf.el: Get rid of some compiler warnings.

	* style/foils.el: Get rid of some compiler warnings.

	* style/graphicx.el: Get rid of some compiler warnings.

	* style/letter.el: Get rid of some compiler warnings.

	* style/prosper.el: Get rid of some compiler warnings.

	* style/psfig.el: Get rid of some compiler warnings.

	* texmathp.el: Get rid of some compiler warnings.

	* tex.el: Get rid of some compiler warnings.

	* tex-jp.el: Get rid of some compiler warnings.

	* tex-buf.el: Get rid of some compiler warnings.

	* font-latex.el: Get rid of some compiler warnings.

	* context.el: Get rid of some compiler warnings.

	* context-en.el: Get rid of some compiler warnings.

	* context-nl.el: Get rid of some compiler warnings.

2008-05-22  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-command-sentinel): Use `TeX-master-file' instead
	of `TeX-active-master' for `TeX-transient-master'.

2008-05-17  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Font Specifiers): Correct argument list of
	`TeX-font'.

2008-05-13  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Font Specifiers): Document `LaTeX-font-list'.

2008-05-10  Reiner Steib  <reiner.steib@gmx.de>

	* tex-bar.el (TeX-bar-TeX-buttons, TeX-bar-LaTeX-buttons):
	Add standard Emacs buttons to custom set.
	(TeX-bar-TeX-buttons): Use `tex' instead of `latex' in custom set.

2008-05-04  Ralf Angeli  <angeli@caeruleus.net>

	* tex-site.el.in (AUCTeX): Move customization group here from
	tex.el and load the main files defining customization options.

	* tex.el (AUCTeX): Move customization group to tex-site.el.in.
	(TeX-expand-list): Make %(outpage) default to "1".

2008-05-01  Ralf Angeli  <angeli@caeruleus.net>

	* toolbar-x.el (toolbarx-xemacs-refresh): Only activate the tool
	bar if it is already visible.  Remove redundant if clause.

	* tex-buf.el (TeX-format-filter): Do not remove linebreak if the
	following line starts with an opening parenthesis.

2008-04-28  Ralf Angeli  <angeli@caeruleus.net>

	* doc/Makefile.in (install-auctex): Do not use `-' to suppress
	errors within command.

2008-04-28  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-run-command): disable undo in run buffer

2008-03-12  Ralf Angeli  <angeli@caeruleus.net>

	* style/pdfsync.el (LaTeX-pdfsync-output-page): Kill buffer with
	pdfsync file if it was loaded by us.

2008-03-02  Ralf Angeli  <angeli@caeruleus.net>

	* tex-info.el (texinfo-environment-regexp): Terminate.

2008-03-01  Matan Ninio  <emacs@auctexdev.ninio.org>  (tiny change)

	* style/pdfsync.el (LaTeX-pdfsync-output-page): Include
	subdirectories relative to master file in file names.  Searching
	for the file entry in the .pdfsync file allows for an optional
	`.tex' extension in the filename.  Find further p lines if the
	current context does not contain any more.

2008-02-24  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in: Add windows-package target and related variables.

2008-02-23  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-common-menu-entries): Add exception for docTeX mode
	when extending the customization menu.

2008-02-17  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi: Repeat direntry after each category as per
	recommendation of Karl Berry.

	* doc/preview-latex.texi: Repeat direntry after each category as
	per recommendation of Karl Berry.

2008-02-11  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-make-match-defun)
	(font-latex-keyword-matcher): Recognize old-style type specs which
	could be lists.  Prevents "void-function nil" error during font
	locking.

2008-02-10  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (maintainer-clean): Do not depend on distclean.
	How did this ever work?
	(www-doc): Use release files.  Update URLs.  Make gendocs.sh use
	texi2html.

	* doc/Makefile.in (extradist): Re-add tex-ref.pdf dependency.
	(install-auctex): Do not install reference card when producing an
	XEmacs package.

2008-02-10  Ralf Angeli  <angeli@caeruleus.net>

	* Version 11.85 released.

2008-02-10  Ralf Angeli  <angeli@caeruleus.net>

	* RELEASE: Update for upcoming release.

	* auctex.spec (Version): Bump version number.

	* configure.ac: Bump version number.

	* doc/todo.texi: Add copyright notice.
	(Bugs): Remove entry about XEmacs bug since AUCTeX now helps
	XEmacs in doing multi-line font locking.

	* doc/tex-ref.tex: Bump version number.  Updated references to
	toggles for bad boxes and warning.  Mention `Clean' and `Clean
	All' commands.

	* doc/install.texi: Add copyright notice.
	(Prerequisites): Update information about Emacs 22.

	* doc/wininstall.texi: Update information about requirements,
	esp. availability of Emacs 22.

2008-02-09  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-error, TeX-warning): Handle `expert' option of
	`TeX-display-help'.
	(TeX-warning): Find error file in same window.

	* tex.el (TeX-display-help): Add `expert' option.

	* doc/auctex.texi (Commands): Add some explanatory text for TeXing
	options.  Document `TeX-show-compilation'.
	(Debugging): Reflect new option of `TeX-display-help'.

	* doc/changes.texi: Add changes for 11.85.  Add copyright notice.

2008-02-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-bar.el (LaTeX-symbols-toolbar-visible-flag): Improve doc string.

	* toolbar-x.el (toolbarx-image-path): Improve doc string.

2008-02-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-parse-TeX): Do not pop to output buffer.
	(TeX-warning): Since we do not pop to the output buffer, find the
	source file in the original window.

2008-02-05  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-built-in-keyword-classes): Add syntax
	alternatives for some commands.
	(font-latex-setup): Give ?@ word syntax for font locking.
	(font-latex-syntax-error-modes): New variable.
	(font-latex-match-command-with-arguments): Use it.

2008-02-04  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-set-syntactic-keywords): Revert change
	from 2007-04-09 because the unbalanced treatment of \begin and
	\end may lead to color bleeding.

2008-02-03  Ralf Angeli  <angeli@caeruleus.net>

	* Relicense all "GPLv2 or later" files to "GPLv3 or later".

	* COPYING: Switch to GPLv3.

	* doc/Makefile.in, doc/preview-dtxdoc.pl: Add coypright and
	license notices.

	* style/beamer.el, style/scrbook.el: Add license notices.

2008-02-03  Ikumi Keita	 <ikumi@ikumi.que.jp>

	* tex-info.el (Texinfo-insert-node): Correct name of let-bound
	variable.

2008-02-03  Ralf Angeli  <angeli@caeruleus.net>

	* tex-info.el: Make sure the Texinfo mode of AUCTeX is still used
	after loading texinfo.el.

2008-02-02  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in, auctex.spec, autogen.sh, configure.ac: Add
	copyright and license notices.

	* texmathp.el, style/amsmath.el, style/amsthm.el,
	style/fancyref.el, style/index.el, style/makeidx.el,
	style/multind.el, style/varioref.el: Reflect copyright assignment
	of Carsten Dominik to FSF in coypright notices and adapt licence
	notice accordingly.

2007-12-28  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-command-expand): Do not evaluate `file' as a
	function.

2007-12-25  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-move-to-break-point): Ignore whitespace
	when checking if verbatim macro starts at beginning of line.

2007-12-08  David Kastrup  <dak@gnu.org>

	* texmathp.el (defgroup, defcustom): Remove compatibility cruft.

2007-11-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/install.texi (Prerequisites): Add openSUSE.

2007-11-20  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Prerequisites): Update to reflect current
	realities.

2007-11-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-buf.el (TeX-record-buffer): New variable, only in Emacs.
	(TeX-pop-to-buffer): New function.
	(TeX-recenter-output-buffer, TeX-background-filter)
	(TeX-parse-TeX, TeX-parse-error, TeX-help-error):
	Use `TeX-pop-to-buffer'.

2007-10-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* toolbar-x.el (toolbarx-find-image): Rename argument.
	Improve doc string.

2007-10-11  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (TeX-arg-verb): Honor active region.

2007-10-10  Ralf Angeli  <angeli@caeruleus.net>

	* style/MinionPro.el ("MinionPro"): Run style hook for amsmath
	which is loaded via MnSymbol.

2007-10-09  Ralf Angeli  <angeli@caeruleus.net>

	* style/nomencl.el: New file.

	* Makefile.in (STYLESRC): Add style/nomencl.el.

2007-10-03  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-user-keyword-classes): Doc fix.

2007-08-26  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-command-with-args-default-spec):
	Default to nil.

2007-08-24  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-command-with-arguments):
	Show error indicator only in LaTeX mode.

2007-08-23  Ralf Angeli  <angeli@caeruleus.net>

	* style/nicefrac.el ("nicefrac"): Fix last change.

2007-08-22  Ralf Angeli  <angeli@caeruleus.net>

	* style/jurabib.el ("jurabib"): Use `font-latex-add-keywords'.
	Add syntax information.

2007-08-21  Ralf Angeli  <angeli@caeruleus.net>

	* style/scrreprt.el: Add licence text.
	("scrreprt"): Use `font-latex-add-keywords'.  Add syntax
	information.

	* style/scrpage2.el: Add licence text.
	("scrpage2"): Use `font-latex-add-keywords'.  Add syntax
	information.

	* style/scrlttr2.el: Add licence text.
	("scrlttr2"): Use `font-latex-add-keywords'.  Add syntax
	information.

	* style/scrbook.el ("scrbook"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/scrbase.el ("scrbase"): Use `font-latex-add-keywords'.
	Add syntax information.

2007-08-20  Ralf Angeli  <angeli@caeruleus.net>

	* style/url.el ("url"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/subfigure.el ("subfigure"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/csquotes.el ("csquotes"): Update for version 3.7.
	Use `font-latex-add-keywords'.  Add syntax information.

	* style/MinionPro.el ("MinionPro"): Use `font-latex-add-keywords'.
	Add syntax information.

	* font-latex.el (font-latex-built-in-keyword-classes):
	Correct syntax spec for \subsubparagraph.

2007-08-19  Ralf Angeli  <angeli@caeruleus.net>

	* style/units.el ("units"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/nicefrac.el ("nicefrac"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/listings.el ("listings"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/flashcards.el ("flashcards"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/comment.el ("comment"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/booktabs.el ("booktabs"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/babel.el ("babel"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/paralist.el ("paralist"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/natbib.el ("natbib"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/mdwlist.el ("mdwlist"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/graphicx.el ("graphicx"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/fancyref.el ("fancyref"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/captcont.el ("captcont"): Use `font-latex-add-keywords'.
	Add syntax information.

	* style/beamer.el ("beamer"): Use `font-latex-add-keywords'.

	* font-latex.el (font-latex-add-keywords): New function.
	(font-latex-command-with-args-opt-arg-delims): Add parentheses.

2007-08-14  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-insert-backslash): put delete-selection property on.

2007-08-13  David Kastrup  <dak@gnu.org>

	* Makefile.in (all): make new target "docs" as well.  Descend for
	docs, info and dvi.
	Before regenerating extradist documentation, copy version info
	from checked-out version (can we do that saner?).
	On various targets, replace set -x with a somewhat more elaborate
	version that echoes more for make -n.

2007-08-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Delete buffers used for checking
	availability of info files.

2007-08-08  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-TeX-sentinel-check): Shave off quotation marks
	from file name if present.

2007-08-04  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-run-style-hooks): Set `default-directory' to the
	directory of the master file.

2007-07-11  Ralf Angeli  <angeli@caeruleus.net>

	* style/pstricks.el ("pstricks"): Do not disable TeX PDF mode if
	pst-pdf is used.

2007-07-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-format-filter): Remove line breaks at column 79.

2007-07-09  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-comment-forward): Call `comment-normalize-vars' if
	available.

2007-07-01  Ralf Angeli  <angeli@caeruleus.net>

	* style/verbatim.el: Add copyright notice and licence info.

	* style/paralist.el: Add copyright notice and licence info.

	* style/booktabs.el: Add copyright notice and licence info.

	* style/scrbase.el: Change copyright notice of Mark Trettin to FSF
	to reflect the assignment.  Add licence info to header.

	* style/subfigure.el: Change copyright notice of Reiner Steib to
	FSF to reflect the assignment.  Add licence info to header.

	* style/captcont.el: Change copyright notice of Reiner Steib to
	FSF to reflect the assignment.  Add licence info to header.

	* latex.el (LaTeX-auto-minimal-regexp-list): Match optional
	arguments of document style or class macro even if they contain
	periods, e.g. in case of "BCOR8.25mm" in KOMA Script classes.
	Get rid of superfluous escapes in complemented character alternatives.

	* tex.el (TeX-insert-dollar): Show matching start only if
	`blink-matching-paren' is non-nil.

2007-06-20  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-common-initialization): Turn TeX PDF mode on
	when pst-pdf.sty is used.

2007-06-10  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-common-initialization): Do not add pstricks to
	style hooks.

	* style/pstricks.el: New file.

	* Makefile.in (STYLESRC): Add style/pstricks.el.

2007-05-25  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-command-with-arguments):
	Check if `match-beg' is set.

2007-05-20  Ralf Angeli  <angeli@caeruleus.net>

	* style/beamer.el ("beamer"): Use new syntax in format specifier
	for frametitle macro.

	* font-latex.el (font-latex-built-in-keyword-classes): Use new
	syntax for format specifiers.
	(font-latex-user-keyword-classes): Describe new syntax for format
	specifiers.
	(font-latex-command-with-args-default-spec): Use new syntax for
	format specifiers.
	(font-latex-command-with-args-opt-arg-delims): New variable.
	(font-latex-match-command-with-arguments): Use it.  Change format
	specifier parsing to support new syntax.
	(font-latex-match-mandatory-arg): Remove.

2007-05-05  Ralf Angeli  <angeli@caeruleus.net>

	* doc/faq.texi: Add entry about programs not being found by
	./configure when PATH is not set correctly.

2007-04-29  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-parse-error): Match any closing parenthesis.

2007-04-28  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-fontify-region): Force redisplay
	instead of setting `jit-lock-context-unfontify-pos'.
	(font-latex-command-with-args-default-spec): New variable.
	(font-latex-match-command-with-arguments): Use it.
	(font-latex-built-in-keyword-classes): Correct some syntax
	specifiers.
	(font-latex-jit-lock-force-redisplay): New function.
	(font-latex-fontify-region): Use it.
	(font-latex-doctex-preprocessor-face): Make DocStrip guards stand
	out on Emacs 21.

2007-04-23  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-environment-menu): Support optional arguments
	specified by vectors.

	* style/flashcards.el: New file.

	* Makefile.in (STYLESRC): Add style/flashcards.el.

	* doc/auctex.texi (Adding Environments): Document possibility to
	specify optional arguments in `LaTeX-add-environments'.

2007-04-22  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/changes.texi: Add index entries for auctex.el and
	tex-site.el.  Add references to INSTALL or manual.

	* doc/install.texi (Loading the package): Add index entries for
	auctex.el and tex-site.el.

	* doc/wininstall.texi: Add index entries for tex-mik.el and
	tex-fptex.el.  Clarify loading.

2007-04-22  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-fontify-region): Force context-related
	unfontification only if the region has to be extended.
	(font-latex-find-matching-close): Do not look up syntax-table
	properties.
	(font-latex-extend-region-backwards-command-with-args)
	(font-latex-extend-region-backwards-command-in-braces)
	(font-latex-extend-region-backwards-math-env)
	(font-latex-extend-region-backwards-math-envII)
	(font-latex-extend-region-backwards-quotation): Doc fix.
	Return nil if no content requiring region extension was found.

2007-04-16  Ikumi Keita	<ikumi@ikumi.que.jp>

	* latex.el (LaTeX-math-default): Add various Greek uppercase
	macros provided by amsmath.sty.

2007-04-15  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-math-envII): Regexp-quote the
	string used to look for the environment end in order for starred
	environments to be found.

2007-04-13  Mark Trettin  <Mark.Trettin@gmx.de>

	* style/scrbase.el ("scrbase"): Fix typo in prompt.
	(TeX-arg-KOMA-fontelements): Add \dictum, \pagination,
	\disposition, and \minisec macros.

2007-04-13  Ralf Angeli  <angeli@caeruleus.net>

	* style/beamer.el ("beamer"): Specify syntax of \frametitle macro
	for font locking.

2007-04-12  Ralf Angeli  <angeli@caeruleus.net>

	* style/amsmath.el ("amsmath"): Call `reftex-add-to-label-alist'
	only if function is bound.

2007-04-09  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Add --view parameter to texdoc
	call since texdoc in MiKTeX fires up a web page not useful for our
	purposes otherwise.

	* tex-mik.el: Set `TeX-kpathsea-path-delimiter' to nil since
	kpsewhich in MiKTeX (aka findtexmf) does not emit any useful
	information if fed with kpathsea-related variables anyway.
	This change makes `TeX-doc' work again on MiKTeX.

	* font-latex.el (font-latex-set-syntactic-keywords): Match the
	\begin macro of verbatim environments in case it is preceded by
	other content than whitespace.

2007-04-04  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-backward-paragraph): Fix grouping in order to
	return the right value when no paragraph command is found.

2007-04-01  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-help-error): Correct regexp for matching line
	indicator.

2007-03-31  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-verbatim-environments): Fix typo.
	(LaTeX-backward-paragraph): Special-case verbatim environments in
	order to prevent leading brackets or braces from being interpreted
	as part of the \begin macro.  Clean up a bit.

2007-03-24  David Kastrup  <dak@gnu.org>

	* context.el (ConTeXt-find-indent): Use `condition-case' rather
	than `ignore-errors', and don't barf if at the end of file (like
	with an empty file).

2007-03-23  David Kastrup  <dak@gnu.org>

	* context.el (TeX-ConTeXt-sentinel): Fix end-of-run detection.

2007-03-19  Ralf Angeli  <angeli@caeruleus.net>

	* style/comment.el: New file.

	* Makefile.in (STYLESRC): Add style/comment.el.

	* font-latex.el (font-latex-syntactic-keywords-extra):
	New variable.
	(font-latex-set-syntactic-keywords): Use it.

	* tex-style.el (LaTeX-comment-env-list): New variable.

2007-03-18  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Commands): Remove dependency on software du
	jour from description of `TeX-DVI-via-PDFTeX'.

2007-03-12  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-quotes): Add nil option.
	(font-latex-match-quotation)
	(font-latex-extend-region-backwards-quotation): Do nothing if
	`font-latex-quotes' is nil.

	* doc/auctex.texi (Font Locking): Document nil option of
	`font-latex-quotes'.

2007-03-11  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fold-math-spec-list): `decode-char' is not
	autoloaded in XEmacs.  Only use it when it is defined.

	* doc/auctex.texi (European): Document `icelandic' language
	option.

	* Makefile.in (STYLESRC): Add style/icelandic.el.

	* style/icelandic.el: New file.

2007-03-11  David Kastrup  <dak@gnu.org>

	* RELEASE (Footnotes): Update Emacs CVS locations.

2007-03-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-auto): Default to nil.

2007-03-09  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-clean): Catch error on Emacs 21 when only one file
	is to be deleted.

2007-03-06  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-search-syntax-table): Set syntax of ?\( and ?\)
	explicitely to whitespace for Emacs 21.
	(TeX-search-syntax-table): Clean the syntax table more thoroughly.

2007-03-04  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-find-macro-boundaries): Make it possible to restrict
	the search with new argument `lower-bound'.
	(TeX-find-macro-start): Make it possible to restrict the search
	with new argument `limit'.

	* font-latex.el: Merge from multiline-font-lock branch.
	(font-latex-do-multi-line, font-latex-use-cache): Remove.
	(font-latex-multiline-boundary): New variable.
	(font-latex-built-in-keyword-classes): Add information about
	syntax of macros.  Quote face names.
	(font-latex-deactivated-keyword-classes): Adapt type to new form
	of `font-latex-built-in-keyword-classes'.
	(font-latex-make-match-defun): Accept `face' argument.
	(font-latex-keyword-matcher): Support up to 8 slots for faces.
	(font-latex-make-built-in-keywords): Support new form of keywords
	classes.
	(font-latex-user-keyword-classes): Provide possibility to specify
	macro syntax.
	(font-latex-make-user-keywords): Add warning face in relevant
	matchers.
	(font-latex-extend-region-functions): New variable.
	(font-latex-setup): Use it.  Clean up.
	(font-latex-fontify-region): New function.
	(font-latex-unfontify-region): Cater for XEmacs.
	(font-lock-after-change-function): Advise function for challenged
	editors.
	(font-latex-find-matching-close): Use `TeX-search-syntax-table'.
	(font-latex-not-on-same-line-as): New function.
	(font-latex-set-cache, font-latex-get-cache)
	(font-latex-check-cache): Remove.
	(font-latex-put-multiline-property-maybe): New function.
	(font-latex-match-command-cache): Remove.
	(font-latex-matched-faces): New variable.
	(font-latex-matched-face): New function.
	(font-latex-match-command-with-arguments): Use them.  Set warning
	face when syntax not correct.
	(font-latex-match-in-braces-cache): Remove.
	(font-latex-match-mandatory-arg): New function.
	(font-latex-extend-region-backwards-command-with-args):
	New function.
	(font-latex-match-command-in-braces): Set multiline property if
	necessary.
	(font-latex-extend-region-backwards-command-in-braces):
	New function.
	(font-latex-match-math-env): Set multiline property if necessary.
	(font-latex-extend-region-backwards-math-env): New function.
	(font-latex-math-environments): New variable.
	(font-latex-match-math-envII): Use it.  Set multiline property if
	necessary.
	(font-latex-extend-region-backwards-math-envII): New function.
	(font-latex-update-quote-list): New function.
	(font-latex-match-quotation): Use it.  Set multiline property if
	necessary.
	(font-latex-extend-region-backwards-quotation): New function.

2007-02-25  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-read-string): Add new function that will inherit the
	input method if feasible.  TODO: replace calls of `read-string'
	with this wherever it may be appropriate.

2007-02-20  Ikumi Keita	<ikumi@ikumi.que.jp>

	* tex-buf.el (TeX-region-file): Doc fix.

2007-02-15  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex.el (TeX-after-insert-macro-hook): New hook.
	(TeX-insert-macro): Use it.

	* tex-fold.el (TeX-fold-auto): New variable.
	(TeX-fold-mode): Append auto fold stuff to the end of
	`TeX-after-insert-macro-hook'.

2007-02-13  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-clean): Fix last change.

2007-02-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fold.el (TeX-fold-macro-spec-list-internal)
	(TeX-fold-env-spec-list-internal)
	(TeX-fold-math-spec-list-internal): New variables.
	(TeX-fold-region-macro-or-env, TeX-fold-item): Use them.
	(TeX-fold-comment-do): Doc fix.
	(TeX-fold-mode): Set TeX-fold-*-spec-list-internal variables.
	Use <mode-prefix>-fold-*-spec-list variables if bound.

	* latex.el (LaTeX-fold-macro-spec-list)
	(LaTeX-fold-env-spec-list, LaTeX-fold-math-spec-list):
	New variables.

	* tex.el (TeX-mode-prefix): New function.
	(TeX-clean): Use it.

2007-02-10  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-jp.el (TeX-japanese-process-input-coding-system)
	(TeX-japanese-process-output-coding-system): Use system-type
	instead of window-system.  Suggested by Ikumi Keita
	<ikumi@ikumi.que.jp>.

2007-02-09  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-jp.el (TeX-japanese-process-input-coding-system)
	(TeX-japanese-process-output-coding-system): Do not use
	default-coding-system to set process-coding-system, anymore.
	The value is set to shift_jis or euc-jp depending on window-system.

	* tex-bar.el: Fix typo.  Reported by Ikumi Keita
	<ikumi@ikumi.que.jp>.

2007-02-09  Ikumi Keita	<ikumi@ikumi.que.jp>

	* tex-jp.el (japanese-TeX-command-list):
	Add `TeX-run-discard-foreground' and `TeX-run-function' for
	function-item.
	(japanese-TeX-set-process-coding-system): New function.
	(TeX-after-start-process-function): Use it.  Cater for the
	accidental case that no-Japanese loads tex-jp.el and his
	coding-system is set to unexpected one.

2007-02-05  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-submit-bug-report): Remove unnecessary code.
	Include a plea for upgrading into introductory blurb.

2007-02-01  Ikumi Keita	<ikumi@ikumi.que.jp>

	* latex.el: Move (provide 'latex) to the end of buffer.
	(TeX-global-input-files, BibTeX-global-style-files)
	(BibTeX-global-files): checkdoc cleaning.
	(LaTeX-fill-paragraph, LaTeX-fill-code-comment): Use function
	TeX-match-buffer instead of buffer-substring-*.
	(LaTeX-209-to-2e): Likewise.

	* tex-buf.el (TeX-command-region, TeX-command-buffer)
	(TeX-next-error, TeX-check-files, TeX-command-next)
	(TeX-output-extension, TeX-run-set-command, TeX-run-interactive)
	(TeX-sentinel-default-function, TeX-region-create, TeX-region)
	(TeX-error-file, TeX-error-offset, TeX-parse-TeX)
	(TeX-error-description-list): checkdoc cleaning.
	(TeX-run-command, TeX-TeX-sentinel-check, TeX-BibTeX-sentinel):
	Use substitute-command-keys to message key binding.
	(TeX-current-pages): Add doc string.

	* tex.el (TeX-print-command, TeX-queue-command)
	(TeX-command-list, TeX-printer-list, TeX-set-mode-name)
	(TeX-regexp-group-count): checkdoc cleaning.
	(plain-TeX-mode-hook): Declare user option explicitly using
	defcustom.
	(TeX-search-files-kpathsea): Use TeX-kpathsea-path-delimiter
	instead of kpathsea-path-delimiter.

2007-01-23  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Quotes):
	Document `TeX-math-close-double-dollar'.  Add subheadings.

2007-01-22  Ralf Angeli  <angeli@caeruleus.net>

	* autogen.sh: Define PDFTEX if empty and pass it to `make dist' in
	`doc' directory for documentation generation.

	* doc/Makefile.in (docdir, PACKAGE_TARNAME): New variables.
	(dist): Add tex-ref.pdf target.
	(extradist): Remove tex-ref.pdf target.
	(install-auctex): Add tex-ref.pdf target.  Install tex-ref.pdf
	into $(docdir).

2007-01-21  Ralf Angeli  <angeli@caeruleus.net>

	* tex-fptex.el: Make calls of start.exe work with quoted file
	names.

	* tex-mik.el: Make calls of start.exe work with quoted file names.

2007-01-21  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-fold.el (TeX-fold-type-list): New new type 'math.
	(TeX-fold-math-spec-list): New variable.
	(TeX-fold-dwim, TeX-fold-region, TeX-fold-region-macro-or-env)
	(TeX-fold-item): Try to fold math macros as well.
	(TeX-fold-buffer, TeX-fold-paragraph, TeX-fold-make-overlay)
	(TeX-fold-item-end): Mention new type 'math.
	(TeX-fold-math): New function.

2007-01-20  David Kastrup  <dak@gnu.org>

	* auctex.spec: Remove unused `%{extraconfig}' argument.

2007-01-20  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-fold.el (TeX-fold-macro-spec-list): Fold marginpar, eqref,
	glossary, copyright, textregistered and texttrademark macros as
	well.

2007-01-18  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-jp.el: Update maintainer email address.

	* style/verbatim.el: Update author email address.

2007-01-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-clean-default-intermediate-suffixes): Add beamer
	suffixes.

2007-01-16  Masayuki Ataka  <masayuki.ataka@gmail.com>

	* tex-jp.el (japanese-TeX-command-list): Use "%`" and "%'" magic
	to allow file names with spaces.  See also change log for
	TeX-command-list in tex.el on 2006-10-10.
	Reported by Ikumi Keita	<ikumi@ikumi.que.jp>.

2007-01-14  Ralf Angeli  <angeli@caeruleus.net>

	* doc/wininstall.texi: Add copyright notice and licence reference.
	Mention --infodir.  Some clean-ups.

2007-01-13  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (www-doc): Generate AUCTeX and preview-latex manuals
	in single directory.  Patch gendocs.sh to use texi2html instead of
	makeinfo (patch not included).

2007-01-12  Ralf Angeli  <angeli@caeruleus.net>

	* Version 11.84 released.

2007-01-12  Ralf Angeli  <angeli@caeruleus.net>

	* RELEASE: Update for release.

	* doc/changes.texi: Update for release.

	* auctex.spec (Version): Bump version number.

	* configure.ac: Bump version number.

	* doc/tex-ref.tex: Bump version number.

2007-01-11  Ralf Angeli  <angeli@caeruleus.net>

	* Makefile.in (STYLESRC): Add style/polski.el.

	* RELEASE: Mention support for `polski' LaTeX package.

	* style/polski.el: New file.

	* doc/auctex.texi (European): Mention `polski' language option.

2007-01-08  Ralf Angeli  <angeli@caeruleus.net>

	* RELEASE: Document some new features.

	* style/polish.el: New file.

	* Makefile.in (STYLESRC): Add style/polish.el.

	* doc/auctex.texi (European): Remove references to `plfonts' and
	`plhb' styles for typesetting Polish text because they seem to be
	out of use.  Refer to the `polish' option for the babel LaTeX
	package instead.

	* tex.el (TeX-quote-language-alist): Replace references to
	`plfonts' and `plhb' by `polish'.

2007-01-07  Ralf Angeli  <angeli@caeruleus.net>

	* doc/wininstall.texi: Refer to up-to-date versions of CVS Emacs.

	* doc/install.texi (Prerequisites): Refer to up-to-date versions
	of CVS Emacs.

2007-01-05  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (European): Improve TeX-quote-language-alist.

	* tex.el (TeX-command-default): Mark as safe-local-variable.
	(TeX-quote-language-alist): Improve custom type.  Add links to the
	manual.  Improve doc string.

2006-12-30  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Folding): Document user-visible changes in the
	folding functionality.

2006-12-29  Ralf Angeli  <angeli@caeruleus.net>

	* tex-info.el (TeX-texinfo-mode): Set `comment-use-syntax'.

	* tex-fold.el: Update author email address.
	(TeX-fold-type-list): New variable.
	(TeX-fold-keymap): Add key binding for `TeX-fold-comment'.
	(TeX-fold-dwim): Try to fold comment as well.
	(TeX-fold-region): Move implementation of region folding for
	macros and environments out into the new function
	`TeX-fold-region-macro-or-env' and cater for comments as well.
	(TeX-fold-region-macro-or-env, TeX-fold-region-comment)
	(TeX-fold-comment, TeX-fold-comment-do): New functions.

	* latex.el (LaTeX-common-initialization):
	Set `TeX-search-forward-comment-start-function'.
	(LaTeX-fill-region-as-para-do, LaTeX-fill-paragraph)
	(LaTeX-fill-code-comment): Call `TeX-search-forward-comment-start'
	instead of `LaTeX-search-forward-comment-start'.

	* tex.el (VirTeX-common-initialization): Set `comment-end-skip'
	and `comment-use-syntax'.
	(TeX-fold-menu): Add entry for folding comments.
	(TeX-comment-forward): New compatibility function.
	(TeX-comment-or-uncomment-region): Use it.
	(TeX-search-forward-comment-start-function): New variable.
	(TeX-search-forward-comment-start): New function.

2006-12-10  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-section-hook): Place into `LaTeX-macro' group.
	(LaTeX-verbatim-macros-with-delims)
	(LaTeX-verbatim-macros-with-braces): Same here.
	(LaTeX-verbatim-environments): Place into `LaTeX-environment'
	group.

2006-12-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex-bar.el (TeX-install-toolbar, LaTeX-install-toolbar):
	Add `toolbarx-refresh' to `TeX-PDF-mode-hook' in the current buffer
	only.

2006-12-06  Ralf Angeli  <angeli@caeruleus.net>

	* context-nl.el (ConTeXt-nl-mode-initialization): Use correct
	syntax for prompting for an optional argument in case of \items
	macro.

	* context-en.el (ConTeXt-en-mode-initialization): Use correct
	syntax for prompting for an optional argument in case of \items
	macro.

	* context.el (ConTeXt-arg-setup): Capitalize prompt.

2006-12-04  Miguel Frasson  <mvsfrasson@gmail.com>

	* toolbar-x.el (toolbarx-emacs-add-button):
	Insert buttons in KEYMAP (new arg).
	Unnecessary &optional removed.
	Removed broken code for fake-button `:new-line'.
	(toolbarx-emacs-refresh-process-button-or-insert-list):
	New arg KEYMAP inserted.
	Unnecessary &optional removed.
	(toolbarx-emacs-refresh):
	Fix bug with `tool-bar-map' let-bound and made local variable.
	(toolbarx-xemacs-refresh-process-button-or-insert-list):
	Docstring improved..
	(toolbarx-xemacs-refresh):
	Using `nreverse' directly inside `let'.
	`nreverse' is applied to lists generated from actual
	data-structures, leaving such data-structures alone.

2006-11-26  Ralf Angeli  <angeli@caeruleus.net>

	* context.el (ConTeXt-texexec-option-nonstop): New variable.
	(ConTeXt-expand-options): Use it.

2006-11-24  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (plain-TeX-enable-toolbar): Rename from
	`TeX-enable-toolbar'.
	(plain-TeX-maybe-install-toolbar): Rename from
	`TeX-maybe-install-toolbar'.
	(TeX-plain-tex-mode): Use new names.

	* doc/auctex.texi (Running TeX and friends): Explicitely mention
	`plain-TeX-enable-toolbar' and `LaTeX-enable-toolbar'.

2006-11-16  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-region-as-para-do): Do not break before
	code comments if at a commented beginning of a line.

2006-10-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/preview-latex.texi: Fix @node commands.

2006-10-20  David Kastrup  <dak@gnu.org>

	* doc/auctex.texi (top): Mention reference card.

	* doc/Makefile.in (PREVIEWTEXIFILES): Add `version.texi'.

	* doc/auctex.texi: Add formatting emergencystretch.  Move macros
	input.
	(top): Rearrange somewhat.  Avoid duplicate contents (?).

	* doc/preview-latex.texi: Restructure and relicense taking
	auctex.texi as an example.

	* doc/auctex.texi (top): In the user-visible part of the info
	file, move the copying info completely to the "Copying this
	manual" section in order to reduce clutter.

2006-10-19  David Kastrup  <dak@gnu.org>

	* RELEASE: Mention previous XEmacs package problems.

2006-10-16  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-parse-error, TeX-error, TeX-warning):
	Replace the error parser basically by what we have in preview-latex.
	However, this does not yet do the fine-grained hackery around
	possible TeX quote characters that preview-latex employs in order
	to get the correct character position in a line even under adverse
	conditions.

2006-10-11  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-error-description-list): Add preview-latex error
	pattern here.

	* tex.el (TeX-expand-list): Add "%m" pattern from preview.
	(TeX-add-local-master): Make a local variable wrapper more
	suitable for docstrip.

2006-10-10  David Kastrup  <dak@gnu.org>

	* RELEASE: Mention space in file names, PostScript stack
	tolerance.

	* tex-buf.el (TeX-command-expand): Make `file' self-quoting in
	expansion, and trick around with `TeX-command-pos' and other junk
	in order to make the quoting stuff of "%`" and "%'" work.
	(TeX-view-output-file): Became pretty pointless.  Remove.

	* tex.el (TeX-command-list): Use "%`" and "%'" magic to allow file
	names with spaces.
	(TeX-output-view-style): Don't quote "%s", that's the job of
	`TeX-command-expand'.
	(TeX-expand-list): Use the `-interaction' option.  Define "%`",
	" \"\\", "\"" and "%'" patterns.  Somebody should probably rather
	turn this into external functions in `tex-buf.el': the stuff
	really has no business here and does not get byte-compiled.
	Use `file' for "%o".

2006-10-07  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-region-as-paragraph): Match "foo\ %" as
	well.

2006-10-04  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-find-macro-boundaries): Prevent `up-list' and
	friends from finding parens in comments if point is not in a
	comment and vice versa.

2006-10-02  David Kastrup  <dak@gnu.org>

	* doc/auctex.texi: Change the licensing terms to require no front
	and back cover texts, and explicitly exclude the GFDL from being
	licensed under the GFDL.
	(top): Give a synopsis for the license section in the top menu.
	Remove redundant version mentions, remove the explicit exclusion
	of the GFDL from GFDL licensing: RMS says it is unnecessary.

2006-09-29  David Kastrup  <dak@gnu.org>

	* autogen.sh: Use `=' instead of `==' in tests.

	* doc/Makefile.in (version.texi): Let version.texi depend rather
	on ChangeLog in order not to disturb pregenerated documentation.

	* autogen.sh: Prepare `AUCTEXDATE' and `AUCTEXVERSION' for `make
	dist'.

	* Makefile.in (tar-ball): Pass version and date into autogen.sh

	* doc/Makefile.in (AUCTEXDATE, AUCTEXVERSION): get from configure.
	(AUCTEXTEXIFILES): Add fdl.texi and version.texi
	(version.texi): create depending on Makefile.
	(maintainer-clean): Remove version.texi.  Should this be in the
	distclean target instead?

	* doc/fdl.texi: Add it.

	* Makefile.in (DOCFILES): Remove, unused.
	(doc/Makefile): Add target.
	(info, dvi, install-man, install-docs, clean, distclean)
	(tar-ball): depend on doc/Makefile

	* doc/.cvsignore: Add version.texi, remove unused auto.texi.

	* doc/auctex.texi: Rearrange header material, put under GFDL, add
	license, take version numbers from version.texi.

2006-09-21  David Kastrup  <dak@gnu.org>

	* RELEASE: Adapt to upcoming release.

	* doc/install.texi (Configure): Remove reference to
	`--with-kpathseasep' option.

	* tex-mik.el (TeX-kpathsea-path-delimiter): initialize to ";".

	* tex-fptex.el (TeX-kpathsea-path-delimiter): initialize to ";".

2006-09-20  David Kastrup  <dak@gnu.org>

	* tex-buf.el: Let `TeX-active-buffer' return nil if there is no
	command buffer.  Change copyright notice from Kresten Krab Thorup
	to reflect assignment to FSF.

	* latex.el: Change copyright notice.

	* tex.el: Change copyright notice.

	* doc/tex-ref.tex: Change copyright notice.

	* doc/auctex.texi: Change copyright notice.

2006-09-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/faq.texi: Fix syntax error.

2006-09-16  Ralf Angeli  <angeli@caeruleus.net>

	* doc/faq.texi: Explain the abbreviation AUC.

2006-09-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* toolbar-x.el (toolbarx-emacs-refresh): Don't modify global value
	of `tool-bar-map'.

2006-09-11  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-math-default): Remove X2ABB for \Pr.
	Suggested by Adam Johnson <thu_zh@hotmail.com>.

2006-09-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el: Use read-kbd-macro instead of kbd for LaTeX-math-mode.
	(LaTeX-math-default): Add bindings for \var... symbols.
	(LaTeX-math-default): Change binding for \vartheta.

2006-09-08  David Kastrup  <dak@gnu.org>

	* latex.el: Allow strings for keys in LaTeX-math-mode.
	(LaTeX-math-list): Allow string for key.

2006-09-06  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (Mathematics): Align description of
	`LaTeX-math-list' with reality.

2006-08-25  David Kastrup  <dak@gnu.org>

	* doc/preview-faq.texi (Requirements, Installation Trouble)
	(Customization): Update and remove stuff, mostly because
	preview-latex is integrated with AUCTeX now.

2006-08-30  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (TeX-latex-mode): Check if `tool-bar-mode' is bound.

	* tex.el (TeX-plain-tex-mode): Check if `tool-bar-mode' is bound.

2006-08-26  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (European): Make replacement of
	language-specific hyphen strings more obvious.

2006-08-25  Ralf Angeli  <angeli@caeruleus.net>

	* style/csquotes.el: Bring up to par with version 3.5.

2006-08-17  David Kastrup  <dak@gnu.org>

	* doc/auctex.texi (Viewing): Type fix.

2006-08-05  Berend de Boer  <berend@pobox.com>

	* context-en.el: quite a few more English ConTeXt macros made
	available in menu.

	* context-nl.el: few more Dutch ConTeXt macros made available in menu.

	* context.el: more ConTeXt macros made available in menu.

2006-08-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-bar.el (TeX-bar-TeX-button-alist, TeX-bar-LaTeX-button-alist):
	Make `file' invisible in TeX-PDF-mode.  Add clean.
	(TeX-bar-TeX-buttons, TeX-bar-LaTeX-buttons): Improve custom type.

2006-07-27  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-bar.el (TeX-bar-TeX-buttons, TeX-bar-LaTeX-buttons):
	Improve wording.

	* doc/changes.texi: Add bug fixes.  Add TeX tool bar.

	* doc/auctex.texi (Running TeX and friends):
	Add TeX-enable-toolbar.

	* tex-bar.el: Copy of tool bar stuff from LaTeX-*.
	(TeX-bar-TeX-buttons, TeX-bar-TeX-all-button-alists)
	(TeX-bar-TeX-button-alist): New variables.
	(TeX-bar-TeX-buttons, TeX-install-toolbar): New funtions.
	(TeX-tool-bar-button-definitions): New custom group

	* tex.el (TeX-enable-toolbar): New variable.
	(TeX-maybe-install-toolbar): New function.
	(TeX-plain-tex-mode): Add `TeX-maybe-install-toolbar'.

2006-07-27  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Add explanation of how to augment `PATH'.

	* doc/todo.texi (Mid-term Goals): Typo.

2006-07-25  David Kastrup  <dak@gnu.org>

	* style/doc.el ("doc"): Add macrocode and macrocode* to
	indentation-neutral environment list.

	* latex.el (LaTeX-insert-environment): Leave mark at start of
	content when inserting around active region.

2006-07-11  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-font-list): Add `\mathbb' on C-c C-f C-s.

2006-07-25  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-script): Don't match groups
	spanning more than one line in order to avoid visually wrong
	indentation in subsequent lines.
	(font-latex-match-quotation): Do not match escaped quotation
	marks.

2006-07-23  Ralf Angeli  <angeli@caeruleus.net>

	* bib-cite.el, tex-mik.el, doc/changes.texi, doc/history.texi,
	doc/wininstall.texi: Fix spelling of MiKTeX.

2006-07-21  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-script): Fix last check-in.

2006-07-18  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-script): Apply subscript and
	superscript highlighting only once in order to prevent the font
	size becoming too small.

2006-07-15  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-maybe-install-toolbar): Enable tool bar in LaTeX
	mode only.
	(LaTeX-maybe-install-toolbar): Revert last change.
	(TeX-latex-mode): Set `tool-bar-mode-on-hook' buffer-locally
	instead.

2006-07-12  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-move-to-break-point): Fix regexp for
	matching whitespace and comment characters at the start of a line.
	Simplify forward search.

2006-07-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-find-macro-boundaries, TeX-find-macro-start):
	Remove unused argument.
	(TeX-find-macro-end-helper): Handle macros at the end of the
	buffer correctly.

2006-07-10  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-math-close-double-dollar): New variable.
	(TeX-insert-dollar): Use it.

	* Makefile.in, doc/Makefile.in (datarootdir): New variable used by
	autoconf 2.59e.

2006-07-09  Ralf Angeli  <angeli@caeruleus.net>

	* aclocal.m4 (EMACS_CHECK_MULE): Check for EMACS_UNIBYTE
	environment variable and do not set MULESRC if it is present.

2006-07-07  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-normal-mode): Force update of style list.

2006-07-02  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Explicitely supply doc directory
	for non-kpathsea-based TeX systems.

2006-06-29  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-fill-region-as-paragraph): Fix treatment of code
	comments in case of something like "\%}%".

2006-06-24  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-clean): Delete files in directory of master file.

2006-06-23  Joshua Buhl <jbuhl_nospam@gmx.de>

	* doc/tex-ref.tex (title{Outlining TeX Documents}): new section.

2006-06-19  Ralf Angeli  <angeli@caeruleus.net>

	* style/amsmath.el ("amsmath"): Prompt for alignment option with
	subarray environments.

2006-06-18  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Preserve window configuration
	when checking for info backends.

2006-06-17  Ikumi Keita <ikumi@revery.net>

	* tex.el (TeX-parse-arguments): Makes to work with proper value of
	TeX-insert-macro-default-style.
	(TeX-insert-braces): Place braces with right direction with active
	region, (related to the case when the region is being marked
	backwards).

2006-06-17  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-clean): Delete generated files associated with
	`TeX-region-file'.  Suggested by Ikumi Keita <ikumi@revery.net>.

2006-06-12  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (Info-find-file): Do not autoload.
	(TeX-doc-backend-alist): Use a method for checking the presence of
	an info file which works in Emacs 21 as well.

2006-06-11  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-doc-backend-alist): Don't error out if
	`Info-find-file' is not available.
	(TeX-doc): Use `interactive-p' instead of `called-interactively-p'
	which is not available in Emacs 21.

2006-06-11  Ikumi Keita  <ikumi@revery.net>

	* style/amsmath.el ("amsmath"): Docfix for 'uproot'.
	(LaTeX-amsmath-env-alignat): Fix typo.

2006-06-08  David Kastrup  <dak@gnu.org>

	* Makefile.in (PREVIEW_BUILD_DIR): New variable for building the
	preview standalone bundle.
	(preview-ball): New target for creating the preview standalone
	bundle for CTAN.

2006-06-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec (%post, %postun): Use mktexlsr instead of texhash.
	Only update the relevant ls-R file.
	(%install): Add comment about preview.cfg.
	(%install, %files): prauctex.cfg is the config file, not
	preview.cfg.

2006-06-07  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-set-paragraph-start): New function.
	(LaTeX-paragraph-commands-add-locally)
	(LaTeX-common-initialization): Use it.

2006-06-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* Version 11.83 released.

2006-06-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (full-release): Remove duplicate pass phrase prompt.
	(release-commit): Only commit ChangeLog.

	* Makefile.in (rpm-packages): Rename from rpm-builds.

	* RELEASE: Fix typo.

	* Makefile.in (rpm-builds): Add preview-tetex.

	* auctex.spec: Add "-n" for preview-tetex.
	(%install): Create preview.cfg.

2006-06-07  David Kastrup  <dak@gnu.org>

	* RELEASE: Add info about preview RPM.

	* doc/install.texi (Advice for package providers): Adapt package
	advice to what we actually do for RPM files.

	* auctex.spec: attempt to add preview-tetex package.

2006-06-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (XEMACS_BUILD_DIR): New variable.
	(xemacs-package): Use it.
	(tar-ball-clean): Add XEMACS_BUILD_DIR.
	(CP): New variable.
	(tar-ball, www-doc): Use it.

	* RELEASE: Update RPM stuff.

	* tex.el (TeX-line-number-at-pos): New compatibility function.

	* style/pdfsync.el (LaTeX-pdfsync-output-page): Use it.

	* auctex.spec (Obsoletes): Remove preview-latex-common.

2006-06-06  Ralf Angeli  <angeli@caeruleus.net>

	* style/pdfsync.el (LaTeX-pdfsync-output-page):
	Initialize `sync-record' with a non-nil value.

	* doc/auctex.texi (Viewing): Fix reference to Commands node
	looking ugly in info output.  Slightly rearrange forward/inverse
	search section.  Document pdfsync support a bit more in detail.

2006-06-06  Reiner Steib  <Reiner.Steib@gmx.de>

	* RELEASE: Use "SUSE" instead of "SuSE".

	* auctex.spec (Release): Bump to 1.
	(%changelog): Add 11.83.

	* doc/changes.texi: Add @xref for pdfsync.

	* doc/auctex.texi (Viewing): Mention pdfsync.

	* doc/todo.texi (Wishlist): Add newline.  Mention pdfsync.

2006-06-06  David Kastrup  <dak@gnu.org>

	* RELEASE: Add details about downloadable packages.  Beg harder.

2006-06-05  Reiner Steib  <Reiner.Steib@gmx.de>

	* RELEASE: Mention LaTeX tool bar.

2006-06-05  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-quote-regexp-beg)
	(font-latex-quotes-control): Make buffer-local.
	(font-latex-add-quotes): Revert last change and do not make
	`font-latex-quotes-control' buffer-local which it now already is.

2006-06-04  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-add-quotes):
	Make `font-latex-quote-regexp-beg' buffer-local.

2006-06-04  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (rpm-builds): New target.
	(full-release): Use gpg-agent if available.
	(RPM_SIGN): New variable.
	(rpm-builds): Use it.

	* doc/install.texi (Advice for non-privileged users): Reword to
	avoid underfull hbox.

2006-06-03  Ralf Angeli  <angeli@caeruleus.net>

	* doc/auctex.texi (top): Update master menu.
	(Running TeX and friends): Update menu.
	(Miscellaneous Commands): Remove.
	(Cleaning, Documentation): New nodes.

	* doc/changes.texi: Update references to documentation about
	cleaning and documentation access.

2006-06-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (Miscellaneous Commands): New node.

	* doc/changes.texi: Add @xref-s.

2006-06-02  David Kastrup  <dak@gnu.org>

	* doc/changes.texi: Change one ref to xref.

2006-05-31  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/changes.texi: Conditionalize reference.

	* doc/Makefile.in (MAKEINFO_PLAIN): Remove --no-validate.

	* auctex.spec (%files emacs): Remove %exclude.

2006-05-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/Makefile.in (MAKEINFO_PLAIN): New.  Add --no-validate.

	* doc/changes.texi: Add tool bar.

	* doc/auctex.texi (top): Remove tool bar.
	(Running TeX and friends): Add tool bar here.  Adjust.

2006-05-25  David Kastrup  <dak@gnu.org>

	* RELEASE: Mention file-line-error style messages.
	Mention XyMTeX fix.

	* doc/changes.texi: The same.


2006-05-25  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-update-style-hook): New variable.
	(TeX-update-style): Use it.
	(TeX-remove-style): Fix typo.

	* font-latex.el (font-latex-quotes-internal): New variable.
	(font-latex-quotes-set-internal): New function.
	(font-latex-match-quotation): Use it.
	Use `font-latex-quotes-internal' instead of `font-latex-quotes'.
	(font-latex-setup): Remove code for figuring out type of
	language-specific quotation mark matching which is now in
	`font-latex-quotes-set-internal'.

	* RELEASE: Update for 11.83.

	* auctex.spec, configure.ac, doc/auctex.texi, doc/changes.texi,
	doc/preview-latex.texi, doc/tex-ref.tex: Bump version number.

	Update address of FSF in GPL notices.

2006-05-22  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-quotes-fallback)
	(font-latex-quote-style-list-french)
	(font-latex-quote-style-list-german): New variables.
	(font-latex-quotes): Add `auto' option.
	(font-latex-setup): Try to derive type of quotation mark matching
	from document properties.

	* tex.el (TeX-elt-of-list-member): New function.

	* doc/auctex.texi (Font Locking): Document `auto' option of
	`font-latex-quotes'.

2006-05-21  Ralf Angeli  <angeli@caeruleus.net>

	* tex.el (TeX-source-specials-mode): Mark as safe.
	(TeX-PDF-mode): Use `TeX-booleanp'.
	(TeX-booleanp): New function.

	* font-latex.el (font-latex-quotes): Mark as safe.
	(font-latex-fontify-script): Use `TeX-booleanp'.

2006-05-17  Ralf Angeli  <angeli@caeruleus.net>

	* latex.el (LaTeX-forward-paragraph): Make regexp more efficient.

2006-05-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-PDF-mode): Rewrite safe-local-variable property for
	Emacs 21 compatibility.

	* font-latex.el (font-latex-fontify-script): Ditto.

2006-05-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-master): Quote safe-local-variable lambda expression
	to avoid byte compilation.

2006-05-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-fontify-script): Mark as
	safe-local-variable.

2006-05-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-PDF-mode): Mark as safe-local-variable.
	(TeX-master): Don't use t in safe-local-variable declaration.
	(TeX-doc): Clarify.

2006-05-07  Ralf Angeli  <angeli@caeruleus.net>

	* font-latex.el (font-latex-match-quotation): Do not match
	quotation marks in math constructs.

2006-05-05  Berend de Boer  <berend@pobox.com>

	* context.el (ConTeXt-mode-common-initialization): Previous fix
	still wrong. Problem is that all local variables were killed, so
	added a save/restore around the common initialisation.

2006-05-04  Berend de Boer  <berend@pobox.com>

	* context-nl.el (context-nl-mode) and context-en.el
	(context-en-mode): can now assume that ConTeXt-current-interface
	is buffer local.

	* context.el (ConTeXt-current-interface): this variable should
	always be buffer local. With this and above two changes having
	buffers with two interfaces at the same time works correctly
	(again?).

2006-04-26  Ralf Angeli  <angeli@caeruleus.net>

	* tex-buf.el (TeX-TeX-sentinel-check, TeX-parse-error):
	Support file-line-error error indicators.

2006-04-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-format-list): Extend regexp for ConTeXt mode.

2006-04-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (docTeX-mode): Make filling and indentation aware of
	DocStrip guards.

2006-04-20  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-warning): Don't balk if `string' is nil.

2006-04-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-match-script): Fix matching of nested
	braces.

2006-04-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-babel-insert-hyphen): Do not error out at
	beginning of buffer.

2006-03-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (install-metadata): Do not use an inline test for
	checking if preview is enabled.  Just to be on the safe side.

2006-03-27  David Kastrup  <dak@gnu.org>

	* doc/intro.texi (Introduction): refer to `below' instead of
	probably non-existing `preview/README'.

	* tex.el: tiny typo.

	* latex.el (LaTeX-close-environment): Allow prefix argument to
	reopen the environment.

2006-03-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (install-metadata): Append preview/auto.el to start
	file if configured with preview-latex.

2006-03-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-insert-environment): Do not polute the kill
	ring.

2006-03-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (TeX-latex-mode): Set up tool bar correctly for XEmacs
	and activate it for every buffer in Emacs.  Run mode hooks as late
	as possible.

2006-03-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* configure.ac: Check for `make' and abort if not present.
	Use `AC_PROG_MAKE_SET' instead of deprecated `AC_SET_MAKE'.

	* latex.el (LaTeX-common-initialization): Add \dots to supported
	TeX symbols.

2006-03-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-mode-map): Change `C-c ?' binding from
	`describe-mode' to `TeX-doc'.
	(TeX-common-menu-entries): Add `Find Documentation...' entry for
	`TeX-doc'.
	(plain-TeX-menu-entries): Remove space before ellipsis.
	(TeX-doc-backend-alist): Make texdoc backend available in all
	modes.

	* latex.el (LaTeX-mode-menu): Remove space before ellipsis.

	* doc/changes.texi: Advertise cleaning and documentation finding
	functionality.

2006-03-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-next-error, TeX-active-buffer): Get master from
	the command buffer.
	(TeX-error, TeX-warning): Do not set `TeX-master' but set
	`TeX-command-buffer' to the right value instead.

2006-02-17  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-buf.el (TeX-error-description-list): Fix error messages.
	Changed from `documentstyle' to `documentclass'.  The duplicated
	entries `counter too large' are combined.  Add the name of
	referenced book and the section number to the entry `Missing \\$
	inserted'.

	* tex-jp.el (TeX-error-description-list): Likewise.

2006-02-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-master): Mark as safe.

2006-02-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/wininstall.texi: Intersperse some information about PATH.

2006-02-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-clean-default-intermediate-suffixes): Add .brf and
	.out for hyperref.

2006-02-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-kpathsea-format-alist): Add search specs for
	documentation.
	(Info-find-file, info-lookup->completions): Autoload.
	(TeX-doc-backend-alist): New variable.
	(TeX-doc): New function.

	* doc/todo.texi (Wishlist): Add a few words about documentation
	lookup for macros.

2006-02-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-run-ispell-on-document): Reintroduce for
	compatibility reasons.

	* tex.el (TeX-command-list): Use `TeX-run-function' instead of
	`TeX-run-ispell-on-document' for "Spell" option.  Remove
	`TeX-run-ispell-on-document' as option for the third element of an
	item.
	(TeX-ispell-document): Move here from tex-buf.el.

	* tex-buf.el (TeX-run-ispell-on-document): Remove.
	(TeX-ispell-document): Move to tex.el.

2006-02-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-command-list): Remove "ConTeXt Clean".  Add general
	"Clean" and "Clean All" options.  Add `TeX-run-function' as an
	option for the third element of an item and document it.
	(TeX-clean-default-intermediate-suffixes)
	(TeX-clean-default-output-suffixes, TeX-clean-confirm):
	New variables.
	(dired-mark-pop-up): Autoload.
	(TeX-clean): New function.

	* tex-buf.el (TeX-run-function): New function.

	* tex-info.el (Texinfo-clean-intermediate-suffixes)
	(Texinfo-clean-output-suffixes): New variables.

	* latex.el (docTeX-clean-intermediate-suffixes)
	(docTeX-clean-output-suffixes)
	(LaTeX-clean-intermediate-suffixes, LaTeX-clean-output-suffixes):
	New variables.

	* context.el (ConTeXt-clean-intermediate-suffixes)
	(ConTeXt-clean-output-suffixes): New variables.

2006-02-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-sectioning-faces): Set the face
	size for XEmacs again after `set-face-parent' was called which
	erroneously overwrites the original size.  Without this fix
	sectioning faces may be unscaled after starting XEmacs.

2006-02-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (top): Add detailed menu for better
	accessibility.  Fix formatting/usage of references to RefTeX and
	preview-latex manuals.

2006-02-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-enable-toolbar): New variable.
	(LaTeX-maybe-install-toolbar): New function.
	(TeX-latex-mode): Add LaTeX-maybe-install-toolbar to
	tool-bar-mode-on-hook.

2006-01-31  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4: Check for {late,last,early}-package-hiearchies if
	`late-packages' is not bound (which indicates we are dealing with
	XEmacs 21.5).

2006-01-28  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (TeX-command-list): Use function ignore insted of nil
	for the third element of `separator for command menu' because
	defcustom of TeX-command-list requires the third element function.
	Reported by Ikumi Keita <ikumi@revery.net>.

2006-01-28  Ikumi Keita  <ikumi@revery.net>

	* tex-buf.el (TeX-run-discard-foreground): Rename from
	TeX-run-dviout.
	(TeX-run-dviout): alias to TeX-run-discard-foreground.

	* tex.el (TeX-command-list): Use TeX-run-discard-foreground
	instead of TeX-run-dviout.

2006-01-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/csquotes.el (LaTeX-csquotes-insert-environment):
	Set prompt for mandatory arguments.
	("csquotes"): Bring up to par with csquotes 3.2.

	* style/url.el ("url"): Support the \path macro.

2006-01-25  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-buf.el (TeX-run-dviout): Undo previous change.

	* tex.el (TeX-command-list): Ditto.

2006-01-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-verbatim-macros-with-delims)
	(LaTeX-verbatim-macros-with-delims-local)
	(LaTeX-verbatim-macros-with-braces)
	(LaTeX-verbatim-macros-with-braces-local): Doc fix.
	(LaTeX-verbatim-environments, LaTeX-verbatim-environments-local):
	Doc fix.  Make the correct variable buffer-local.
	(LaTeX-verbatim-macros-with-delims)
	(LaTeX-verbatim-macros-with-braces, LaTeX-verbatim-environments):
	New functions.
	(LaTeX-verbatim-macro-boundaries): Find macro in case point is
	just in front of it.
	(LaTeX-verbatim-p): Doc fix.  Correct macro lookup.
	(LaTeX-fill-move-to-break-point): Do not break verbatim macros
	with braces across lines (in addition to macros with delimiters).
	For example in case of \lstinline{...} this would result in an
	error and in case of \url{...} spaces would be messed up (in
	conjunction with the `obeyspaces' package option).

	* font-latex.el (font-latex-set-syntactic-keywords): Instead of
	appending lists of verbatim macros and environments manually use
	new LaTeX-verbatim-* functions.

2006-01-24  Ikumi Keita  <ikumi@revery.net>

	* latex.el (LaTeX-fill-move-to-break-point): Fix previous change.

2006-01-23  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in: Add CP_A.  Add coment on maintainer-only targets.
	(xemacs-package): Use CP_A.

2006-01-22  Ikumi Keita  <ikumi@revery.net>

	* latex.el (LaTeX-fill-move-to-break-point): Use TeX-espaced-p to
	check TeX escape char.

	* tex.el (TeX-command-list): Remove TeX-run-dviout because dviout
	here is only work with Emacs on MS-DOS.

	* tex-buf.el (TeX-run-dviout): Remove.

	* tex-jp.el (japanese-TeX-command-list): Remove TeX-run-dviout.
	Commented out easy-menu-define (plain-TeX|LaTeX)-mode-command-nemu.
	(japanese-TeX-mode, japanese-plain-tex-mode)
	(japanese-latex-mode): Doc fix.
	(japanese-TeX-self-insert-command): Rename from
	tex-jp-self-insert-command.
	(TeX-insert-punctuation): Follow the change.
	(TeX-error-description-list): Doc fix.

2006-01-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-spec-list): Fold pageref macro as
	well.

2006-01-16  David Kastrup  <dak@gnu.org>

	* Makefile.in (xemacs-package): Don't clean up after building so
	that we have a chance for debugging.

2006-01-14  David Kastrup  <dak@gnu.org>

	* configure.ac: Don't check for INSTALL_INFO if already set.

2006-01-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Advertize pdfsync support.

	* latex.el (LaTeX-header-end, LaTeX-trailer-start): Do not pick up
	commented header end or trailer start respectively.

2006-01-13  David Kastrup  <dak@gnu.org>

	* Makefile.in (xemacs-package): Don't run `install-info' and
	`texhash'

2006-01-11  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Fix use of TAG_EXPORT.

2006-01-04  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-fold.el (TeX-fold-mode): Autoload as an interactive
	function.

2005-12-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/pdfsync.el: New file.

	* Makefile.in (STYLESRC): Add style/pdfsync.el.

	* tex.el (TeX-output-view-style): Add %(outpage) expander to xpdf
	call.  Start xpdf in server mode.
	(TeX-expand-list): New %(outpage) expander.
	(TeX-sync-output-page-function): New variable.

2005-12-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Use TAG_EXPORT for snapshots.

	* auctex.spec (description): Add preview-latex.
	(install, files): Don't create preview directory.

2005-12-21  Ikumi Keita  <ikumi@revery.net>

	* latex.el (LaTeX-mark-section): Remove read-only mark `*' from
	interactive.
	(LaTeX-fill-move-to-break-point): Use `*' instead of `+' for
	looking back Japanese Macro in order to prevent breaking line just
	after TeX-esc, in other words, not to break TeX command `\JJJ'
	into `\' and `JJJ'.  Use variable linebeg instead of function
	line-beginning-position.

2005-12-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec (Provides): Make emacs/site-lisp/preview.
	(Release): Bump to 1.

2005-12-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Version 11.82 released.

2005-12-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (COMMITTER_NAME, COMMITTER_EMAIL): New variables.
	(release-commit): Use them.

	* auctex.spec, configure.ac, doc/auctex.texi,
	doc/preview-latex.texi, doc/tex-ref.tex: Bump version number.

	* doc/changes.texi: Minor rewordings for 11.82.

2005-12-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-completing-read-multiple): Mention the availability
	of crm.el in recent XEmacs packages.

2005-12-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-macro-history): New variable.
	(TeX-insert-macro): Use it.

2005-12-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (TeX-texinfo-mode): Do not add braces around
	arguments of commands which do not expect them.

	* latex.el (TeX-arg-free): Move to tex.el.

	* tex.el (TeX-arg-free): Move here from latex.el.
	(TeX-insert-dollar): Do not abort with an error with an error if a
	dollar is inserted in a math construct not started with a dollar.
	Issue a message about the mismatch instead and insert the dollar.

	* font-latex.el (font-latex-quote-list): Add default quotes.
	(font-latex-add-quotes): New function.
	(font-latex-match-quotation): Remove hard-coded quotation mark
	lists and adapt `font-latex-quote-list' to the active quote style
	instead.  Babel-specific quotation mark strings are now added to
	`font-latex-quote-list' by style files.

	* style/slovak.el, style/ngerman.el, style/italian.el,
	style/german.el, style/danish.el: Add fontification support for
	quotation mark strings provided by babel.

2005-11-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el: Revert last change because it makes math
	switch/toggle matching tricks harder to use.

	* latex.el (LaTeX-listify-package-options): New function.
	(LaTeX-auto-cleanup): Use it.
	(LaTeX-arg-usepackage): Add \usepackage options to style list.

	* tex.el (TeX-insert-quote): Turn opening/closing quotation mark
	into "" if <"> is typed with point behind it and insert " with any
	following <"> key type.

2005-11-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp-in-commented-line, texmathp-in-comment):
	New functions.
	(texmathp-match-environment): Use them.
	(texmathp-match-switch): Make aware of comments.

2005-11-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/MinionPro.el: New file.  Contributed by Mark Trettin.

	* Makefile.in (STYLESRC): Add style/MinionPro.el.

	* doc/changes.texi: Advertise support for MinionPro.sty.

	* RELEASE (IMPORTANT): Add Mark.

2005-11-25  David Kastrup  <dak@gnu.org>

	* doc/todo.texi (Wishlist): Add suggestion about longlines.el.

2005-11-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-toggle-debug-warnings): Use correct variable for
	state indication.
	(TeX-kpathsea-format-alist): Add entry for "sty".
	Prevents kpathsea-based search from failing e.g. in case of \usepackage
	insertion.

	* doc/changes.texi: Document removal of
	`font-latex-title-fontify' alias.

	* font-latex.el: Remove alias for `font-latex-title-fontify'.
	(font-latex-make-user-keywords): Use hack from tex-mode.el to
	fontify the backslash in "\end{verbatim}" and similar correctly.
	(font-latex-set-syntactic-keywords): Use the backslash of
	"\end{verbatim}" and similar for the syntax property, not the
	newline character which led to fontification going wild when text
	at the end of the environment was inserted.

2005-11-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Mention completion support for LaTeX packages.

	* RELEASE: Update for 11.82.

2005-11-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-site.el.in (tex-site-unload-hook): Don't let it fail on
	Emacs 21.

2005-11-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Fix key binding for
	`TeX-toggle-debug-bad-boxes'.

	* doc/auctex.texi (Quotes): Document change of
	`TeX-insert-braces'.
	(Filling): `M-g' for `LaTeX-fill-region' has been deactivated for
	a long time.  Reflect that in the documentation.

	* tex.el (TeX-token-char): Doc fix.
	(TeX-insert-braces): Do something more sensible if region is
	activated.

2005-11-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-parse-error): Do not match empty strings.

2005-11-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-toggle-debug-boxes): Move to tex.el.
	(TeX-LaTeX-sentinel-has-warnings)
	(TeX-LaTeX-sentinel-has-bad-boxes): New functions.
	(TeX-LaTeX-sentinel): Check for warnings and bad boxes and inform
	the user is the respective options are non-nil.
	(TeX-parse-error): Conditionalize checking for warnings and bad
	boxes.  Find warnings without line numbers as well.
	(TeX-warning): Doc fix (no need to return nil anymore).
	Support warnings without line numbers.

	* tex.el (TeX-toggle-debug-boxes): Do not autoload.
	(TeX-debug-bad-boxes): Doc fix.
	(TeX-debug-warnings): New variable.
	(TeX-toggle-debug-bad-boxes): Move here from tex-buf.el.
	(TeX-toggle-debug-warnings): New function.
	(TeX-mode-map): Define new key bindings for
	`TeX-toggle-debug-bad-boxes' and `TeX-toggle-debug-warnings'.
	(TeX-mode-specific-command-menu-entries): Add or change menu
	entries for `TeX-toggle-debug-bad-boxes' and
	`TeX-toggle-debug-warnings'.

	* doc/auctex.texi (Debugging): Document debugging support for
	warnings and changes of debugging bad boxes.

	* doc/changes.texi: Advertise debugging support for warnings and
	changes of debugging bad boxes.

	* font-latex.el (font-latex-set-syntactic-keywords): Doc fix.
	Check if LaTeX-specific variables are bound which may be unbound
	if font-latex is being used in ConTeXt mode.

2005-11-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-insert-backslash): Use regular function call instead
	of `funcall'.

2005-11-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-electric-sub-and-superscript): New variable.
	(TeX-insert-sub-or-superscript): New function.
	(TeX-mode-map): Use `TeX-insert-sub-or-superscript' for `_' and
	`^' keys.
	(TeX-insert-backslash): New function.
	(TeX-mode-map): Use `TeX-insert-backslash' for `\'.
	(TeX-electric-escape): Adapt doc string.

	* doc/auctex.texi (Mathematics):
	Document `TeX-electric-sub-and-superscript'.

	* doc/changes.texi: Advertise `TeX-electric-sub-and-superscript'.

2005-10-31  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Do not break lines in
	the Japanese Macros.  Suggested by Ikumi Keita <ikumi@revery.net>.

2005-10-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi (Prerequisites): Update information about
	development version of Emacs for Debian.
	Update information about development version of Emacs for
	Mac OS X and Windows.

2005-10-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/frenchb.el, style/francais.el: Clean up.

2005-10-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-quote-language-alist, TeX-insert-quote):
	Support functions as opening and closing quotation marks.

	* style/frenchb.el: New file.

	* style/francais.el: New file.

	* doc/auctex.texi (European): Document support of French.

	* doc/changes.texi: Advertise support of French.

	* Makefile.in (STYLESRC): Add style/frenchb.el and
	style/francais.el.

2005-10-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi (Configure): Document --with-kpathseasep.

	* doc/auctex.texi (Commands): Add index entry for PDF mode.

	* configure.ac (preview_enabled): Export `TEX' in unquoted form.

2005-10-23  David Kastrup  <dak@gnu.org>

	* style/babel.el (LaTeX-babel-package-options): Only use 2
	argument form of defvaralias in order not to make XEmacs barf.

2005-10-23  Arne Jørgensen  <arne@arnested.dk>

	* style/amstext.el (LaTeX-amstext-package-option): New variable.

	* style/amstex.el (LaTeX-amstex-package-options): New variable.

	* style/amsopn.el (LaTeX-amsopn-package-options): New variable.

	* style/amsmath.el (LaTeX-amsmath-package-options): New variable.

	* style/amsbsy.el (LaTeX-amsbsy-package-options): New variable.

	* style/fancyref.el (LaTeX-fancyref-package-options):
	New variable.

	* style/harvard.el: Updated GPL to version 2. Fixed FSF address.
	(LaTeX-harvard-package-options): New variable.

	* style/index.el (LaTeX-index-package-options): New variable.

	* style/listings.el (LaTeX-listings-package-options):
	New variable.

	* style/makeidx.el (LaTeX-makeidx-package-options): New variable.

	* style/mdwlist.el (LaTeX-mdwlist-package-options): New variable.

	* style/multind.el (LaTeX-multind-package-options): New variable.

	* style/natbib.el (LaTeX-natbib-package-options): New variable.

	* style/nicefrac.el (LaTeX-nicefrac-package-options):
	New variable.

	* style/paralist.el (LaTeX-paralist-package-options):
	New variable.

	* style/units.el (LaTeX-units-package-options): New variable.

	* style/scrpage2.el (LaTeX-scrpage2-package-options):
	New variable.

2005-10-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* toolbar-x.el (toolbarx-find-image): Fix previous commit.

2005-10-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-mik.el (tex-site): Require 'tex-site no more.

	* doc/changes.texi: Document removal of 'tex-site requirement from
	`tex-mik.el'.

	* configure.ac (packagedir): Quote value of `infodir'.

2005-10-20  David Kastrup  <dak@gnu.org>

	* toolbar-x.el: Revert mostly to 2005-05-02 state, but add a
	fallback to find-image.

2005-10-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* toolbar-x.el (toolbarx-find-image): Use image-search-load-path
	and image-load-path when available.
	(toolbarx-find-image): Revert previous fix.  Instead, rely on
	find-image whenever possible and don't abuse locate-library.

2005-10-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-user-keywords): Append string
	face in order to make string fontification of ``foo $bar$ baz''
	constructs work.

2005-10-19  Arne Jørgensen  <arne@arnested.dk>

	* latex.el (LaTeX-arg-usepackage):
	If `LaTeX-<package>-package-options' is bound and nil don't ask for
	package options.

	* style/verbatim.el (LaTeX-verbatim-package-options):
	New variable.

	* style/varioref.el (LaTeX-varioref-package-options):
	New variable.

	* style/url.el (LaTeX-url-package-options): New variable.

	* style/subfigure.el (LaTeX-subfigure-package-options):
	New variable.

	* style/inputenc.el (LaTeX-arg-inputenc-inputenc): Doc fix.
	(LaTeX-inputenc-package-options): Doc fix.

	* style/dk-bib.el (LaTeX-dk-bib-package-options): Doc fix.

	* style/captcont.el (LaTeX-captcont-package-options):
	New variable.

	* style/booktabs.el (LaTeX-booktabs-package-options):
	New variable.

	* style/babel.el: Add doc string to `LaTeX-babel-package-options'
	and use `defvar' instead of `setq'.

	* style/alltt.el (LaTeX-alltt-package-options): New variable.

2005-10-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/dk-bib.el, style/inputenc.el: Add coding cookie.
	Delete trailing whitespace.  Reindent.

2005-10-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/dk-bib.el (LaTeX-dk-bib-package-options): Define only
	once.

2005-10-13  Jan-Ake Larsson  <jalar@mai.liu.se>

	* tex-buf.el: Change defcustom group from TeX-commands to TeX-command

2005-10-12  Arne Jørgensen  <arne@arnested.dk>

	* tex.el: Provide a `TeX-completing-read-multiple' either by
	defalias'ing `completing-read-multiple' or defining a wrapper
	around `multi-prompt'.

	* latex.el (LaTeX-arg-usepackage): New function. Asks about what
	package to use, loads the AUCTeX style file, and asks about
	package options (possibly based on definitions in the AUCTeX
	style file).
	(LaTeX-common-initialization): Use it.

	* style/babel.el: Define `LaTeX-babel-package-options' to be a
	list of languages/options for the babel package.

	* style/inputenc.el: New file.

	* style/dk-bib.el: New file.

	* Makefile.in (STYLESRC): Add style/inputenc.el and
	style/dk-bib.el.

2005-10-10  Arne Jørgensen  <arne@arnested.dk>

	* latex.el (LaTeX-auto-regexp-list): Remove spurious characters
	in variable definition.

2005-10-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (top): Index "tool bar" and "toolbar".
	Use "tool bar" in the text.

	* doc/changes.texi: Use "tool bar".

	* auctex.spec: Install auctex.el and preview-latex.el for SuSE
	too.  Don't use extraconfig.

2005-10-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Re-add fixed spec file.

2005-10-07  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-token-char): New variable.
	(plain-TeX-auto-regexp-list): Use it.
	Suggested by Ikumi Keita <ikumi@revery.net>.

	* latex.el (LaTeX-auto-regexp-list, BibTeX-auto-regexp-list):
	Use it.

	* tex-jp.el (LaTeX-auto-regexp-list, plain-TeX-auto-regexp-list)
	(BibTeX-auto-regexp-list): Remove.

2005-10-06  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec: Fixes for Fedora.  Create site-start.d and add
	files.

2005-10-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-BibTeX-sentinel): Shorten message in case of
	errors.

	* Makefile.in (install-lisp): Use MULESRC instead of MULEELC
	because a `c' is already being appended by the installation code.

	* tex-jp.el (japanese-TeX-command-list): Remove obsolete
	`TeX-run-LaTeX' option.

	* tex.el (TeX-current-macro): New function.

	* latex.el (LaTeX-verbatim-macros-with-delims)
	(LaTeX-verbatim-macros-with-delims-local)
	(LaTeX-verbatim-macros-with-braces)
	(LaTeX-verbatim-macros-with-braces-local)
	(LaTeX-verbatim-environments, LaTeX-verbatim-environments-local):
	New variables.
	(LaTeX-verbatim-macro-boundaries, LaTeX-current-verbatim-macro)
	(LaTeX-verbatim-p, LaTeX-search-forward-comment-start):
	New functions.
	(LaTeX-verbatim-macros): Remove.
	(LaTeX-fill-region-as-para-do): Simplify.
	(LaTeX-fill-move-to-break-point):
	Use `LaTeX-verbatim-macros-with-delims'.
	(LaTeX-fill-paragraph, LaTeX-fill-code-comment): Handle comment
	starters in verbatim constructs correctly.

	* font-latex.el (font-latex-verbatim-environments)
	(font-latex-verbatim-environments-local)
	(font-latex-verb-like-commands)
	(font-latex-verb-like-commands-local)
	(font-latex-verbatim-macros, font-latex-verbatim-macros-local):
	Remove.
	(font-latex-set-syntactic-keywords): Use new `LaTeX-verbatim-*'
	instead of `font-latex-verb*' variables.

	* doc/auctex.texi (Font Locking): Document change of
	verbatim-related variables.

	* doc/changes.texi: Document change of verbatim-related variables.

	* style/alltt.el ("alltt"): Use new variables for verbatim
	constructs.

	* style/listings.el ("listings"): Use new variables for verbatim
	constructs.

	* style/url.el ("url"): Use new variables for verbatim constructs.

	* latex.el (LaTeX-insert-environment): Mostly rewritten.
	Improve handling of macrocode environments.

2005-10-02  Christian Schlauer  <cschl@arcor.de>

	* tex-buf.el (TeX-BibTeX-sentinel): Check whether BibTeX reports
	any warnings or errors.

	* doc/changes.texi: Mention it.

2005-10-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp-match-environment): Make aware of
	comments.

2005-09-29  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/install.texi (Customizing): Remove "Contributed files"
	section.
	Suggested by Ikumi Keita <ikumi@revery.net>.

2005-09-29  Ikumi Keita  <ikumi@revery.net>

	* texmathp.el (texmathp-tex-commands-default): Remove "xxalignat*"
	and add "boxed".

2005-09-27  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec: Add files in %{_datadir}/emacs/site-lisp.
	Suggested by Jan-Ake Larsson.  Added startfiles.
	Exclude %{_infodir}/dir.

2005-09-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* configure.ac: Document option for specifying AUCTeX startfile as
	--with-auctexstartfile, not --with-auctex-startfile which does not
	work.  Note that changing the internal name from `auctexstartfile'
	to `auctex-startfile' is not an option because of the `-' in the
	name which gives the shell headaches.

	* auctex.spec: Adapt to --with-auctexstartfile and
	--with-preview-startfile.

	* doc/install.texi (Configure): Document change from
	--with-auctex-startfile to --with-auctex-startfile and
	--with-preview-startfile to --with-previewstartfile.

2005-09-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec: Bump version number.  Remove install-contrib, use
	install-docs.  Don't install preview/* because these are not
	generated.

2005-09-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (tar-ball): Don't create WWW directory and don't
	copy HTML files.
	(www-doc): New target.

2005-09-25  David Kastrup  <dak@gnu.org>

	* Version 11.81 released.

2005-09-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE, configure.ac, font-latex.el, doc/auctex.texi,
	doc/changes.texi, doc/preview-latex.texi, doc preview-readme.texi,
	doc/tex-ref.texi, doc/todo.texi: Bump version number.

	* Makefile.in (DISTCLEANFILES): Add tex-site.el.out.

2005-09-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (tar-ball): Remove dysfunctional spec file from
	distribution.
	(full-release): Disable RPM creation.

	* doc/auctex.texi: Bump version number.

	* configure.ac: Bump version number.

2005-09-24  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Advice for package providers):
	Suggest "anytex" instead of "notex" for without-texmf compilations.

2005-09-23  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-site.el.in (TeX-modes-set): Add custom group.

2005-09-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-auto-parse-length, TeX-auto-x-parse-length)
	(TeX-auto-x-regexp-list): Doc fix.

2005-09-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp-tex-commands-default): Add "minipage" as
	`env-off' and "\framebox" as `arg-off'.

2005-09-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Update for upcoming release.

	* doc/changes.texi: Mention `font-latex-slide-title-face' and
	`font-latex-match-slide-title-keywords'.

	* doc/auctex.texi (Font Locking):
	Document `font-latex-slide-title-face' and
	`font-latex-match-slide-title-keywords'.

2005-09-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-match-defun): Fontify only if
	`font-latex-match-*-keywords' and
	`font-latex-match-*-keywords-local' are non-empty.
	(font-latex-make-match-defun): Revert.
	(font-latex-make-built-in-keywords): Do not set
	`font-latex-match-*' if there are no keywords.  (Nicer solution
	than the original change in `font-latex-make-match-defun'.)

2005-09-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-built-in-keyword-classes):
	New `slide-title' class.
	(font-latex-slide-title-face): New face.
	Specify :size for XEmacs.

	* style/beamer.el ("beamer"): Fontify \frametitle with
	`font-latex-slide-title-face'.

2005-09-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-command): Doc fix.

2005-09-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp-tex-commands-default): Add "\textrm" as
	`arg-off'.

2005-08-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-font-replace-macro): Compute syntax table.

2005-08-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-common-initialization): Remove redundant call to
	`make-local-variable' for `outline-heading-alist'.
	Set `outline-heading-alist' only if it is already defined.

2005-08-26  Matthieu Moy  <Matthieu.Moy@imag.fr>  (tiny change)

	* latex.el (LaTeX-common-initialization):
	Set `outline-heading-alist'.

2005-08-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-mark-section): Now marks subsections as well.
	Former behavior is available via prefix argument.

	* doc/changes.texi: Mention change of `LaTeX-mark-section'.

2005-08-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-script): Return face symbols, not
	names of non-existent variables.

	* tex.el (TeX-font-replace-macro): Do not use `TeX-find-macro-end'
	for it may look too far in cases like "\emph{foo}{}".
	Use `forward-sexp' with a stripped syntax table instead.

2005-08-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/wininstall.texi: New "In a Nutshell" section.

2005-08-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* configure.ac: Quotify `packagelispdir' and `packagedatadir'.
	(preview_enabled): Export unquoted variables.
	Declare/initialize and export variables separately.

	* Makefile.in (DESCEND): Quote $$OLDPWD.

2005-08-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (Adding Macros): Remove superfluous entry for
	`TeX-arg-file' and correct entry for `TeX-arg-input-file'.

	* latex.el (TeX-arg-input-file): Doc fix.

	* tex.el (TeX-command-list): Remove `TeX-run-LaTeX'.
	Add `TeX-run-ispell-on-document' in order to prevent mismatch in
	customization buffer.

2005-08-05  David Kastrup  <dak@gnu.org>

	* font-latex.el (font-latex-doctex-preprocessor-face):
	Remove `list' from already quoted list.

2005-08-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-region): In case of single-char non-letter
	macros there does not have to be checked for a partial match.
	This allows for folding of stuff like \,.

2005-08-01  Berend de Boer  <berend@pobox.com>

	* context-en.el (ConTeXt-setup-list-en): typo fixed.

2005-07-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-set-syntactic-keywords): Set and
	update `font-latex-doctex-syntactic-keywords' here.
	(font-latex-doctex-syntactic-keywords): Default to nil.

	* doc/auctex.texi (Japanese): Remove references to contrib make
	targets.  Minor clean-ups.

	* aclocal.m4 (library): Replace COMPILE_MULE and CONTRIB_MULEELC
	with MULESRC and MULEELC.

	* Makefile.in (CONTRIB, CONTRIBELC, CONTRIB_MULE, COMPILE_MULE)
	(CONTRIB_MULEELC): Remove.
	(MULESRC, MULEELC): New variables.
	(AUCSRC): Add bib-cite.el and tex-fptex.el.
	(CLEANFILES): Remove CONTRIBELC and CONTRIB_MULEELC.  Use MULEELC
	instead.
	(.PHONY): Remove contrib, install-contrib and install-contrib-el
	targets.
	(lisp): Depend on STYLESRC and MULESRC.  Compile MULESRC as well.
	(auto-loads.el): Use MULESRC.
	(contrib, install-contrib-el, install-contrib): Remove.
	(install-el): Install MULESRC.
	(install-lisp): Install MULEELC.

	* style/csquotes.el: Bring up to par with csquotes 3.0.
	(LaTeX-csquotes-insert-environment): New function.

2005-07-15  David Kastrup  <dak@gnu.org>

	* doc/preview-todo.texi: Mention that preview.dtx is not a
	showpiece for AUCTeX.

2005-07-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-run-style-hooks): Adjust `default-directory' to
	match the directory of the style.

2005-07-14  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Configure): explain about --without-packagedir.
	(Advice for package providers): Same here.

	* aclocal.m4 (EMACS_PATH_LISPDIR): Allow packagedir=no with XEmacs.

	* configure.ac: protect against packagedir starting with `-'

2005-07-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-match-math-envII): Match environment
	begin and end with whitespace between macro and argument as well.

	* doc/install.texi (Configure): Add `file' macro.

	* texmathp.el (texmathp-match-environment): Match environment
	begin and end with whitespace between macro and argument as well.

2005-07-12  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi:

	* doc/install.texi (Configure): Explain prefix a bit more.

	* doc/Makefile.in (install-man): include tex-ref.tex.

2005-07-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-insert-quote): Do not inhibit special quote
	insertion in docTeX documentation parts.

	* font-latex.el (font-latex-match-command-with-arguments)
	(font-latex-match-command-in-braces): Remove call to
	`font-latex-commented-outp'.
	(font-latex-match-quotation): Do not consider matches in comments
	or verbatim-like constructs.  Fix typo.

2005-07-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-move-to-break-point): Make non-MULE
	XEmacsen happy.
	(LaTeX-fill-paragraph): Don't treat trailing comment starters as
	code comments.

	* font-latex.el (font-latex-match-quotation): Always use multibyte
	strings for comparison.

	* doc/auctex.texi (top): Make the summary notes appear as
	"Executive Summary" in printed output.

	* doc/intro.texi: Main heading in rawtext case should not be
	numbered.  Main heading in printed output has to be chapter, not
	section, in order to fit into the rest of the sectioning
	hierarchy.
	(Introduction): Add two intermediate headings in order to make the
	structure clearer.

	* doc/.cvsignore: Add auto directory.

2005-07-06  David Kastrup  <dak@gnu.org>

	* doc/tex-ref.tex: Rearrange and add information for preview-latex.

2005-07-05  David Kastrup  <dak@gnu.org>

	* doc/preview-latex.texi (Simple customization): Document new
	option `preview-preserve-counters'.

	* doc/auctex.texi (top): Mention RefTeX, `LaTeX-install-toolbar'
	and preview-latex.

2005-07-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-submit-bug-report): Mention FAQ section.

	* doc/changes.texi: Advertise inclusion of preview-latex and
	overhaul of installation procedures.

	* doc/install.texi (Advice for package providers): Refer to
	preview-latex.el file.

	* doc/quickstart.texi (Quick Start): Use (load "auctex.el" nil t
	t) instead of (require 'tex-site).

	* doc/faq.texi: Use (load "auctex.el" nil t t) instead of (require
	'tex-site).

	* doc/intro.texi (Introduction): Use (load "auctex.el" nil t t)
	instead of (require 'tex-site).

2005-06-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (Folding): Do not quote `lambda' function.

2005-06-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-quotes): Get rid of :set function and
	move most of its content to `font-latex-match-quotation'.
	(font-latex-quotes-control): New variable.  Initialize with nil.
	(font-latex-match-quotation): Use it.
	The whole changeset lets quote matching recognize automatically
	when the value of `font-latex-quotes' changed while making sure
	that the regexp only has to be rebuilt when a change actually
	occured.

	* doc/todo.texi (Mid-term Goals): Update text about integration of
	preview-latex.

	* doc/auctex.texi (Floats): Clarify use of
	`LaTeX-top-caption-list'.
	(Display, Internationalization): Make node and heading clearer.
	(European): Describe insertion of multiple consecutive hyphens.

2005-06-24  David Kastrup  <dak@gnu.org>

	* RELEASE: Minor change.

	* configure.ac: Move checks and export for PERL here (needed for
	doc of preview-latex).
	(preview_enabled): Don't export Info-related variables, as they
	are not needed in preview.

	* Makefile.in (AUCTEXVERSION): import.
	(info, dvi): No subshell needed.
	(auctex.el): Depend on config.status
	(install-metadata): pass upstream version into prv-install.el

2005-06-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (TeX-texinfo-mode): Use `TeX-run-mode-hooks'.

	* latex.el (TeX-latex-mode): Use `TeX-run-mode-hooks'.

	* context.el (ConTeXt-mode-common-initialization):
	Use `TeX-run-mode-hooks'.

	* configure.ac: Make info about configuration clearer (in
	connection with the message for preview-latex).

	* tex.el (TeX-master-file): `TeX-default-extension' is a variable,
	not a function.
	(TeX-run-mode-hooks): New function.
	(TeX-plain-tex-mode, ams-tex-mode): Use it.

2005-06-21  David Kastrup  <dak@gnu.org>

	* Makefile.in (xemacs-package): reorder args.

	* configure.ac: disable INSTALL_INFO for XEmacs package.

	* doc/Makefile.in (install-man): Use $$i instead of $i.

2005-06-20  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Advice for package providers): Propose package
	structure.

	* doc/Makefile.in (install-man): Install sources for texinfo
	files.
	(.PHONY): Add install-man.

	* Makefile.in (.PHONY): Add install-man and xemacs-package
	(install-man): Just descend into doc directory.
	(xemacs-package): Try building some XEmacs package.

	* autogen.sh: Don't run distclean, that seems unexpected.

	* RELEASE: Further fold in stuff from preview/RELEASE which is now
	deleted.

2005-06-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-superscript-face)
	(font-latex-subscript-face): Add to correct customization group.
	(font-latex-match-command-with-arguments)
	(font-latex-match-command-in-braces, font-latex-match-math-env):
	Don't set a dummy match.  Remove unnecessary throw..catch clauses.

2005-06-18  David Kastrup  <dak@gnu.org>

	* RELEASE: Well, the merge with preview-latex is no longer
	"planned".

2005-06-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/preview-faq.texi (Requirements): Denastify.

	* tex.el (TeX-master-file): Don't override existing master with
	`TeX-transient-master'.

	* tex-style.el (LaTeX-includegraphics-read-file): Doc fix.

2005-06-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi (Prerequisites): Denastify.

	* doc/auctex.texi (Font Locking): Fix typo.

	* configure.ac: Use correct variable for --disable-preview switch.

2005-06-15  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* Makefile.in (auto-loads.el): Auto-load COMPILE_MULE, too.

2005-06-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Update stuff about fixed bugs and new features.

2005-06-14  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Spell out file names more explicitly.
	Remove any hint of a version that might lead Windows users to
	assume this documentation is for some reason more outdated than
	year-old stuff they find via Google.

	* Makefile.in (install-docs): Make exit status of test bad-shell
	safe.

2005-06-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (all): Do not depend on `docs' target.
	(.PHONY): Remove `docs'.  Add `info' and `dvi'.
	(docs): Remove.
	(info, dvi): New targets.
	(tar-ball): Make sure `dist' stuff is up-to-date.
	Revert, as it is superfluous.

	* doc/Makefile.in (dist): Correct file name for
	preview-latex.info.
	(info, dvi): New targets.
	(.PHONY): Add them and remove `auctex' and `preview'.
	(auctex, preview): Remove.

2005-06-14  David Kastrup  <dak@gnu.org>

	* RELEASE: Adapt RELEASE notes to include preview-latex info.

	* README.CVS: Adapt to reality.

	* doc/Makefile.in (all): Same as dist.
	(dist): Just create DISTTEXTS and info files.
	(extradist): Additional stuff for ftp site.
	(disttexts): Remove target.
	(clean): Don't remove info files.
	(maintainer-clean): Remove info files.

	* autogen.sh: Add error messages, run autoconf in preview
	subdirectory.  Heed MAKE variable if set.

	* Makefile.in (CVSFILES): Define files not to use in tarball.
	(tar-ball): Remove them.
	(tar-ball): Make extradist for additional doc files on ftp.

2005-06-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-ispell-document): Cater for the case where the
	master file is located in a different directory.
	(TeX-run-ispell-on-document, TeX-ispell-document): Doc fix.

2005-06-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-master-file): Check `TeX-transient-master' not only
	in the shared case.

	* tex-buf.el (TeX-region-create): Let-bind `TeX-transient-master'.

2005-06-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (Parsing Files): Fix display of reference.
	Get rid of references to \documentstyle.
	(Simple Style, Adding Macros, Adding Environments)
	(Hacking the Parser): Clean up code examples.

	* tex.el (TeX-master-file-ask): Get rid of "<default>" string as
	default for `read-file-name'.  Fixes unresponsiveness of Emacs on
	Windows and fallback to minibuffer if file is opened via menu and
	prevents file history from being cluttered.  Use relative file
	name for master file.
	(TeX-master-file): Get rid of "this file" string as default for
	`read-file-name'.

2005-06-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-ellipsis): New variable.
	(TeX-fold-hide-item): Use it.

	* Makefile.in (DESCEND): Make MSYS happy if $(subdirs) is null,
	e.g. when --disable-preview is used.
	Make the change more safe with regard to the exit code.

2005-06-09  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Change line endings blurb.  Write drive:
	everywhere in the example strings.

	* doc/preview-readme.texi (Introduction): Some cosmetic changes to
	account for the merge.

	* mkinstalldirs:

	* install-sh: Replace `#/bin/sh' with `:' as this should be more
	portable when called from a Bourne shell (which is what the
	Makefiles do).

2005-06-08  David Kastrup  <dak@gnu.org>

	* doc/preview-dtxdoc.pl: Replicate possible CR line endings
	faithfully, and don't use multiline strings.

2005-06-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/.cvsignore: Ignore all *.info, *.info-*, and *.pgs files.

	* Makefile.in (preview_enabled): New variable.
	(all): Depend on `docs' target.
	(.PHONY): Add `docs' target.
	(docs): New target.
	(install): Depend on `install-docs' instead of `install-info'.
	(install-info): Remove.
	(install-docs): New target.

	* autogen.sh: Generate preview-latex docs as well.

	* configure.ac: Substitute preview_enabled variable in output
	files.

	* doc/.cvsignore: Add relevant preview-latex files.

	* doc/Makefile.in (TEXIFILES): Rename to AUCTEXTEXIFILES.
	(PERL, PREVIEWTEXIFILES): New variables.
	(all): Now depends on `auctex' and `preview' targets.
	Move AUCTeX-specific targets from original to `auctex'.
	(install): Now depends on `install-auctex' and `install-preview'
	targets.  Move AUCTeX-specific targets and content from original
	to `install-auctex'.
	(.PHONY): Add `auctex', `preview', `install-auctex', and
	`install-preview'.
	(auctex, install-auctex, preview, install-preview): New targets.
	(auctex.dvi, auctex.pdf, auctex.info): Depend on
	$(AUCTEXTEXIFILES) instead of $(TEXIFILES).
	(preview-latex/index.html, html-docs, preview-dtxdoc.texi)
	(preview-latex.dvi, preview-latex.ps, preview-latex.pdf)
	(preview-latex.info, ../PROBLEMS): New targets (from
	preview/doc/Makefile.in).
	(../README, ../TODO, ../FAQ): Create output combined from
	respective AUCTeX and preview-latex files.
	(clean, maintainer-clean): Cater for preview-latex files.

	* doc/todo.texi (Development): More specific heading for plain
	text output.

	* doc/preview-todo.texi: Move here from preview/doc/todo.texi.

	* doc/preview-readme.texi: Move here from preview/doc/readme.texi.

	* doc/preview-problems.texi: Move here from
	preview/doc/problems.texi.

	* doc/preview-faq.texi: Moved here from preview/doc/faq.texi.

	* doc/copying.texi, doc/preview-dtxdoc.pl, doc/preview-latex.texi:
	Moved here from preview/doc/.

2005-06-07  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-regexp-group-count): New function.
	(TeX-auto-parse-region): Rewrite to use hashes and to save overuse
	of `looking-at'.  We really should keep the relevant information
	complete in hashes instead of moving them forward and back between
	hashes and lists, but at least this change removes most of the
	really evil quadratic behavior while keeping the original API.
	Yet.

2005-06-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-fontify-sectioning): Doc fix.

	* doc/auctex.texi (Font Locking): Document the nature of the
	`color' option for `font-latex-fontify-sectioning'.

2005-06-06  David Kastrup  <dak@gnu.org>

	* configure.ac: Remove call of MAKEINFO_CHECK_MACROS: we expect a
	recent enough makeinfo version if you want to bootstrap, anyway.

2005-06-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-bar.el (TeX-bar-LaTeX-button-alist)
	(menu-strings-buttons-alist): help-echo functions are called with
	arguments.

2005-06-06  David Kastrup  <dak@gnu.org>

	* doc/Makefile.in (TEXINFOINCLUDES): Remove.
	(MAKEINFO_MACROS): Remove.

	* tex-buf.el (TeX-format-filter): Don't let match-data generate
	markers.  This is a terrible performance hog!
	(TeX-format-filter): Actually, we don't need to save any
	match-data inside of a filter function with current versions of
	Emacs and XEmacs.

2005-06-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/scrbase.el, style/scrbook.el, style/scrreprt.el: Use
	`sectioning' instead of `title' for sectioning fontification.

	* doc/changes.texi: Mention change of `title' to `sectioning' for
	keyword variables.

	* font-latex.el (font-latex-fontify-sectioning)
	(font-latex-built-in-keyword-classes)
	(font-latex-keyword-matcher): Use `sectioning' instead of `title'.
	(font-latex-deactivated-keyword-classes): New variable.
	Don't do extra quoting.
	(font-latex-make-built-in-keywords): Remove unnecessary `let'.
	Check `font-latex-deactivated-keyword-classes' in generated
	`font-latex-match-*-make' functions.

	* tex.el (TeX-quote-language-alist): Do not use `alist' widget
	because XEmacs 21.4 does not provide it.  Do not use a cons cell
	for opening and closing quotation marks in order to simplify
	structure.
	(TeX-quote-language): Describe structure as in
	`TeX-quote-language-alist'.
	(TeX-insert-quote): Adapt to new structure of `TeX-quote-language'
	and `TeX-quote-language-alist'.

	* doc/auctex.texi (European): Describe new structure of
	`TeX-quote-language-alist'.
	(Font Locking): Use `sectioning' instead of `title'.
	Describe deactivation of built-in keyword classes.

	* style/csquotes.el, style/czech.el, style/danish.el,
	style/german.el, style/italian.el, style/ngerman.el,
	style/slovak.el, style/swedish.el: Reflect new structure of
	`TeX-quote-language'.

2005-06-04  David Kastrup  <dak@gnu.org>

	* doc/Makefile.in (TEXINFOINCLUDES): macros.texi has moved here
	from ../preview/doc
	(../INSTALL, ../INSTALL.windows, ../README, ../CHANGES, ../TODO)
	(../FAQ): Change dependencies accordingly.

	* configure.ac: Rearrange checks for MAKEINFO.
	Export more stuff into preview's configure.  Maybe this is better
	done with use of caches?

	* autogen.sh: Don't look in preview subdirectory.

	* Makefile.in (configure): Depend on local aclocal.m4

2005-06-03  David Kastrup  <dak@gnu.org>

	* doc/Makefile.in (TEXINFOINCLUDES, TEXIFILES, ../INSTALL)
	(../INSTALL.windows, ../README, ../CHANGES, ../TODO, ../FAQ):
	Move ../preview/doc/macros.texi to here again.

2005-06-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (VirTeX-common-initialization): Explicitely make
	`find-file-hooks' buffer-local in XEmacs 21.4 which fails to do
	this via `add-hook'.

2005-06-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-backward-paragraph): Use catch..throw instead of
	an indicator variable.  Don't refer to a saved match data.
	Check for `TeX-esc', not specific char.

	* style/babel.el ("babel"): Disable font locking of macros not
	handled correctly.

2005-05-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/babel.el: New file.

	* Makefile.in: Add style/babel.el.

	* doc/changes.texi: Mention babel support.

2005-05-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-next-error): Call `next-error' as fallback.
	(TeX-previous-error): New function.

	* tex.el (TeX-mode-map): Remap bindings of `next-error' and
	`previous-error' to `TeX-next-error' and `TeX-previous-error'
	respectively.

2005-05-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-command-list): Remove chktex comment.

	* doc/auctex.texi (Checking): A user should not (have to) edit
	tex.el to switch from lacheck to chktex.

	* font-latex.el (font-latex-make-match-defun)
	(font-latex-make-built-in-keywords): Do not byte-compile generated
	functions here but at the end of font-latex.el.
	Prevents byte-compiler warnings due to possibly undefined functions.

2005-05-24  David Kastrup  <dak@gnu.org>

	* configure.ac: Recurse into preview _before_ starting any
	AC_SHELL_QUOTIFY business to avoid double quoting.

	* doc/tex-ref.tex (\title{RefTeX (long)})
	(\title{RefTeX (short)}): New columns.  One will have to go.

2005-05-22  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-PDF-mode): Use the standard minor mode function
	instead of redefining it.
	(TeX-PDF-mode-parsed): New function replacing the previous extra
	functionality in `TeX-PDF-mode'.
	(TeX-PDF-mode-on, TeX-PDF-mode-off): Warn in docstring.
	Use `TeX-PDF-mode-parsed'.

2005-05-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi, doc/wininstall.texi: Small corrections.

	* tex-bar.el (TeX-bar-LaTeX-button-alist): Reenable mode-specific
	images for View button.
	(LaTeX-install-toolbar): Add `toolbarx-refresh' to
	`TeX-PDF-mode-hook'.

	* tex.el (TeX-PDF-mode): Run `TeX-PDF-mode-hook'.

2005-05-21  David Kastrup  <dak@gnu.org>

	* autogen.sh: Remove argument to preview/autogen.sh

	* doc/install.texi: Integrate the installation instructions for
	preview-latex.

2005-05-20  David Kastrup  <dak@gnu.org>

	* doc/tex-ref.tex (section{Greek Letters}): Add \Xi.

2005-05-18  Ikumi Keita  <ikumi@revery.net>

	* style/amsmath.el (LaTeX-label-alist): Add "multline" environment.

	* Makefile.in:
	* configure.ac:
	* preview/Makefile.in: Change "==" to "=" in the argument of
	"test" for Bourne shell compatibility.

2005-05-19  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Rearrange to make suitable for standalone
	installation including preview-latex.  Adapt to a few
	changes (like tex-fptex and tex-mik not being in load-path by
	default).

2005-05-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-site.el.in (tex-site-unload-hook, TeX-modes): Do not use
	`dolist'.  Prevents console pop-ups with XEmacsen on Windows.

	* latex.el (LaTeX-fill-move-to-break-point): Check for
	`charset-after' to make non-MULE XEmacsen happy.
	Some reformatting.

2005-05-18  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-math-default): Add Xi (reported by Uli
	Fahrenberg).

2005-05-17  David Kastrup  <dak@gnu.org>

	* Makefile.in (EXTRAFILES): remove.  No longer needed.
	(auto-loads.el): Undo previous change.  Properly group statements.
	(install-el): Rewrite condition for some non-Posix shells.
	(install-metadata): Rewrite condition for non-Posix.
	(tar-ball): Change owner and group to root.  This is not portable,
	but will be needed only by the maintainers, anyway.
	(auto-loads.el): ignore errors also for braindead make.
	(install-metadata): Same here.
	(clean): Burp if cd doc fails.
	(distclean): Same here.
	(tar-ball): rewrite for braindead shells.
	(tar-ball): make sure doc exists.  Why do I bother, actually, the
	tarball target is not for public consumption, anyway.

2005-05-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (auto-loads.el): Don't stop on non-zero exit code.

2005-05-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-transient-master): New variable.
	(TeX-master-file): Use it.

	* tex-buf.el (TeX-command-sentinel): Bind `TeX-transient-master'.

2005-05-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-babel-hyphen): Doc fix.
	(LaTeX-common-initialization): Call `easy-menu-add' as late as
	possible.

2005-05-15  Ikumi Keita  <ikumi@revery.net>

	* Makefile.in (CLEANFILES): Add $(CONTRIBELC) and
	$(CONTRIB_MULEELC).
	(DISTCLEANFILES): Add auctex.el and auto-loads.el.
	(auto-loads.el): Add $(COMPILE_MULE)

2005-05-14  Ikumi Keita  <ikumi@revery.net>

	* style/amsopn.el:
	* style/amsmath.el: Move "mode"-like entries from amsopn.el to
	amsmath.el.

	* style/amsmath.el: Edit entries in TeX-add-symbols.
	Remove duplicate entry "raisetag".
	Add some new entries.
	Make arrow macros like "overleftarrows" to take argument.
	Remove accents macros like "Hat" because they are obsolate in
	amsmath v2.
	(LaTeX-item-list): Add "multline*", "matrix", "pmatrix",
	"bmatrix", "Bmatrix", "vmatrix" and "Vmatrix" environment.
	(LaTeX-label-alist): Remove "aligned" environment.

	* tex-style.el (LaTeX-amsmath-label): Fix doc.

	* latex.el: (LaTeX-math-default): Remove duplicate entry
	"nabla". Remove AMS Accents like "Hat" because they are obsolate
	in amsmath v2.
	(LaTeX-babel-hyphen): Fix doc.
	(LaTeX-common-initialization): Edit some entries in TeX-add-symbols.

2005-05-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Small corrections.

2005-05-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-make-overlay): Calculate priority before
	the overlay is instantiated.

	* font-latex.el (font-latex-match-command-with-arguments):
	Make XEmacs happy.

	* latex.el (LaTeX-fill-newline-hook): New hook.
	(LaTeX-fill-newline): Use it.

	* tex-fold.el (TeX-fold-keymap): Remove deprecated key bindings.
	(TeX-fold-region, TeX-fold-item): Use `TeX-fold-item-end'.  Do not
	compute display string (now done in `TeX-fold-hide-item').
	(TeX-fold-make-overlay): Do not mess with display string anymore.
	Thereby remove it from list of function arguments.
	(TeX-fold-item-end, TeX-fold-overfull-p)
	(TeX-fold-update-at-point): New functions.
	(TeX-fold-buffer-substring): Get 'display property instead of
	'TeX-fold-display-string which is not used anymore.
	(TeX-fold-hide-item): Computation of display string and faces as
	well as provisions for overfull lines are done only in this
	function now.  The 'display property is now set for XEmacs as
	well.
	(TeX-fold-mode): Add and remove `TeX-fold-update-at-point' to
	`LaTeX-fill-newline-hook' respectively.

	* tex.el (TeX-overlay-prioritize): Fix oversight in XEmacs version
	of the function.

2005-05-11  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Allow YYYYMMDD-a TAG for snapshots.

2005-05-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-set-syntactic-keywords): Don't freak
	out if there is whitespace in front of the \begin/\end pair of
	verbatim and verbatim-like environments.

	* latex.el (LaTeX-auto-cleanup): Discard only options which
	actually include a "=".

	* Makefile.in: Whitespace cleanup.

	* tex.el (TeX-overlay-prioritize): Fix calculation of priority for
	in-between overlay.
	(TeX-insert-quote): Insert TeX quote if point is just before math,
	comment, or verbatim content.

2005-05-11  David Kastrup  <dak@gnu.org>

	* doc/Makefile.in (TEXINFOINCLUDES): Add directory modifier
	TEXIPWD.  This is ugly.
	(html/auctex_toc.html): Use it.

	* Makefile.in (tar-ball): Make tar-ball from exporting, and allow
	for TAG being a date specification.
	(full-release): Omit release tag check.

2005-05-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-forward-comment): New function.
	Prevent infinite loops and repair regexp.
	Simplify.  Code mainly by David Kastrup.
	(font-latex-match-command-with-arguments): Use it.
	Set fontification start of optional argument to opening bracket.
	Apply restriction of region more globally.  Fix handling of
	multiple optional arguments.  Break if the end of the first
	mandatory argument could not be found.

2005-05-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-normal-mode): Ask for master file in 'shared case.

	* font-latex.el (font-latex-built-in-keyword-classes):
	Doc fix (typo).
	(font-latex-match-command-with-arguments): Set macro end before
	any comments.  Do not move forward over comments if point is over
	the limit.

2005-05-09  David Kastrup  <dak@gnu.org>

	* doc/Makefile.in (dist): Use DISTTEXTS instead of explicit list
	in this directory.

2005-05-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (VirTeX-common-initialization): Remove Emacs 20
	compatibility code.  Call `TeX-master-file' during load of shared
	files as well.

2005-05-06  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (DOCFILES): Remove macros.texi to make "tar-ball"
	work again.

2005-05-06  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-load-style): Fix typo `expand-filename'.

2005-05-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-local-master-p): Limit search.

	* doc/Makefile.in (TEXINFOINCLUDES): New variable used for file
	inclusion with makeinfo, texi2dvi and texi2pdf.
	(MAKEINFOINC): Remove.

	* doc/intro.texi (Introduction): Make package activation clearer.

2005-05-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/intro.texi (Introduction): Be consistent with the display of
	commands in the rest of the manual.

	* tex-fold.el (TeX-fold-mode): Improve doc string and add its
	first line to the autoload form.

2005-05-04  David Kastrup  <dak@gnu.org>

	* tex-fold.el (TeX-fold-mode): Change autoload cookie because of
	XEmacs.

2005-05-03  David Kastrup  <dak@gnu.org>

	* auctex.spec: First attempt

2005-05-02  David Kastrup  <dak@gnu.org>

	* doc/install.texi:

	* doc/intro.texi:

	* doc/wininstall.texi: overhaul.

	* autogen.sh: adapt to auto.texi scheme.

	* toolbar-x.el (toolbarx-install-toolbar): Remove overlong doc
	string from autoload.

	* tex-site.el.in (tex-site-unload-hook): Define to remove the
	after-load hooks and load-path entry.
	(TeX-modes-set): Use defalias instead of fset to allow unloading.

	* README.CVS: Change instructions.

2005-05-02  David Kastrup  <dak@gnu.org>

	* bib-cite.el: Revert 2005-04-19 change: autoloads are not
	extracted from CONTRIB packages.

2005-05-02  David Kastrup  <dak@gnu.org>

	* Makefile.in (tex-site.el.out, auctex.el, configure)
	(Makefile, config.status): Add targets to get reconfiguration if
	necessary.

	* style/url.el:

	* style/ltx-base.el:

	* style/units.el:

	* style/alltt.el:

	* style/alphanum.el:

	* style/jura.el:

	* style/emp.el:

	* style/doc.el:

	* style/slides.el:

	* style/csquotes.el:

	* style/listings.el:

	* style/nicefrac.el:

	* style/ltxdoc.el:

	* style/jurabib.el:

	* style/mdwlist.el:

	* style/amstex.el: Change maintainer address.

	* doc/intro.texi (Introduction): Changes, cleanup, corrections.

2005-05-01  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Prerequisites): Shorten.
	(Prerequisites): Mention that one can survive without texinfo.
	(Configure): Add prefix information.
	(Configure): Sync with preview-latex docs.  Mention the
	disable-preview option and preview-specific options.

	* configure.ac: Don't use have-preview macro.  Conflicts with the
	idea of pregenerated docs.

2005-05-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-match-defun)
	(font-latex-make-built-in-keywords): Byte-compile generated
	functions.

	* Makefile.in (clean, distclean): Descend.

2005-05-01  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-load-style): Properly expand file names, and fix a
	terrible order-of-arguments bug.

	* configure.ac: fix syntax error with MAKEINFO_MACROS

	* tex-site.el.in (TeX-mode-alist): Use correct file name for
	texinfo-mode.

	* Makefile.in (AUCSRC): Move tex-style.el before latex.el

	* configure.ac: Add have-preview to macros if we have preview
	enabled.

	* doc/Makefile.in (MAKEINFOINC): Use macros.texi in preview/doc
	directory.
	(auctex.dvi, auctex.pdf, auctex.info, ../INSTALL)
	(../INSTALL.windows, ../README, ../CHANGES, ../TODO, ../FAQ):
	Use MAKEINFOINC

	* doc/macros.texi: Remove in lieu of version in preview/doc.

	* doc/intro.texi (Introduction): Reorganize, use more of rawfile.
	Mention preview-latex.

	* tex-buf.el:

	* tex-fold.el:

	* tex-font.el:

	* tex-fptex.el:

	* tex-info.el:

	* tex-mik.el: Change maintainer to auctex-devel@gnu.org

2005-04-30  David Kastrup  <dak@gnu.org>

	* Makefile.in (install-metadata): Correct version number.
	(DESCEND): different quoting.
	(install): Same here.
	(install-metadata): Don't depend on some exit values.

	* configure.ac: substitute auctexstartfile.  Export auctexdir as
	`..'.
	If installing info into XEmacs package, disable install-info.
	If makeinfo is disabled, don't check for macros.

	* Makefile.in (auctexstartfile): autoconf variable.
	(subdirs): autoconf variable.
	(PACKAGE, PACKAGE_INFO): macros.
	(DESCEND): For rebuilding stuff and installing.
	(all): descend.
	(tex-site.el): don't include autoloads when XEmacs.
	(install): descend.
	(install-startup): new target
	(install-el): don't install tex-site on XEmacs.
	(install-el): don't fail on .nosearch not installed.
	(install-metadata): new target for XEmacs.

2005-04-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el: Remove `TeX-doc' for `ams-tex-mode'.

2005-04-29  David Kastrup  <dak@gnu.org>

	* auctex.el.in:

	* context.el:

	* latex.el:

	* tex-jp.el:

	* tex-site.el.in:

	* tex.el:

	*  tex-info.el: Remove TeX-doc.

	* tex-info.el (Texinfo-mode): Fix type in alias.

	* tex-site.el.in (tex-site): Provides are added by Makefile.
	Remove them here.

	* configure.ac: Generate tex-site.el.out instead of tex-site.el.

	* Makefile.in (AUTOLOAD): New form for autoloads from rest of line.
	(all): Make depend on tex-site.el
	(lisp): Depend on tex-site.el
	(tex-site.el, auto-loads.el): New targets.

2005-04-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-site.el.in (TeX-mode-alist): Exchange value and doc string.
	(TeX-modes-set): Check if mode is fbound.

	* doc/changes.texi: Mention changes in sectioning fontification.

	* doc/auctex.texi (Font Locking): Adjust to new sectioning
	fontification.

	* font-latex.el: Rename most *-title* stuff to *-sectioning*.
	Old names: font-latex-title-%s-face, font-latex-title-fontify,
	font-latex-update-title-faces, font-latex-make-title-faces
	font-latex-title-max.  New names: font-latex-sectioning-%s-face,
	font-latex-fontify-sectioning, font-latex-update-sectioning-faces,
	font-latex-make-sectioning-faces, font-latex-sectioning-max.
	(font-latex-fontify-sectioning): Fix typos in doc string.

2005-04-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (Development): New name replacing "ToDo".

	* doc/faq.texi, doc/todo.texi: Fix for raw output.

2005-04-28  David Kastrup  <dak@gnu.org>

	* tex-site.el.in (TeX-doc): Use AUCTeX-version.

	* configure.ac: fiddle with relative paths.

	* Makefile.in: several changes to buld structure.

	* auctex.el.in (TeX-doc): Startup file source.

	* doc/wininstall.texi:

	* doc/intro.texi:

	* doc/install.texi:

	* doc/faq.texi:

	* doc/changes.texi: Make the stuff compile cleanly.

	* doc/Makefile.in (DISTTEXTS): list plain text files in parent dir.
	(.PHONY): everything needed here.
	(auctex.info): don't ignore errors.
	(../INSTALL, ../INSTALL.windows, ../README, ../CHANGES)
	(../TODO, ../FAQ, disttexts): New targets.
	(INSTALL, INSTALL.windows, README, CHANGES, HISTORY, TODO, FAQ):
	Remove.
	(clean): Don't remove files in this directory.
	(maintainer-clean): New target, removes files in parent, too.

	* autogen.sh: Create info files and distribution texts like
	preview-latex does, and recurse into preview directory to do the
	same.

2005-04-27  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-lisp-directory, TeX-auto-global):
	Don't `file-name-as-directory'fy.
	(TeX-style-global, TeX-auto-local, TeX-style-local)
	(TeX-macro-global, TeX-macro-private): Same here.
	(TeX-auto-private): Use expand-file-name.
	(TeX-style-private): Same here.
	(TeX-check-path): Same.
	(TeX-load-style): Adapt.

	* tex-buf.el (TeX-check-files): Be robust against non-slashed
	directory names.
	(TeX-ispell-document): Same here.

	* tex.el (AUC-TeX-version, AUC-TeX-date):
	Protect `make-obsolete-variable' against obsolete Emacsen.

2005-04-28  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/changes.texi: Mention the fix of Japanese fill problems.

2005-04-27  David Kastrup  <dak@gnu.org>

	* configure.ac: Correct bug reporting address and move stuff over
	from preview.
	* aclocal.m4: remove, we want the one in preview instead.

	* tex-site.el.in (AUCTeX-version, AUCTeX-date): get via configure.

	* tex.el (info): Add "docTeX" to info prefixes.
	(AUCTeX-version, AUCTeX-date): removed to tex-site.el.
	(AUC-TeX-version, AUC-TeX-date): Use `make-obsolete-variable'.
	Is version 11.50 correct?

	* tex-bar.el (LaTeX-install-toolbar): Adjust toolbarx-image-path.

	* autogen.sh: Use aclocal.m4 from preview subdirectory.

	* tex.el (TeX-submit-bug-report): Add `TeX-command-list' to bug
	reports.

2005-04-23  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-command): Let it accept `TeX-active-master' as
	well, by not touching `TeX-current-process-region-p' unless
	`TeX-region-file' or `TeX-master-file' have been identified
	explicitly.
	(TeX-view): Simplify.
	(TeX-active-process, TeX-active-buffer): Simplify.

2005-04-22  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-help-error): Create the correct log file
	name corresponding to the current run.
	(TeX-error, TeX-warning): Pass runbuffer info into the routines to
	get the correct log file name in all circumstances.

2005-04-20  David Kastrup  <dak@gnu.org>

	* configure.ac: don't bother about pre-2.50 autoconf.
	Check version more fine-grainedly.

2005-04-19  David Kastrup  <dak@gnu.org>

	* texmathp.el (texmathp-match-switch): Add autoload cookie.

	* tex.el (no-doc): Remove: not needed because autoloads are
	documented by the cookie extraction process.
	(bibtex-mode-hook): Remove.  This will be done by an autoload
	cookie from latex.el instead.
	(BibTeX-auto-store, LaTeX-math-mode, japanese-plain-tex-mode)
	(japanese-latex-mode, texinfo-mode, latex-mode, multi-prompt)
	(texmathp, texmathp-match-switch): Remove autoloads since this is
	done by cookies extracted into auctex.el.
	(TeX-region-create, TeX-save-document, TeX-home-buffer)
	(TeX-pin-region, TeX-command-region, TeX-command-buffer)
	(TeX-command-master, TeX-command, TeX-kill-job)
	(TeX-recenter-output-buffer, TeX-next-error)
	(TeX-toggle-debug-boxes, TeX-region-file, TeX-current-offset)
	(TeX-process-set-variable, TeX-view): Make comment nil instead of
	no-doc.
	(font-latex-setup, tex-font-setup): Remove autoloads.  Should be
	done by cookies instead.
	(TeX-tex-mode): rename from tex-mode.
	(TeX-plain-tex-mode): rename from plain-tex-mode.
	(ams-tex-mode): Change autoload cookie.

	* tex-jp.el (japanese-plain-tex-mode, japanese-latex-mode):
	Change autoload cookies.

	* tex-font.el (tex-font-setup): Add autoload cookie.

	* tex-fold.el (TeX-fold-mode, tex-fold-mode): Add autoload
	cookies.

	* multi-prompt.el (multi-prompt): Add autoload cookie.

	* latex.el (auto-mode-alist): Add .drv to latex-mode.
	(TeX-latex-mode): Change name from latex-mode.
	(TeX-doctex-mode): Same here for doctex-mode.  Explicitly set
	major-mode to doctex-mode: we don't want different modes.

	* tex-info.el (texinfo): Alias texinfo-mode to Texinfo-mode for
	symmetry.
	(Texinfo-mode): Autoload.

	* context.el (ConTeXt-mode, context-mode): Add definitions and
	aliases and autoload cookies.

	* bib-cite.el: Remove autoload from instructions.

	* toolbar-x.el (toolbarx-image-path): New variable.
	(toolbarx-make-string-from-symbol)
	(toolbarx-make-symbol-from-string, toolbarx-good-option-list-p)
	(toolbarx-separate-options, toolbarx-merge-props)
	(toolbarx-make-command, toolbarx-emacs-mount-popup-menu)
	(toolbarx-xemacs-mount-popup-menu, toolbarx-mount-popup-menu)
	(toolbarx-option-value, toolbarx-eval-function-or-symbol)
	(toolbarx-test-image-type, toolbarx-test-button-type)
	(toolbarx-test-any-type, toolbarx-test-string-or-nil)
	(toolbarx-test-toolbar-type, toolbarx-test-dropdown-type)
	(toolbarx-test-symbol, toolbarx-test-dropdown-default)
	(toolbarx-test-dropdown-save)
	(toolbarx-process-group-without-insert, toolbarx-process-group)
	(toolbarx-process-symbol, toolbarx-process-dropdown-group)
	(toolbarx-find-image, toolbarx-emacs-add-button)
	(toolbarx-emacs-refresh-process-button-or-insert-list)
	(toolbarx-emacs-refresh, toolbarx-xemacs-image-properties)
	(toolbarx-xemacs-button-properties, toolbarx-xemacs-refresh):
	Remove autoload cookies.
	(toolbarx-find-image): Use `toolbarx-image-path'.

2005-04-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-update-title-faces): Remove unused
	variable.  Don't call when loading the file.
	(font-latex-title-fontify): Document that faces set outside of
	customize might be modified.
	(font-latex-make-title-faces): Set height or size so that
	customize won't complain.

2005-04-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-interactive-goto-prompt): New function.
	(TeX-run-interactive): Use it instead of setting
	`comint-scroll-to-bottom-on-output'.  Use `add-hook'.

2005-04-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-update-title-faces): Do not touch
	customized faces.
	(font-latex-title-fontify): Use `custom-initialize-default'.
	(font-latex-make-title-faces): Check for value of `saved-face'
	property for determining face customization.

	* tex.el (TeX-find-macro-boundaries): Reimplement.  Now handles
	\foo{\bar}{ba-!-z} case correctly.
	(TeX-find-macro-start-helper): Remove.

2005-04-22  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-make-title-faces): Define the face,
	don't set size.  Set parent/inherit conditionally.
	(font-latex-update-title-faces): New function.
	(font-latex-title-fontify): Add :initialize and :set.
	Using `font-latex-update-title-faces' allows changing the height within
	an Emacs session.
	(font-latex-title-5-face): Rename from title-4-face.
	(font-latex-built-in-keyword-classes): Use title-0 and title-5
	faces.

2005-04-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-run-interactive): Make output buffer scroll.

2005-04-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-region): Get rid of \_> for matching
	macros.  It prevents macros immediately followed by numbers from
	being found.

2005-04-17  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/amsmath.el (LaTeX-item-equation): just-one-space before
	`\\' at the end of line.

2005-04-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/harvard.el ("harvard"): Activate harvard citation format
	in RefTeX.

2005-04-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-force-fontify): New variable.
	(TeX-fold-buffer): Use it.  Make sure the buffer is fontified
	before folding is done.

	* doc/auctex.texi (Folding): Mention `TeX-fold-force-fontify'.

	* doc/changes.texi: Mention `TeX-fold-force-fontify'.

2005-04-14  Ikumi Keita  <ikumi@revery.net>

	* style/amsmath.el: Fix comment.
	("amsmath"): Remove duplicate settings of "alignat*" and
	"xalignat*" from LaTeX-add-environments.  Add "xalignat",
	"xalignat*", and "xxalignat" to LaTeX-item-list.
	(LaTeX-amsmath-env-alignat): Do not ask label if the tail of ENV
	is "*".

2005-04-14  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Refactoring.
	Set third argument of re-search-backward to 'move instead of using
	skip-chars-backward.

2005-04-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-math-abbrev-prefix): Offer only string type for
	customization.  Add proper :initialize and :set functions to allow
	the value to be changed without having to restart Emacs.

	* doc/auctex.texi (Mathematics): Document only the string-nature
	of `LaTeX-math-abbrev-prefix'.

2005-04-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-math-abbrev-prefix): Can now be a string to be
	used with `kbd'.
	(LaTeX-math-abbrev-prefix): New function.
	(LaTeX-math-keymap, LaTeX-math-mode): Use it.

	* doc/auctex.texi (Mathematics):
	Explain `LaTeX-math-abbrev-prefix' more verbosely.

2005-04-12  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-site.el.in (TeX-lisp-directory): Avoid open-parenthesis at
	beginning of a line.

	* tex-style.el (LaTeX-beamer-inner-themes)
	(LaTeX-beamer-outer-themes, LaTeX-beamer-color-themes)
	(LaTeX-beamer-font-themes): New variables for style/beamer.el.

	* style/beamer.el (LaTeX-arg-beamer-inner-theme)
	(LaTeX-arg-beamer-outer-theme, LaTeX-arg-beamer-color-theme)
	(LaTeX-arg-beamer-font-theme): New functions.

2005-04-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-parse-argument): Another stab at fixing this
	function.  The last change from 2005-03-23 broke the insertion of
	macros like \footnote with a marked region.  This is pure
	guesswork.  *sigh*

	* latex.el (LaTeX-section-heading): Shorten prompt.
	(LaTeX-section-title): Simplify.  Shorten prompt.
	(LaTeX-auto-minimal-regexp-list): "\" and "." are not special in a
	complemented character alternative.
	(LaTeX-math-keymap): Define key for prefix insertion inside
	defvar.
	(math): Use `LaTeX-math-keymap' only.
	(LaTeX-math-mode-menu): Use `LaTeX-math-mode-map' (defined by
	`define-minor-mode').
	(LaTeX-math-mode): Assign `LaTeX-math-keymap' to
	`LaTeX-math-abbrev-prefix'.  Use `LaTeX-math-mode-menu' with
	`LaTeX-math-mode-map'.
	(LaTeX-math-insert-prefix): Remove.

2005-04-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-match-command-with-arguments):
	Skip over comments as well as whitespace.

	* tex.el (TeX-output-extension): Default to nil.

2005-04-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-output-extension): Set correct default depending on
	the value of `TeX-PDF-mode'.
	(TeX-output-extension): Revert.
	(VirTeX-common-initialization): Set `TeX-output-extension' here.

2005-04-05  Christian Schlauer  <cschl@arcor.de>

	* tex.el (TeX-submit-bug-report): Fix typo in doc string, fill doc
	string.

	* latex.el: Change maintainer address.
	(LaTeX-section): Fix typo in doc string.  Remove code that almost
	always inserts a new line.
	(LaTeX-section-section): Fix doc string.  Add code that
	conditionally inserts a new line (which also bundles the
	modification of the buffer in this function).
	(LaTeX-section-hook): Fix typo in doc string.
	(LaTeX-default-position): Use `do not' instead of `don't' in doc
	string and customize value menu (as in `LaTeX-float).
	(LaTeX-item-list): Fix typo in doc string.

2005-04-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-PDF-mode, TeX-interactive-mode, TeX-Omega-mode):
	Set customization group.

	* latex.el (LaTeX-math-default): New entry and key for \colon.
	New "Punctuation" category.  Get rid of some entries in
	"delimiters" category already defined in "Arrows".  Get rid of
	"delimiters" category and merge entries defined there into
	"Delimiters.".
	(LaTeX-math-menu): Remove "delimiters" and add "Punctuation".

2005-04-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-user-keywords): Make XEmacs
	happy.

	* doc/changes.texi: Fix @xref.

	* doc/auctex.texi (Quotes): Fix @xref.
	(European): Be more verbose.

	* tex-info.el (texinfo-mode): Get rid of hyphens in prompts.
	Add @xref command.

	* latex.el (LaTeX-babel-hyphen, LaTeX-babel-hyphen-after-hyphen):
	Doc fix.
	(LaTeX-babel-hyphen-language-alist): Use t as default value for
	insertion behavior.

	* tex.el (TeX-quote-language-alist): Use t as default value for
	insertion behavior.

	* doc/auctex.texi: New tag line.
	(Quotes): Replace description about (n)german.sty-specific quote
	insertion by a generalized one and refer to section about European
	languages.
	(European): Add subsections.  Add information about new
	functionality and customization options for language-specific
	quote and hyphen insertion.
	(Folding): Add information about help echo.
	(Viewing): Add subsection heading.  A single one does not really
	make sense.

	* doc/changes.texi: Add some news.

2005-04-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-help-echo-max-length): New variable.
	Add :type and :group specs.
	(TeX-fold-make-help-echo): New function.
	No space before ellipsis.
	Okay, color does not look too bad.
	(TeX-fold-make-overlay): Use it.
	Remove call to `TeX-fold-make-help-echo' again as we have to
	recompute the string anyway.
	(TeX-fold-hide-item): Set help-echo property.
	Recompute help echo string.
	(TeX-fold-show-item): Invalidate help-echo property.

2005-04-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/faq.texi (Frequently Asked Questions About AUCTeX):
	Minor enhancements in wording.

	* tex.el (TeX-open-quote, TeX-close-quote)
	(TeX-quote-after-quote): Doc fix.
	(TeX-quote-language-alist, TeX-quote-language): New variables.
	(TeX-insert-quote): Use them.
	(TeX-submit-bug-report): Doc fix.

	* latex.el (LaTeX-mode-map): Map "-" to
	`LaTeX-babel-insert-hyphen'.
	(LaTeX-babel-hyphen, LaTeX-babel-hyphen-after-hyphen)
	(LaTeX-babel-hyphen-language-alist, LaTeX-babel-hyphen-language):
	New variables.  (Moved from tex-style.el and style/german.el
	respectively and generalized.)
	(LaTeX-babel-insert-hyphen): New function.  (Moved from
	syle/german.el).

	* tex-style.el (LaTeX-csquotes-open-quote)
	(LaTeX-csquotes-close-quote): Doc fix.
	(LaTeX-german-quote-after-quote, LaTeX-german-open-quote)
	(LaTeX-german-close-quote, LaTeX-german-hyphen)
	(LaTeX-german-hyphen-after-hyphen): Remove.

	* style/csquotes.el ("csquotes"): Use `TeX-quote-language'.

	* style/italian.el (LaTeX-italian-open-quote)
	(LaTeX-italian-close-quote): Remove.
	("italian"): Use `TeX-quote-language'.

	* style/ngerman.el (LaTeX-german-quote-after-quote)
	(LaTeX-german-open-quote, LaTeX-german-close-quote): Remove.
	("ngerman"): Use `TeX-quote-language' and
	`LaTeX-babel-hyphen-language'.

	* style/german.el: Move definition of "-" key to latex.el.
	(LaTeX-german-hyphen-internal): Move to latex.el as
	`LaTeX-babel-hyphen-language'.
	(LaTeX-german-insert-hyphen): Move to latex.el as
	`LaTeX-babel-insert-hyphen'.
	("german"): Use `TeX-quote-language' and
	`LaTeX-babel-hyphen-language'.

	* style/czech.el, style/danish.el, style/slovak.el,
	style/swedish.el: Use `TeX-quote-language' and
	`LaTeX-babel-hyphen-language' where appropriate.

2005-03-31  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/faq.texi (Frequently Asked Questions About AUCTeX):
	Add general information about how to deal with bugs.  Adapt version
	numbers for Emacs.

2005-03-31  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Skip non-space chars
	backward if re-search-backward does not find white spaces or
	LaTeX-nospace-between-char-regexp.  Add mule check before line
	break between 2-byte and 1-byte chars.
	Reported by Ikumi Keita <ikumi@revery.net>.
	Do not move point if re-search-backward didn't find proper line
	break point.

2005-03-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-submit-bug-report): Insert AUCTeX version into mail
	subject.

2005-03-30  Ikumi Keita  <ikumi@revery.net>

	* latex.el (LaTeX-env-label): Remove `TeX-toggle-off-input-method'
	because `TeX-math-input-method-off' is already called in
	`LaTeX-insert-environment'.

2005-03-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-style.el (LaTeX-german-hyphen): Doc fix.  Fix :type.

	* style/german.el (LaTeX-german-insert-hyphen): Do not add "=
	repeatedly but stick to - after the first swapping.

2005-03-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/german.el (LaTeX-mode-map): Bind `-' to
	`LaTeX-german-insert-hyphen'.
	(LaTeX-german-quote-after-quote, LaTeX-german-open-quote)
	(LaTeX-german-close-quote): Move to tex-style.el.
	(LaTeX-german-hyphen-internal): New variable.
	(LaTeX-german-insert-hyphen): New function.
	("german"): Set `LaTeX-german-hyphen-internal'.

	* tex-style.el (LaTeX-german-quote-after-quote)
	(LaTeX-german-open-quote, LaTeX-german-close-quote): Move here
	from style/german.el.
	(LaTeX-german-hyphen, LaTeX-german-hyphen-after-hyphen):
	New variables.

	* doc/auctex.texi (Font Locking): References are now fontified
	with `font-lock-constant-face' because `font-lock-reference-face'
	is deprecated.

	* font-latex.el: Change maintainer address.
	(font-latex-quotes, font-latex-make-built-in-keywords)
	(font-latex-user-keyword-classes): Doc fix.  (Mention that setting
	the variable directly does not take effect.)
	(font-latex-make-match-defun, font-latex-make-built-in-keywords)
	(font-latex-make-user-keywords): Doc strings of generated
	variables and functions now refer to the creating functions.
	(font-latex-warning-face, font-latex-sedate-face)
	(font-latex-italic-face, font-latex-bold-face)
	(font-latex-math-face, font-latex-string-face)
	(font-latex-verbatim-face, font-latex-superscript-face)
	(font-latex-subscript-face, font-latex-title-1-face)
	(font-latex-title-2-face, font-latex-title-3-face)
	(font-latex-title-4-face): Remove these face variables.
	(font-latex-title-fontify): Remove :set function.
	(font-latex-built-in-keyword-classes):
	Use `font-lock-constant-face' instead of `font-lock-reference-face'
	because the latter is deprecated in Emacs (and only an alias for
	the former which will not work if the quoted face name is used).
	Use new `title' specifier as type of keyword for the titling
	keywords and mention it in the doc string.
	(font-latex-keyword-matcher): Quote face specifiers in any case.
	(font-latex-make-user-keywords)
	(font-latex-syntactic-face-function): Quote face specifiers.
	(font-latex-setup): Remove obsolete method for fontifying strings
	or math respectively.

2005-03-28  David Kastrup  <dak@gnu.org>

	* tex.el: Change maintainer address.
	(TeX-submit-bug-report): Change bug reporting address.

	* doc/wininstall.texi: Change contact info.

	* doc/intro.texi (Introduction): Change contact info.

	* doc/auctex.texi (top): Change contact info.

2005-03-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-match-simple-command): New function.
	(font-latex-make-user-keywords): Use it instead of specifying the
	regexp directly.  Prevents stuff like "\foo\foo\foo\foo" from
	being fontified like a zebra.
	(font-latex-match-command-with-arguments): Check for limit when
	looking at optional and mandatory arguments.  Prevents an infinite
	loop in XEmacs when typing the "n" of \begin in "\begi\n[foo]".
	(font-latex-user-keyword-classes): Specify a default value for the
	list.

2005-03-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (AUCELC): Derive from AUCSRC.
	(STYLEELC, CLEANFILES, DISTCLEANFILES, DISTTEXTS): New variables.
	(some): Use STYLEELC.
	(clean): Use CLEANFILES.
	(distclean): Use CLEANFILES and DISTCLEANFILES.  Call distclean
	target in doc directory.
	(maintainer-clean, extraclean): New targets.

2005-03-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-parse-argument): Deactivate mark after insertion of
	first mandatory argument.  Fixes insertion of braces at wrong
	places for multi-argument macros like \parbox and \multicolumn.
	See also change from 2004-12-01 which obviously did not suffice.

2005-03-22  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Prevent line break
	between 2-byte char an 1 byte-char.

	* latex.el (LaTeX-fill-move-to-break-point): Do not skip
	LaTeX-nospace-between-char-regexp.
	Reported by Ikumi Keita <ikumi@revery.net>.

2005-03-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-buffer-substring): Better safe than sorry.

2005-03-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-title-faces): According to
	upstream `font-size' is likely to vanish.  So back to
	`face-height' but scale it down a bit to better match actual font
	size.

2005-03-17  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-overlay-priority-step): New variable, previously in
	tex-fold.el under different name.
	(TeX-overlay-prioritize): new function in Emacs and XEmacs
	variants.

	* tex-fold.el (TeX-fold-make-overlay): Use `TeX-overlay-prioritize'.
	(TeX-fold-priority-step, TeX-fold-prioritize): Rename and moved
	to tex.el.

	* tex-buf.el (TeX-region-create):
	Transfer `buffer-file-coding-system' from master buffer to region.

2005-03-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-section-list-add-locally)
	(LaTeX-largest-level-set): New functions.
	(LaTeX-add-environments): Invalidate menu variables instead of
	setting `LaTeX-menu-changed'.
	(LaTeX-section-menu-entry): Do not enable symbol.
	(LaTeX-section-menu-create, LaTeX-menu-changed)
	(LaTeX-menu-update): Remove.
	(LaTeX-section-menu, LaTeX-environment-menu)
	(LaTeX-environment-modify-menu): New variables.
	(LaTeX-section-menu-filter, LaTeX-environment-menu-filter):
	New functions.
	(LaTeX-mode-menu): Use them.
	(LaTeX-common-initialization): Move setting of
	`LaTeX-largest-level' upwards because it is needed when the menu
	is being generated.  Do not use `activate-menubar-hook' and
	`activate-popup-menu-hook' anymore.

	* tex.el (VirTeX-common-initialization): Force update of style
	information.

	* style/scrreprt.el, style/scrbook.el, style/scrbase.el,
	style/scrartcl.el, style/report.el, style/jsbook.el,
	style/jsarticle.el, style/jreport.el, style/jbook.el,
	style/jarticle.el, style/j-report.el, style/j-book.el,
	style/j-article.el, style/book.el, style/article.el,
	style/alphanum.el: Use new functions for setting
	`LaTeX-largest-level' or `LaTeX-section-list' respectively.

2005-03-16  Ikumi Keita  <ikumi@revery.net>

	* latex.el (LaTeX-fill-move-to-break-point): Limit the max number
	of characters to look backward for `TeX-looking-at-backward'.

2005-03-16  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-nospace-between-char-regexp): Change from
	defcustom to defvar.

2005-03-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-title-faces): Deal with the case
	that `font-size' returns a number.  Or nil.

	* tex.el (TeX-view-style): Remove support for "a4" and "a5".

2005-03-14  David Kastrup  <dak@gnu.org>

	* latex.el (docTeX-indent-inner-fixed)
	(LaTeX-indent-calculate-last): Add support for macrocode*, macro*,
	environment and environment* environment.

2005-03-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* context.el (ConTeXt-indent-item-re): Do not treat
	\setup... commands like \item.

2005-03-14  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-fold.el (TeX-fold-prioritize): Cater for preview-latex.

2005-03-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-paragraph-commands-regexp-make): New function.
	(LaTeX-paragraph-commands-regexp, LaTeX-paragraph-commands):
	Use it.
	(LaTeX-paragraph-commands-add-locally): New function.

	* style/beamer.el ("beamer"): Use it.  Newline not needed anymore
	because \frametitle is now a paragraph command and will not be
	filled together with the other content.

	* context.el (ConTeXt-find-indent): Correct indentation of
	environments.

	* latex.el (LaTeX-fill-region-as-para-do):
	Use `remove-text-properties' instead of
	`remove-list-of-text-properties' because the latter is not
	available in Emacs 21.

2005-03-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/beamer.el ("beamer"): Find the correct start of
	environment in case a frame environment is inserted with point on
	a non-empty line.  Insert an additional newline to set off title
	and content.

	* font-latex.el (font-latex-make-title-faces): Use `font-size'
	instead of `face-height' to determine the font size because the
	latter (as the sum of the face's ascent and descent) returns
	inappropriate values.  Suggested by Steven E. Harris
	<seh@panix.com>.

2005-03-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-comment-prefix): New function.

	* latex.el (LaTeX-current-environment, LaTeX-find-matching-end)
	(LaTeX-find-matching-begin): Rather than using the start or end of
	a commented region as a boundary, look further for other commented
	regions with the same prefix possibly containing an environment
	start or end respectively.
	(LaTeX-mode-menu): An empty help string is useless and may lead to
	an empty tooltip.

2005-03-09  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/amsmath.el ("amsmath"): Fix typo: "dotssc" -> "dotsc".
	Added symbol "dots" and "dotsi".

	* latex.el (LaTeX-insert-environment):
	Call `TeX-math-input-method-off'.
	* style/amsmath.el (LaTeX-amsmath-env-alignat)
	(LaTeX-amsmath-env-aligned): Do not call
	`TeX-math-input-method-off' from here.
	Reported by Ikumi Keita <ikumi@revery.net>.

2005-03-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-current-environment): Doc fix.

	* font-latex.el (font-latex-make-built-in-keywords): Make doc
	string of `font-latex-match-*-keywords' more clear.

2005-03-08  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-toggle-off-input-method): Turn off input method iff
	`current-input-method' starts one of "chinese", "japanese", and
	"korean".  Use `inactivate-input-method' instead of
	`toggle-input-method'.  Doc fix.
	Suggested by Ikumi Keita <ikumi@revery.net>.

2005-03-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-style.el: New file.  defcustoms for style/*.el should go
	here.

	* latex.el (LaTeX-includegraphics-extensions)
	(LaTeX-includegraphics-options-alist)
	(LaTeX-includegraphics-strip-extension-flag)
	(LaTeX-includegraphics-read-file, LaTeX-beamer-themes): Move to
	tex-style.el.
	(tex-style): Require.

	* style/amsmath.el (LaTeX-amsmath-label): Move to tex-style.el.

	* style/beamer.el: Remove install instructions.  Won't work
	properly outside current AUCTeX anymore.  Removed CVS Id.
	(LaTeX-beamer-section-labels-flag)
	(LaTeX-beamer-item-overlay-flag): Move to tex-style.el.

	* style/csquotes.el (LaTeX-csquotes-quote-after-quote)
	(LaTeX-csquotes-open-quote, LaTeX-csquotes-close-quote): Move to
	tex-style.el.

	* style/emp.el (LaTeX-write18-enabled-p):  Move to tex-style.el.

	* Makefile.in (AUCSRC): Add tex-style.el.

2005-03-07  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-TeX-command-list)
	(japanese-TeX-error-messages): Change from defvar to defcustom.

2005-03-06  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/auctex.texi (I18n): Comment fix.

	* latex.el: Set fill-space nonsticky.
	(LaTeX-fill-delete-newlines): Check text property 'fill-space.

2005-03-04  David Kastrup  <dak@gnu.org>

	* Organizational: preview-latex development has been moved from
	<URL:http://sourceforge.net/projects/preview-latex> into the
	AUCTeX CVS Archive on
	<URL:http://savannah.gnu.org/projects/auctex> in subdirectory
	auctex/preview.

2005-03-04  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (I18n): Try to make text more clear.

	* style/beamer.el (LaTeX-beamer-search-themes)
	(LaTeX-arg-beamer-theme): New functions adding completion for
	\usetheme.

	* latex.el (LaTeX-beamer-themes): New variable.

2005-03-05  Ikumi Keita  <ikumi@revery.net>  (tiny change)

	* tex-jp.el (japanese-TeX-command-list): Doc fix.

2005-03-03  Ikumi Keita  <ikumi@revery.net>

	* tex.el (TeX-macro-global-internal): New function.
	(TeX-macro-global): Use it.
	(TeX-kpathsea-format-alist): Remove duplicate line.

	* tex-jp.el: Use `TeX-macro-global-internal' and append path for
	Japanese TeX into TeX-macro-global.  Do not override
	`TeX-expand-list', no more.
	(japanese-TeX-command-list): Add :help string.
	Change `TeX-run-LaTeX' to `TeX-run-TeX'.
	(japanese-TeX-command-default, japanese-LaTeX-command-default):
	Quote symbol TeX-command in doc string.

2005-03-03  Thomas Baumann  <thomas.baumann@ch.tum.de>

	* style/beamer.el (LaTeX-beamer-item-overlay-flag): New variable.
	Used for controling the insertion of overlays in
	`LaTeX-item-beamer'.
	(LaTeX-item-beamer): Use it.

2005-03-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (I18n): Fix some markup errors.

2005-03-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-title-faces)
	(font-latex-title-4-face): Use yellow on terminals with dark
	background and blue4 on terminals with light background.

2005-03-02  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/auctex.texi (Floats): Document `LaTeX-top-caption-list'.

2005-03-01  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/auctex.texi (I18n): Revised.

2005-02-28  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (TeX-japanese-process-input-coding-system)
	(TeX-japanese-process-output-coding-system): Fix comment.

2005-02-27  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Cater for kinsoku,
	especially for Japanese.

2005-02-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-common-initialization): Update LaTeX menu when a
	popup menu in XEmacs is opened.

2005-02-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* bib-cite.el: Some doc fixes in the commentary section.

2005-02-23  Ikumi Keita  <ikumi@revery.net>  (tiny change)

	* doc/auctex.texi (I18n): Remove FIXME comment.

2005-02-22  Ikumi Keita  <ikumi@revery.net>  (tiny change)

	* latex.el (LaTeX-fill-delete-newlines): Call search-forward,
	which is copied from `fill-delete-newlines', with BOUND TO.

2005-02-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (Japanese): Fix bogus macro.

2005-02-21  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/auctex.texi (Japanese): Doc fix.
	Suggested by Ikumi Keita <ikumi@revery.net>.

2005-02-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-nth-arg): Doc fix.
	Do not skip more than one closing brace backwards.
	Use `TeX-fold-buffer-substring'.
	(TeX-fold-prioritize): Doc fix.
	(TeX-fold-buffer-substring): New function.
	Do not use `dolist' which uses an unwanted local binding of the
	list variable.

2005-02-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-current-environment): New variable.
	(LaTeX-indent-calculate, LaTeX-fill-region-as-para-do): Use it.
	Improves filling performace by caching current environment.

2005-02-19  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (TeX-japanese-process-input-coding-system):
	Remove garbage code.
	Reported by Ikumi Keita <ikumi@revery.net>.

	* latex.el (LaTeX-nospace-between-char-regexp): New variable.
	(LaTeX-fill-delete-newlines): Use it.
	(LaTeX-fill-move-to-break-point): Ditto.  Fix comment.

2005-02-18  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-delete-newlines): New function.
	(LaTeX-fill-region-as-para-do): Use it.

2005-02-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-set-syntactic-keywords): Give an
	escape char at the end of a verbatim construct punctuation syntax.
	Prevents wrong fontification of stuff like "\verb|foo\|".

2005-02-16  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (TeX-after-start-process-function): Remove code for
	XEmacs.  `set-process-coding-system' is available in XEmacs 21.1.
	(TeX-japanese-process-input-coding-system)
	(TeX-japanese-process-output-coding-system): Change from defvar to
	defcustom.  Use `default-process-coding-system'; Old XEmacs
	doesn't have the variable?
	Suggested by Ikumi Keita <ikumi@revery.net>.

2005-02-15  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-move-to-break-point): Simplify.
	(LaTeX-fill-region-as-para-do): Cater for the situation where
	there is a line ending with Japanese characters and the following
	line starts with a non-Japanese character.

2005-02-14  David Kastrup  <dak@gnu.org>

	* aclocal.m4 (AC_LISPIFY_DIR): new function.
	(AUCTEX_AUTO_DIR): Use it.

	* tex-site.el.in (TeX-lisp-directory, TeX-auto-global):
	put autoconfed expression on a line of its own.

2005-02-14  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-fill-region-as-para-do): Get rid of a space at
	eol if the last character of the line is Japanese (e.g. short
	Japanese lines).
	(LaTeX-fill-move-to-break-point): Do not skip characters if the
	text is written in Japanese (e.g. long Japanese line).
	Reported by Ikumi Keita <ikumi@revery.net>.

2005-02-14  Ikumi Keita  <ikumi@revery.net>  (tiny change)

	* tex-jp.el (LaTeX-auto-regexp-list):
	Use `LaTeX-auto-class-regexp-list'.

2005-02-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (Texinfo-environment, Texinfo-modify-environment):
	New functions.
	(Texinfo-insert-environment): Not interactive anymore as it is now
	called by `Texinfo-environment'.
	(Texinfo-mode-map): `C-c C-e' now calls `Texinfo-environment'.

2005-02-12  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-add-local-master): Insert "japanese-" before mode
	name if buffer local variable `japanese-TeX-mode' is non-nil.
	Suggested by Ikumi Keita <ikumi@revery.net>.
	(japanese-slitex-mode): Remove obsolete autoload of slitex.

	* doc/auctex.texi (Japanese): Doc fix to follow the latest
	tex-jp.el.

2005-02-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-find-macro-boundaries): Return an alist instead of a
	list.
	(TeX-find-macro-end): With `TeX-find-macro-boundaries' returning
	an alist `cdr' is now sufficient.
	(TeX-find-macro-end-helper): Save match data.
	(TeX-font-replace-macro): Use `TeX-find-macro-end' instead of
	`forward-sexp'.  Fixes errors e.g. when trying to remove the font
	spec of a string like "\textbf{(}".

2005-02-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-env-figure): Make function aware of active
	selections.  There are still some indentation issues left.

	* style/epsf.el ("epsf"): Do not add epsffig environment.
	Fixes error if latex.el(c) is not loaded.
	(LaTeX-env-epsffigure): Remove.

2005-02-11  David Kastrup  <dak@gnu.org>

	* tex-site.el.in (TeX-lisp-directory): Use `@lispauctexdir'
	instead of `"@auctexdir@"' and `@lispautodir' instead of
	`"@auctexdir_expanded"'.

	* configure.ac (lispauctexdir): create version of `$(auctexdir)'
	that is Lisp-quoted, not shell-quoted.
	(lispautodir): Similarly.

	* doc/Makefile.in (prefix): Append $(null) to some assignments to
	save quoted backslashes at line ends.

	* Makefile.in (prefix): Append $(null) to some variable
	assignments to let quoted backslashes at their end remain quoted.
	(auctexdir): Get from configure.

2005-02-10  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el: Fix bug that once japanese-plain-tex-mode entered,
	plain-tex-mode do as japanese-plain-tex-mode.
	Reported by Ikumi Keita <ikumi@revery.net>.
	(japanese-TeX-mode): Doc fix.  Make variable buffer local and
	permanent-local.
	(japanese-plain-tex-mode-initialization)
	(japanese-latex-mode-initialization): Do not initialize
	japanese-TeX-mode.  Use `when' instead of `if'.

2005-02-09  Peter S Galbraith  <psg@debian.org>

	* bib-cite.el (bib-master-file): Apply patch from Peter Heslin.
	TeX-master can now have symbol values (other than t or nil).

2005-02-09  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (LaTeX-auto-regexp-list): Remove `usepackage' because
	it is defined in `LaTeX-auto-minimal-regexp-list'.
	(plain-TeX-auto-regexp-list): Fix regexp; Use `\\|' instead of `|'.
	Fill lines in the same way in tex.el.
	(TeX-japanese-process-input-coding-system)
	(TeX-japanese-process-output-coding-system): Use if-statement in
	defvar instead of outside of defvar.  Change default value of FSF
	Emacs to 'euc-jp.
	(TeX-after-start-process-function): Add code for FSF Emacs.

2005-02-08  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/alphanum.el: Added `Local Variables'.
	Suggested by Ikumi Keita <ikumi@revery.net>.

	* font-latex.el: Fix typo in `Local Variables'.
	Reported by Ikumi Keita <ikumi@revery.net>.

2005-02-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/faq.texi (Frequently Asked Questions About AUCTeX): Fix typo
	in previous commit.

2005-02-07  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/jarticle.el ("jarticle"): Use `LaTeX-section-level'.

2005-02-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-code-comment): Compute the end of the
	region to be filled _after_ indentation happened.

2005-02-07  David Kastrup  <dak@gnu.org>

	* doc/faq.texi (Frequently Asked Questions About AUCTeX): Be quite
	more verbose about Emacs/XEmacs and versions.

2005-02-04  David Kastrup  <dak@gnu.org>

	* Version 11.55 released.

	* Makefile.in (tar-ball):

	* doc/Makefile.in (clean, html/auctex_toc.html, dist): Move HTML
	stuff into html directory.

2005-02-04  David Kastrup  <dak@gnu.org>

	* RELEASE: Some more Emacspeak blurb.

2005-02-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Make description of changes clearer.

2005-02-04  David Kastrup  <dak@gnu.org>

	* RELEASE (Warning): warn about XEmacs 21.4.16.

2005-02-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-search-syntax-table): Give ?\" character punctuation
	syntax.  Prevents parenthetical characters from being hidden from
	`TeX-find-opening-brace' if they happen to be enclosed between two
	quotation marks.
	Better use whitespace syntax for ?\" as this is the equivalent of
	a nil entry in the syntax table.
	(TeX-search-syntax-table): Remove superfluous possibility to
	specify comment and escape characters as arguments.

2005-02-01  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* doc/changes.texi: Mention support for the jsarticle and jsbook
	classes.

	* tex-jp.el (japanese-LaTeX-style-list):
	Add jsclasses (jsarticle and jsbook).

2005-01-31  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* configure.ac: Bump version info to 11.55.

	* auctex.spec (Version): Bump to 11.55.
	(Release): Reset to 1.

	* doc/tex-ref.tex: Bump version info to 11.55.
	(Source Display): Adapt information about key bindings to current
	implementation.

	* doc/auctex.texi: Bump version info to 11.55.

	* doc/changes.texi: Add information about changes in AUCTeX 11.55.

	* RELEASE: Add information about fixed bugs in AUCTeX 11.55.

	* latex.el (LaTeX-fill-region-as-para-do): Limit the search for
	sentence ends.  Fixes erroneous addition of spaces at places
	following a paragraph to be filled.

2005-01-31  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/jsarticle.el: New file.

	* style/jsbook.el: New file.

	* Makefile.in (STYLESRC): Add them.

2005-01-29  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (LaTeX-fill-region-as-para-do): Remove.

2005-01-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (AUCTeX-date): Use ISO 8601 format.
	(TeX-submit-bug-report): Include AUCTeX-date when using a
	non-released version.

2005-01-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el: Do not use whitespace syntax for ?~.  Prevents these
	characters from being deleted during filling.

2005-01-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el: Update header.
	(TeX-view-output-file): Let `TeX-active-master' return file name
	without directory.  Fixes viewer not finding output file when
	being called in a subdirectory.
	(TeX-active-master): Add new parameter `nondirectory'.  Doc fix.

2005-01-21  David Kastrup  <dak@gnu.org>

	* auctex.spec (Conflicts): Mention the outdated emacspeak from
	FC3.

2005-01-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-set-syntactic-keywords): Do not call
	`regexp-opt' on empty lists.  Prevents `regexp-opt-group' from
	entering a loop on installations with an outdated regexp-opt.el.

	* tex-buf.el (TeX-command-region): Pass name of region file
	without directory to `TeX-command-query' because a test in the
	latter expects it like that.
	(TeX-command-query): Doc fix.

2005-01-19  Jan-Ake Larsson  <jalar@mai.liu.se>

	* aclocal.m4, configure.ac: A few small changes to allow sync with
	preview-latex' aclocal.m4

2005-01-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (hack-one-local-variable): Make sure the byte compiler
	does not barf on `minor-mode-list' by eliminating the reference to
	this variable.

2005-01-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (top): Restrict to one content listing in HTML
	output.

	* doc/todo.texi (Wishlist): Remove bug regarding parsing of LaTeX
	class files.

	* tex.el (TeX-macro-global): New function.
	(TeX-macro-global): (the variable) Moved here from tex-site.el.in.
	Use new `TeX-macro-global' function.

	* aclocal.m4 (library): Remove TEX_INPUT_DIRS function.

	* configure.ac (auctexdir): Remove call to TEX_INPUT_DIRS.

	* lpath.el: Setting `TeX-macro-global' is not necessary anymore as
	it now is in tex.el.

	* tex-site.el.in (TeX-macro-global): Move defcustom to tex.el.

	* doc/install.texi (Configure): Remove documentation of
	--with-tex-input-dirs.

	* doc/wininstall.texi: Remove documentation of
	--with-tex-input-dirs.

	* latex.el (LaTeX-insert-environment): Insert a simple newline
	character instead of using `newline'.  Fixes insertion of
	environment end at wrong place in XEmacs.
	(LaTeX-fill-region): Remove superfluous `save-restriction'.
	(LaTeX-auto-class-regexp-list): Add patterns for commands
	described in "LaTeX2e font selection" (fntguide).

2005-01-14  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (European): Document all TeX-language-*-hook
	variables.  Don't document obsolete `dk.sty'.

2005-01-14  David Kastrup  <dak@gnu.org>

	* auctex.spec: Add and remove auctex.info instead of auctex in
	info dir.  Bump release to 2 to match upload.

2005-01-13  David Kastrup  <dak@gnu.org>

	* font-latex.el (font-latex-set-title-face)
	(font-latex-title-fontify): font-latex-title-fontify, not
	fontity.  fontify, fontify, fontify.
	* doc/changes.texi: Ditto.
	* doc/auctex.texi (Font Locking): Ditto.

2005-01-12  David Kastrup  <dak@gnu.org>

	* Version 11.54 released.

2005-01-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/beamer.el: Update copyright information.
	General clean-up.
	("beamer"): Support frame environment.
	The overprint has an optional "area width" argument, not a
	mandatory "overlay" argument.

2005-01-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* RELEASE: Addition to contributors section.

	* tex-bar.el (TeX-bar-LaTeX-button-alist): Use generic "view"
	image instead of mode specific.

2005-01-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Added information about fixed bugs and added features
	in AUCTeX 11.54.

	* auctex.spec (Version): Bump to 11.54.

	* configure.ac: Bump version info to 11.54.

	* doc/auctex.texi: Bump version info to 11.54.

	* doc/tex-ref.tex: Bump version info to 11.54.

2005-01-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-forward-paragraph): Allow finding paragraph
	commands even if they are preceded by whitespace and comment
	starters.

2005-01-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-forward-comment-skip): Differentiate prefixes with
	whitespace between comment starters.

	* latex.el: Update copyright information.
	(LaTeX-indent-calculate-last, LaTeX-fill-region-as-para-do):
	Do not widen.
	(LaTeX-fill-region-as-paragraph, LaTeX-fill-region-as-para-do):
	Use a marker instead of narrowing the region.
	(LaTeX-indent-line, LaTeX-indent-inner-do)
	(LaTeX-current-indentation, LaTeX-back-to-indentation):
	Handle prefixes with whitespace between comment starters correctly.

2005-01-05  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/graphicx.el: Added completion of boxing macros.
	Fontify some macros.

	* font-latex.el (font-latex-built-in-keyword-classes): Fix typo
	in doc string.

2005-01-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* toolbar-x.el (toolbarx-default-toolbar-meaning-alist):
	Some checkdoc related fixes.  Still not checkdoc clean.

	* tex-bar.el (Commentary): Don't mention stuff done by
	configure/make in the instructions.
	(TeX-bar-help-from-command-list): Quote symbols in doc string.
	File is checkdoc clean now.

	* doc/auctex.texi: Update copyright.
	(Mathematics): Explain how to enable LaTeX-math-mode by default.
	Suggested by Chris Wallace <c.wallace@qmul.ac.uk>.
	(Filling, Outline): Markup fixes: Use @lisp instead of @example
	where appropriate.

2004-12-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (ConTeXt-find-matching-start): Require 'tex and add
	autoloads to make the compiler happy.

	* doc/changes.texi: Add and tweak some stuff for 11.54.

2004-12-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-auto-parse-region): Do not add element to `symbol'
	if it is already contained.

2004-12-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-indent-outer-do): Remove redundant code.

2004-12-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Add coding cookie.
	(font-latex-quote-end-list): Remove.
	(font-latex-quote-list): New variable.
	(font-latex-quotes, font-latex-match-quotation): Use it for
	generalization.
	(font-latex-keyword-matcher): Revert last change.
	(font-latex-make-built-in-keywords): Match the empty string only
	at the end of multi-char macros.
	(font-latex-make-user-keywords): Make sure sedate face is not used
	for words right after a "\\".
	(font-latex-set-syntactic-keywords): Do not match linebreaks as
	delimiters of `verb-like-commands'.

2004-12-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-keyword-matcher): Highlight only first
	matched group.
	(font-latex-make-built-in-keywords): Set up grouping for warning
	keywords and mark its end with "[^A-Za-z@*]".

2004-12-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-paragraph): Do not narrow region when code
	comments are filled.  Fixes wrong indentation if a line with a
	code comment following an indented line is filled.
	Mark end of current line, not beginning of next.
	Jump to start of code comment line after regular filling.

2004-12-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-built-in-keyword-classes):
	Move warning keywords up in order to save them from being covered by
	less important faces.  Include "include" in warning keywords.

	* aclocal.m4 (TEX_INPUT_DIRS): Change `IFS' temporarily for
	tokenizing the string instead of inserting newlines.  The latter
	did not work anyway because there was one backslash too much in
	"\\n".  Strip trailing slashes of determined directories before
	concatenation.

	* doc/install.texi (Configure): Quote value for
	--with-tex-input-dirs.

	* doc/wininstall.texi: Quote value for --with-tex-input-dirs.

	* tex.el (TeX-arg-opening-brace, TeX-arg-closing-brace):
	New variables.
	(TeX-parse-arguments, TeX-parse-argument, TeX-argument-insert):
	Use them.

	* latex.el (TeX-arg-free): Temporarily bind
	`TeX-arg-opening-brace' and `TeX-arg-closing-brace'.

2004-12-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-source-specials-view-position-flags): Fix syntax for
	xdvi.

2004-12-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (top): Duplicate top node and wrap it in @ifinfo
	and @ifhtml environments respectively.

2004-12-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* context.el (ConTeXt-paragraph-commands-regexp): Match any
	command starting with "\start" or "\stop" and the respective
	language variants.

2004-12-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-keymap): Change key bindings for clearout
	commands.
	(TeX-fold-item, TeX-fold-remove-overlays): Doc fix.

	* tex.el (TeX-fold-menu): Change display of key bindings for
	clearout commands.

	* doc/auctex.texi (Folding): Document new key bindings for
	clearout commands.

2004-12-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-keymap): Add key binding for
	`TeX-fold-dwim'.
	(TeX-fold-dwim): New function.
	Add support for folding regions.
	(TeX-fold-macro, TeX-fold-env): Call `message' here instead of in
	`TeX-fold-item' to get the right return value for the latter.
	(TeX-fold-item): Move `message' out to get the right return value.
	(TeX-fold-remove-overlays): Signal if an overlay was deleted with
	the return value.

	* tex.el (TeX-fold-menu): Add menu entry for `Tex-fold-dwim'.

	* doc/auctex.texi (Folding): Document `TeX-fold-dwim'.
	Mention support for folding regions with `TeX-fold-dwim'.

	* doc/changes.texi: Advertise folding and unfolding of regions as
	well as DWIM functionality.

	* tex-fold.el (TeX-fold-keymap): Add key bindings for
	`TeX-fold-region and `TeX-fold-clearout-region'.
	(TeX-fold-region): Make interactive.

	* tex.el (TeX-fold-menu): Add menu entries for folding and
	unfolding of regions.

	* doc/auctex.texi (Folding): Document folding and unfolding of
	regions.
	Document `TeX-fold-dwim'.

	* latex.el (LaTeX-fill-code-comment): Do not hardcode tab width.

2004-12-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-keymap): Add key bindings for
	`TeX-fold-paragraph' and `TeX-fold-clearout-paragraph'.
	(TeX-fold-buffer): Now calls new `*-region' functions.
	(TeX-fold-paragraph): New function.
	(TeX-fold-buffer-type): Remove.
	(TeX-fold-region): New function.  Basically encloses contents of
	`TeX-fold-buffer-type' but type parameter is not mandatory
	anymore.
	(TeX-fold-clearout-buffer): Now calls `TeX-fold-clearout-region'.
	(TeX-fold-clearout-paragraph, TeX-fold-clearout-region):
	New functions.

	* tex.el (TeX-fold-menu): Add menu entries for folding and
	unfolding of paragraphs.

	* doc/auctex.texi (Folding): Document folding and unfolding of
	paragraphs.

	* doc/changes.texi: Advertise folding and unfolding of
	paragraphs.

	* tex.el (TeX-comment-start-regexp): New variable.
	(TeX-comment-or-uncomment-region, TeX-uncomment)
	(TeX-forward-comment-skip, TeX-find-macro-end-helper): Use it.

	* latex.el (LaTeX-newline, LaTeX-insert-environment)
	(LaTeX-env-item, LaTeX-indent-line, LaTeX-current-indentation)
	(LaTeX-fill-region-as-paragraph, LaTeX-fill-region-as-para-do)
	(LaTeX-fill-move-to-break-point, LaTeX-fill-paragraph)
	(LaTeX-fill-code-comment, LaTeX-fill-region)
	(LaTeX-forward-paragraph, LaTeX-backward-paragraph):
	Use `TeX-comment-start-regexp' instead of `comment-start'.
	(LaTeX-backward-paragraph, LaTeX-indent-line): Simplify.

	* style/mdwlist.el ("mdwlist"): Use `TeX-comment-start-regexp'
	instead of `comment-start'.

	* style/doc.el (LaTeX-env-no-comment):
	Use `TeX-comment-start-regexp' instead of `comment-start'.

2004-12-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-buffer-type): Do not ignore case during
	search.

	* context.el (ConTeXt-paragraph-commands-regexp): New name for
	`ConTeXt-paragraph-commands'.  Doc fix.  Match escape character at
	front as well.
	(ConTeXt-mode-common-initialization): Use it.
	Set `LaTeX-paragraph-commands-regexp' instead of
	`LaTeX-paragraph-commands'.  Adapt definition of
	`paragraph-start'.

2004-12-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (hack-one-local-variable): Advise it in order to call
	minor mode functions for AUCTeX minor modes activated by
	file-local minor mode variables.

	* latex.el (LaTeX-math-mode): Define using `define-minor-mode'.
	Make it compatible with older Emacsen.

2004-12-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/csquotes.el (LaTeX-csquotes-quote-after-quote):
	Avoid interference with (n)german.el.

2004-12-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (distclean): Remove generated `configure' file.
	And revert again as it does not comply with the definition of
	standard targets in the GNU make manual.

	* style/jurabib.el ("jurabib"): Add further macros.

	* tex.el: Add coding cookie.
	Use punctuation syntax for "«" and "»" characters.
	(TeX-parse-argument): Deactivate mark after insertion of first
	pair of braces.  Fixes problems with the insertion of macros with
	more than one brace and an active selection.

	* style/csquotes.el (LaTeX-csquotes-open-quote)
	(LaTeX-csquotes-close-quote): Doc fix.
	("csquotes"): Repair quoting.  Use completing-read where
	possible.  Use a stricter test for usage of quotes.

	* doc/auctex.texi (Quotes): Document csquotes.el.

2004-11-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/csquotes.el: New file.

	* Makefile.in (STYLESRC): Add style/csquotes.el.

	* doc/changes.texi: Advertise support for csquotes.sty.

2004-11-29  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-auto-insert): Add SKIP argument.
	(TeX-auto-store): Use it to avoid circular dependencies.

	* style/graphicx.el (LaTeX-arg-includegraphics): Add "page".

	* latex.el (LaTeX-includegraphics-options-alist): Ditto.

2004-11-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi: Use "auctex.info" instead of "auctex" as info
	file name.

	* doc/Makefile.in: Adapt to suit change in info file name from
	"auctex" to "auctex.info".

	* doc/.cvsignore: Adapt to suit change in info file name from
	"auctex" to "auctex.info".

	* doc/changes.texi: Advertise use of "auctex.info" info file name.

2004-11-29  Jan-Ake Larsson  <jalar@mai.liu.se>

	* configure.ac: Add @command macro test

	* configure.in: Moved to configure.ac

	* configure.ac: Moved from configure.in

	* doc/macros.texi: Add @command macro

	* doc/auctex.texi: Change order of @top and @ifnottex, error
	message otherwise.

	* doc/Makefile.in: Add MAKEINFO environment variable for texi2...
	usage. Remove old (confusing) messages.

2004-11-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/intro.texi (Introduction): @/ unfortunately is only
	available since Texinfo 4.6.  Remove it for now.

	* doc/auctex.texi: Correct some references.

2004-11-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi: Remove RCS keyword.
	Correct subtitle.
	Various corrections of filling and capitalization.
	Move up installation instructions.
	(Display): New node and chapter holding display-related content.
	(Font Locking): New node and section.
	(Folding): Now a section.  Remove the silly first paragraph.
	(Outline): Now a section.

	* doc/macros.texi: Add `@fontlatex' macro.

	* doc/install.texi: Specify node unconditionally in the file.

	* doc/intro.texi (Introduction): Use `@email' instead of `@url'
	for email addresses.

	* doc/quickstart.texi (Processing): Better heading.

	* font-latex.el: Clean up comments.
	(font-latex-built-in-keyword-classes): Add explanation of the
	variable structure.
	(font-latex-match-command-with-arguments): Change "asterix" to
	"asterisk".

2004-11-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-backward-paragraph): Jump to macro start.  D'oh.

	* texmathp.el: Rearrange variable and function definitions in
	order to get as few compiler warnings as possible due to the
	reintroduction of the :set function in `texmathp-tex-commands'.
	Add a dummy `defvar' for `texmathp-tex-commands' to silence the
	compiler.
	(texmathp-tex-commands): Reintroduce a :set function as advertised
	in `texmathp-compile'.
	(texmathp): Remove the conditional call to `texmathp-compile' as
	this is handled by the :set function in `texmathp-tex-commands' on
	load of the file.

	* tex.el: Autoload `texmathp-match-switch'.

2004-11-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-bold-face, font-latex-italic-face)
	(font-latex-math-face, font-latex-string-face)
	(font-latex-warning-face, font-latex-verbatim-face): Inherit from
	suitable base faces if possible.  Doc fix.
	(font-latex-sedate-face): Doc fix.

	* latex.el (LaTeX-paragraph-commands): Doc fix.
	(LaTeX-backward-paragraph): Do not unnecessarily jump to a (wrong)
	position after the macro start.

	* tex.el: Move (nearly all) autoloads to a single place.
	Remove redundant autoload for `TeX-region-file'.  Add autoload for
	`TeX-view'.
	(TeX-parse-macro): Doc fix.
	Do not add braces for macros defined as `("foo" 0)'.
	(TeX-parse-arguments): Do not bind `<' and `>'.
	(TeX-parse-argument, TeX-argument-insert): Do not use `<' and `>'
	formerly bound by `TeX-parse-arguments'.  Fixes some compiler
	warnings.
	(TeX-auto-list-information): Use `message' correctly.

	* tex-info.el (texinfo-mode): Add `@email' macro.

2004-11-22  Berend de Boer  <berend@pobox.com>

	* context.el (ConTeXt-mode-common-initialization): ConTeXt does
	not need italics correction.

2004-11-20  Christian Schlauer  <cschl@arcor.de>

	* doc/auctex.texi (Floats): Update.

	* doc/changes.texi: Mention change of `LaTeX-float'.

	* latex.el (LaTeX-float, LaTeX-env-figure): Implement "do not
	prompt" option.  `LaTeX-float' has the same customize value menu
	like `LaTeX-default-position' now.  This implies that the old
	meaning nil corresponds to `""' now, while nil means "do not
	prompt".
	(LaTeX-env-figure): Ask for `Float position' instead of `Float
	to'.
	(LaTeX-float): New default value "" instead of "htbp" (after a
	discussion on the mailing list).
	(LaTeX-default-format, LaTeX-default-width)
	(LaTeX-default-position): Omit `Specifies the' in doc-string.

2004-11-19  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* tex-buf.el (TeX-run-TeX): Improve comments.

2004-11-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-TeX-sentinel-check): Use only the letters after
	the last dot of a file name for the file extension.

2004-11-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-move-to-break-point): Search backward for
	\verb|...| constructs rather than forward.  Fixes cases with more
	than one constructs per line.  Reported by Christan Schlauer.

2004-11-16  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Clarify --with-xemacs.

2004-11-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-paragraph-commands): Now is a customizable list
	instead of a regular expression.
	(LaTeX-paragraph-commands-internal)
	(LaTeX-paragraph-commands-regexp): New variables.
	(LaTeX-forward-paragraph, LaTeX-backward-paragraph)
	(LaTeX-common-initialization):
	Use `LaTeX-paragraph-commands-regexp' instead of
	`LaTeX-paragraph-commands'.

2004-11-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-close-environment): Insert a newline at the end
	of the environment if an uncommented line follows a commented one.

2004-11-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (docTeX-in-macrocode-p): Search backward for an
	environment beginning rather than forward for its end.

2004-11-08  David Kastrup  <dak@gnu.org>

	* latex.el (doctex-mode): Set the mode name.

2004-11-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (texinfo-mode): Add `@command' macro.

	* doc/auctex.texi (Commands): Correct key binding for
	`TeX-Omega-mode'.  Add index entry.  Use `@command' instead of
	`@code' where appropriate.

	* font-latex.el (font-latex-built-in-keyword-classes): Use correct
	face for `font-latex-match-title-3'.

2004-11-04  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* images/amstex.xpm: Added.  Contains symbolic color
	'backgroundToolBarColor', required by (GNU/Linux) XEmacs.

2004-11-03  Christian Schlauer  <cschl@arcor.de>

	* latex.el (LaTeX-env-figure, LaTeX-env-minipage)
	(LaTeX-env-tabular*): Do always accept the user's input as the new
	buffer-local values for `LaTeX-float' and `LaTeX-default-width',
	even if the user entered the empty string.
	(LaTeX-env-minipage): Do not ask for the (optional) position if
	`LaTeX-default-position' is set to `nil'.  Behaviour agrees with
	LaTeX-env-array and LaTeX-env-tabular* now.
	(LaTeX-env-array, LaTeX-env-tabular*): Change `setq'-assignment
	of `LaTeX-default-position' so that it works not only the first
	time in buffers with `LaTeX-default-position' set to `nil'.
	(LaTeX-env-array, LaTeX-env-minipage, LaTeX-env-tabular*):
	Use `LaTeX-optop', `TeX-grop', etc. instead of `{', `['.
	(LaTeX-env-picture): Don't delete whitespace after inserting the
	environment.  Cursor position corresponds to proper indentation
	now.

2004-11-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-delete-dups-by-car): New name for `TeX-delete-dups'.
	(TeX-delete-duplicate-strings, TeX-sort-strings): New functions.
	Contributed by Reiner Steib and David Kastrup.

	* font-latex.el: Require 'tex.
	(font-latex-user-keyword-classes): Enhance :set function to tell
	user which entry is duplicated.

	* latex.el (TeX-arg-input-file): Use new name
	`TeX-delete-dups-by-car' instead of `TeX-delete-dups'.

	* style/graphicx.el (LaTeX-includegraphics-read-file-TeX):
	Use new name `TeX-delete-dups-by-car' instead of `TeX-delete-dups'.

2004-11-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-user-keywords): Add the "fixed"
	matchers here rather than in `font-latex-make-built-in-keywords'.

	* latex.el (LaTeX-math-default, LaTeX-math-menu): Use "Greek
	Uppercase" instead of "Greek" and "Greek Lowercase" instead of
	"greek".

2004-11-02  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-paragraph-commands): Make `\maketitle' a
	paragraph starter.

2004-11-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-built-in-keywords)
	(font-latex-make-user-keywords): Append rather than prepend
	matchers.

2004-11-01  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbar-x.el
	(toolbarx-make-command): Code clean up.

2004-11-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Change maintainer information.
	(font-latex-keywords): New customization group.
	(font-latex-built-in-keyword-classes): New variable.
	(font-latex-make-match-defun, font-latex-keyword-matcher):
	New functions.
	(font-latex-make-built-in-keywords): New name for
	`font-latex-make-keywords'.
	Move default keyword definitions from
	`font-latex-match-*-keywords' to
	`font-latex-match-*-keywords-local'.
	Integrate `font-latex-match-*-keywords-set' function into
	`font-latex-match-*-keywords' defcustom.
	(font-latex-keywords-1, font-latex-keywords-2): Default to nil.
	All matchers are now added in `font-latex-make-built-in-keywords'
	and `font-latex-make-user-keywords'.
	(font-latex-user-keyword-classes): New variable.
	(font-latex-make-user-keywords): New function.

	* doc/changes.texi: Remove duplicate word.
	Mention possibility to add new keyword classes.

	* doc/quickstart.texi: Some rewordings, corrections and
	enhancements.

2004-10-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-auto-symbol-check): Use `add-to-list' instead of
	`cons' in order to avoid duplicates.

	* latex.el (LaTeX-auto-minimal-regexp-list): Use non-greedy
	operators for getting the end of a TeX group.
	(LaTeX-auto-cleanup): Use `add-to-list' instead of `cons' in order
	to avoid duplicates.

2004-10-29  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* tex-buf.el:  Add simple error report system.
	(TeX-error-report-switches): New variable (plist).
	(TeX-run-TeX),
	(TeX-TeX-sentinel-check): Use it, updating error state,
	where property is (intern (TeX-master-file)).

	* tex-bar.el: Remove defadvice's to TeX-run-TeX and
	TeX-TeX-sentinel-check.
	(TeX-bar-error-handling-switches): Remove.
	(TeX-bar-LaTeX-button-alist): next-error updated.

2004-10-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-bar.el (TeX-bar-LaTeX-button-alist): Add `TeX-save-document'.

	* doc/changes.texi: Renamed function `LaTeX-install-toolbar'.

	* tex-site.el.in: Ditto.

2004-10-28  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* tex-bar.el: Now requires tex-buf.el, for error handling.
	Renamed symbols:
	(LaTeX-install-toolbar): New name for `latex-install-toolbar'.
	(tex-bar-latex-buttons): New name for `tex-bar-latex-buttons'.
	(tex-bar-img-filename): New name for `tex-bar-img-filename'.
	(TeX-tool-bar): New name for `tex-tool-bar' group.
	(TeX-bar-LaTeX-buttons): New name for `tex-bar-latex-buttons'.
	(TeX-bar-LaTeX-all-button-alists): New name for
	`tex-bar-latex-all-button-alists'.
	(TeX-tool-bar-button-definitions): New name for
	`tex-tool-bar-button-definitions'.
	(LaTeX-symbols-toolbar-switch-contents): New name for
	`latex-symbols-toolbar-switch-contents'.
	(LaTeX-symbols-toolbar-contents): New name for
	`latex-symbols-toolbar-contents'
	(LaTeX-install-toolbar): New name for `latex-install-toolbar'.

	Use separator only in Emacs, while buildin separator is not
	implemented for XEmacs.
	(TeX-bar-help-from-command-list): New function, that returns the
	:help string for ITEM from TeX-command-list.
	(TeX-bar-error-handling-switches): New variable.
	(TeX-run-TeX [tex-buf.el]): before-adviced to reset error
	internals.
	(TeX-TeX-sentinel-check [tex-buf.el]): after-adviced to set error
	internals when error happens.
	(TeX-bar-LaTeX-button-alist): New button next-error, which is
	resp. visible/active when error detected on Emacs/XEmacs.
	All buttons received :help from TeX-command-list.
	(TeX-bar-LaTeX-buttons): next-error is default, and file is no
	longer default.

2004-10-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-auto-class-regexp-list): New variable.
	Match "\DeclareRobustCommand\foo" besides
	"\DeclareRobustCommand{\foo}" as well.
	(LaTeX-auto-regexp-list): Use it.
	(LaTeX-auto-cleanup): Do not consider key=value options.
	Check for "Package" in addition to "package".

2004-10-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-auto-generate-global): Only parse cls and sty files.

2004-10-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-match-command-in-braces):
	Remove references to non-existent variables.

2004-10-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-math-list): Improve doc string and custom type.
	(LaTeX-math-default): Add doc string.

2004-10-26  Frank Küster  <frank@kuesterei.ch>

	* doc/quickstart.texi: Don't use so many nodes.  Several fixes.

2004-10-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Don't include CVS stuff.

	* doc/changes.texi: Mention experimental tool bar support.

	* Makefile.in (tar-ball): Include tex-bar images.

2004-10-25  David Kastrup  <dak@gnu.org>

	Toolbar patches by Reiner Steib
	* Makefile.in (aucteximagedir): Define.
	(AUCSRC, AUCELC): Add toolbar files.
	(install-images): new target.

	* tex-site.el.in (TeX-image-directory): Define.

	* tex-bar.el (toolbar-x): require toolbar and latex at runtime.

2004-10-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (DOCFILES): Add doc/quickstart.texi.

2004-10-23  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbar-x.el:
	(toolbarx-emacs-mount-popup-menu): Nil cannot be a menu key
	anymore (fixed).
	(toolbarx-test-image-type): Improve comments.  Add support for
	variables defined with `defimage', which are considered a simple
	value for the :image property.
	(toolbarx-emacs-refresh): Nil cannot be a toolbar (menu) key
	anymore (fixed).
	(toolbarx-install-toolbar): Improve documentation for the :image
	property.

2004-10-22  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* tex-bar.el: Improve comments.  Symbol-toolbar code moved to the
	bottom of the file.
	(tex-bar-latex-buttons): Improve comments.  Add custom :type.
	(tex-bar-latex-buttons): New command -- display a list of defined
	buttons.
	(tex-bar-available-meaning-alists): Remove (renamed).
	(tex-bar-latex-all-button-alists): New name of
	`tex-bar-available-meaning-alists'.  Add custom :type.
	(tex-bar-meaning-alist): Remove (renamed).
	(tex-bar-latex-button-alist): New name of `tex-bar-meaning-alist'.
	Add custom :type.  Renamed `latex-symbols' button to
	`latex-symbols-experimental'.

	* toolbar-x.el: Improve comments.
	(toolbarx-process-group-without-insert): Become autoloaded.
	(toolbarx-process-group): Code cleanup.
	(toolbarx-process-symbol): Code cleanup.
	(toolbarx-default-toolbar-meaning-alist): Separator button label
	renamed from `:sep' to `separator'.

2004-10-22  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (European): Adjust to change of
	`LaTeX-italian-open-quote'.

2004-10-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (TEX_INPUT_DIRS): Do not use -e command line option
	for grep.

2004-10-18  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/quickstart.texi: Fix markup.

2004-10-18  Frank Küster  <frank@kuesterei.ch>

	* doc/quickstart.texi: New chapter.

	* doc/changes.texi: Mention `Quick Start'.

	* doc/auctex.texi (Font Specifiers): Add \textrm and \textsf
	(Commands): Add TeX-Omega-mode
	(top): Print contents near at the beginning.

	* doc/macros.texi: New macro @sans.

	* doc/intro.texi (Introduction): Remove sections obsoleted by
	`Quick Start' (Indentation and filling, Completion, Editing your
	document, Outlines).

2004-10-18  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/todo.texi, doc/install.texi, doc/history.texi,
	doc/changes.texi, doc/auctex.texi: Remove optional arguments of
	all @node commands.

	* doc/Makefile.in (TEXIFILES): Add quickstart.texi.

2004-10-18  Frank Küster  <frank@kuesterei.ch>

	* doc/Makefile.in (TEXIFILES): Add macros.texi.
	(auctex.dvi, auctex.pdf): Depend on TEXIFILES.

2004-10-18  Christian Schlauer  <cschl@arcor.de>

	* latex.el (LaTeX-env-figure, LaTeX-env-minipage): Point out to
	the user that the placement (figure) and position (minipage)
	specifiers are optional arguments.
	(LaTeX-env-figure): Simplify.  Do not insert the (optional)
	placement specifier `LaTeX-float' into the buffer if the user
	entered the empty string when asked for `float'.

2004-10-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-keywords): Correctly evaluate
	keywords when making `font-latex-match-*-keywords' defcustom.

2004-10-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/todo.texi (Bugs): Document some bugs related to font locking
	and folding.

	* latex.el (LaTeX-insert-environment): Partial rewrite.  Stay in
	comments.  Do not comment uncommented following lines.  Get rid of
	redundant comment prefix.
	(LaTeX-indent-calculate): Check for beginning of buffer.
	(LaTeX-indent-calculate-last): Do not check for beginning of
	buffer.  Fixes wrong indentation of environments at the top of the
	buffer.

2004-10-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-nth-arg):
	Use `TeX-find-closing-brace' instead of `forward-sexp'.
	Fixes problems with comment characters in \url macros.

	* latex.el (LaTeX-paragraph-commands): Use `regexp-opt' to
	generate the regexp.
	(LaTeX-common-initialization): Add support for "$$" to
	`paragraph-start'.

	* context.el (ConTeXt-mode-common-initialization): Add support for
	"$$" to `paragraph-start'.

	* font-latex.el: Remove change log.
	(font-latex-make-keywords): New function.
	(font-latex-match-variable-keywords-local)
	(font-latex-match-variable-make)
	(font-latex-match-variable-keywords-set)
	(font-latex-match-variable-keywords, font-latex-match-variable)
	(font-latex-match-reference-keywords-local)
	(font-latex-match-reference-make)
	(font-latex-match-reference-keywords-set)
	(font-latex-match-reference-keywords)
	(font-latex-match-reference)
	(font-latex-match-function-keywords-local)
	(font-latex-match-function-make)
	(font-latex-match-function-keywords-set)
	(font-latex-match-function-keywords, font-latex-match-function)
	(font-latex-match-title-1-keywords-local)
	(font-latex-match-title-1-make)
	(font-latex-match-title-1-keywords-set)
	(font-latex-match-title-1-keywords, font-latex-match-title-1)
	(font-latex-match-title-2-keywords-local)
	(font-latex-match-title-2-make)
	(font-latex-match-title-2-keywords-set)
	(font-latex-match-title-2-keywords, font-latex-match-title-2)
	(font-latex-match-title-3-keywords-local)
	(font-latex-match-title-3-make)
	(font-latex-match-title-3-keywords-set)
	(font-latex-match-title-3-keywords, font-latex-match-title-2)
	(font-latex-match-title-4-keywords-local)
	(font-latex-match-title-4-make)
	(font-latex-match-title-4-keywords-set)
	(font-latex-match-title-4-keywords, font-latex-match-title-2)
	(font-latex-match-textual-keywords-local)
	(font-latex-match-textual-make)
	(font-latex-match-textual-keywords-set)
	(font-latex-match-textual-keywords, font-latex-match-textual)
	(font-latex-match-warning-keywords-local)
	(font-latex-match-warning-make)
	(font-latex-match-warning-keywords-set)
	(font-latex-match-warning-keywords, font-latex-match-warning)
	(font-latex-match-warning-function): Now generated by
	`font-latex-make-keywords'.
	(font-latex-match-bold-command-keywords-local)
	(font-latex-match-bold-command-keywords)
	(font-latex-match-bold-command)
	(font-latex-match-italic-command-keywords-local)
	(font-latex-match-italic-command-keywords)
	(font-latex-match-italic-command)
	(font-latex-match-math-command-keywords-local)
	(font-latex-match-math-command-keywords)
	(font-latex-match-math-command)
	(font-latex-match-type-command-keywords-local)
	(font-latex-match-type-command-keywords)
	(font-latex-match-type-command)
	(font-latex-match-bold-declaration-keywords-local)
	(font-latex-match-bold-declaration-keywords)
	(font-latex-match-bold-declaration)
	(font-latex-match-italic-declaration-keywords-local)
	(font-latex-match-italic-declaration-keywords)
	(font-latex-match-italic-declaration)
	(font-latex-match-type-declaration-keywords-local)
	(font-latex-match-type-declaration-keywords)
	(font-latex-match-type-declaration): New variables generated by
	`font-latex-make-keywords'.
	(font-latex-match-bold-command)
	(font-latex-match-bold-command-make)
	(font-latex-match-bold-command-keywords-set)
	(font-latex-match-italic-command)
	(font-latex-match-italic-command-make)
	(font-latex-match-italic-command-keywords-set)
	(font-latex-match-math-command)
	(font-latex-match-math-command-make)
	(font-latex-match-math-command-keywords-set)
	(font-latex-match-type-command)
	(font-latex-match-type-command-make)
	(font-latex-match-type-command-keywords-set)
	(font-latex-match-bold-declaration)
	(font-latex-match-bold-declaration-make)
	(font-latex-match-bold-declaration-keywords-set)
	(font-latex-match-italic-declaration)
	(font-latex-match-italic-declaration-make)
	(font-latex-match-italic-declaration-keywords-set)
	(font-latex-match-type-declaration)
	(font-latex-match-type-declaration-make)
	(font-latex-match-type-declaration-keywords-set): New functions
	generated by `font-latex-make-keywords'.
	(font-latex-keywords-1): Use new functions.
	(font-latex-bold-command-keywords)
	(font-latex-italic-command-keywords)
	(font-latex-math-command-keywords)
	(font-latex-type-command-keywords)
	(font-latex-bold-declaration-keywords)
	(font-latex-italic-declaration-keywords)
	(font-latex-type-declaration-keywords): Remove.
	(font-latex-match-command-with-arguments): New name for
	`font-latex-match-command-outside-arguments'.  Third argument now
	is an integer instead of a binary.  It specifies the number of
	mandatory arguments of a LaTeX macro.  Simplify the function.
	(font-latex-match-font-cache)
	(font-latex-match-font-outside-braces): Remove.
	(font-latex-match-in-brace-cache): New name for
	`font-latex-match-infont-cache'.
	(font-latex-match-command-in-braces): New name for
	`font-latex-match-font-inside-braces'.  Generalize, so that it can
	be used for any command and does not return a special, complex
	match.
	(font-latex-set-syntactic-keywords): Try to minimize false
	fontifications of macros which may look like \foo{bar} and
	\foo{bar{.
	(font-latex-commented-outp): Do not consider comment characters in
	verbatim content.

2004-10-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-default-format, LaTeX-default-width)
	(LaTeX-default-position): Fix doc strings.

2004-10-14  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-default-width): Make it buffer local.
	(LaTeX-env-minipage): Pick up new value of LaTeX-default-width.

2004-10-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-spec-list): Add starred sectioning
	commands.

	* latex.el (LaTeX-fill-region-as-paragraph): Do not add linebreaks
	after "$$ " at the end of paragraph filling.
	(LaTeX-fill-move-to-break-point): Simplify.  Add support for
	$$...$$ type display math.

	* style/jurabib.el: New file.

	* Makefile.in (STYLESRC): Add jurabib.el.

	* doc/changes.texi: Mention support for the jurabib package.

2004-10-14  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* auctb.el: Removed (renamed to tex-bar.el)

	* tex-bar.el: Added; (new name of auctb.el). Added support for
	buttons and customization.
	(install-auctex-toolbar): removed.
	(tex-tool-bar): New custom group, inside AUCTeX group.
	(tex-tool-bar-button-definitions): New custom group, inside
	tex-tool-bar group.
	(tex-bar-latex-buttons): New custom variable: buttons in LaTeX
	mode.
	(tex-bar-meaning-alist): New custom variable.
	(tex-bar-available-meaning-alists): New custom variable:
	collection of variables for meaning-alists.
	(latex-install-toolbar): New function: install the toolbar for
	LaTeX mode.
	(latex-symbols-toolbar-contents): added separator between symbol
	switches and symbols.

	* toolbarx.el: Removed (renamed to toolbar-x.el)

	* toolbar-x.el: Added; (new name of toolbarx.el).
	(toolbarx-default-toolbar-meaning-alist) Added `:sep' button.
	(toolbarx-emacs-add-button): clean up.

2004-10-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-default-width): New variable.
	(LaTeX-env-minipage, LaTeX-env-tabular*): Use it.
	(LaTeX-environment): Mention it in the doc string.
	(LaTeX-env-label): Reindent.

	* tex.el (TeX-delete-dups): Use our own (faster) version.

	* latex.el (LaTeX-env-array, LaTeX-env-minipage)
	(LaTeX-env-tabular*): Don't delete whitespace after inserting the
	environment.  Cursor position corresponds to proper indentation
	now.  From Christian Schlauer <cschl@arcor.de> with some
	modifications.

2004-10-12  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (Completion): Mention `C-c RET' for
	`TeX-insert-macro'.  Fixed typo.
	(Parsing Files): Fixed typo.
	(European): Improved.
	From Frank Küster <frank@kuesterei.ch>,	slightly modified.

	* latex.el (LaTeX-common-initialization): Use `LaTeX-env-tabular*'
	for "tabular*".

2004-10-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (Texinfo-insert-node): Emacs 21.3 and earlier
	expect a list of lists.

	* tex.el: Cater for `delete-selection-mode'.
	`eval-after-load' (used for support of desktop.el) in Emacs 21.3
	and earlier expects a string, not a symbol.
	(TeX-point-is-escaped): Remove.  Implementation of
	`TeX-escaped-p', which does the same, is slightly nicer.
	(TeX-insert-dollar): Use `TeX-escaped-p'.

2004-10-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Small clean-ups and rearrangements.
	(font-latex-match-variable-keywords)
	(font-latex-match-reference-keywords)
	(font-latex-match-function-keywords)
	(font-latex-match-title-1-keywords)
	(font-latex-match-title-2-keywords)
	(font-latex-match-title-3-keywords)
	(font-latex-match-title-4-keywords)
	(font-latex-match-textual-keywords)
	(font-latex-match-warning-keywords): Remove redundant defvars.
	(font-latex-match-variable, font-latex-match-reference)
	(font-latex-match-function, font-latex-match-title-1)
	(font-latex-match-title-2, font-latex-match-title-3)
	(font-latex-match-title-4, font-latex-match-textual)
	(font-latex-match-warning): Set default values and make
	buffer-local.
	(font-latex-match-reference): Add doc string.
	(font-latex-set-syntactic-keywords): Do not set comment syntax.

2004-10-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/booktabs.el, style/captcont.el, style/fancyref.el,
	style/mdwlist.el, style/natbib.el, style/nicefrac.el,
	style/paralist.el, style/scrbase.el, style/scrbook.el,
	style/scrlttr2.el, style/scrpage2.el, style/scrreprt.el,
	style/subfigure.el, style/units.el (TeX-add-style-hook): Do not
	set up font-latex variables if font-latex is not loaded and
	enabled.

	* style/alltt.el, style/listings.el, style/url.el
	(TeX-add-style-hook): Do not set up font-latex variables if
	font-latex is not loaded and enabled.  Reinitialize font-lock
	defaults.

	* font-latex.el: Do not autoload `texmathp'.
	(font-latex-fontify-script): Doc fix.
	(font-latex-script): Do without `texmathp'.
	(font-latex-syntactic-keywords): Default to nil.
	Make buffer-local.
	(font-latex-setup): Set syntactic keywords.

2004-10-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-update-style, TeX-parse-arguments)
	(TeX-parse-argument, VirTeX-common-initialization)
	(TeX-auto-parse-region): Simplify code by using `unless'.

2004-10-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-search-forward-unescaped)
	(TeX-search-backward-unescaped, TeX-re-search-forward-unescaped)
	(TeX-search-unescaped, TeX-escaped-p): New functions.
	(TeX-find-macro-boundaries): Use `TeX-escaped-p'.

	* latex.el (LaTeX-newline, LaTeX-current-indentation)
	(LaTeX-fill-region-as-para-do, LaTeX-fill-move-to-break-point):
	Use new search functions from tex.el.

	* tex-fold.el (TeX-fold-make-overlay, TeX-fold-hide-item)
	(TeX-fold-show-item): Respect `font-lock-mode'.

	* style/amstex.el: Add copyright and license information.
	("amstex"): Do not load amsmath.el in `plain-tex-mode' or
	`ams-tex-mode'.

2004-10-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp): Limit environment search with result of
	macro search if possible.

	* font-latex.el (font-latex-verb-like-commands): New variable.
	(font-latex-set-syntactic-keywords): Use it.
	(font-latex-match-command-outside-arguments)
	(font-latex-match-font-outside-braces)
	(font-latex-match-font-inside-braces): Check face at the beginning
	of the match to make keyword fontification possible even if a
	macro's argument was already fontified due to syntactic keyword
	fontification.

	* style/listings.el (TeX-add-style-hook): Suppress indentation in
	lstlisting environments.  Fontify both \lstinline|...| and
	\lstinline{...}.  Add lstlisting environment to
	`LaTeX-verbatim-regexp'.

	* style/url.el (TeX-add-style-hook): Treat arguments \url|...| and
	\url{...} as verbatim.

	* style/alltt.el (TeX-add-style-hook): Use buffer-local variable
	`font-latex-verbatim-environments-local'.

2004-10-05  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbarx.el (toolbarx-default-toolbar-meaning-alist):
	New constant, providing a MEANING-ALIST for the insertion of the
	default buttons and some extra ones in Emacs and XEmacs.

2004-10-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-output-view-style): Move more special items upwards.
	Remove "a4" and "a5" styles.

2004-10-04  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbarx.el:
	(toolbarx-emacs-add-button)
	(toolbarx-test-image-type): Add Emacs `image descriptor' as valid
	image specification (Emacs only).
	(toolbarx-emacs-add-button): "transp-strip" is new `tranparent
	strip' image file.

	* images/bibtex.xpm, images/dvipdf.xpm, images/dvips.xpm,
	* images/error.xpm, images/exec.xpm, images/execbibtex.xpm,
	* images/execdvips.xpm, images/execerror.xpm,
	* images/execpdftex.xpm, images/exectex.xpm,
	* images/execviewdvi.xpm, images/execviewpdf.xpm,
	* images/execviewps.xpm, images/gv.xpm, images/jumpdvi.xpm,
	* images/pdftex.xpm, images/pspdf.xpm, images/sep.xpm,
	* images/tex.xpm, images/view.xpm, images/viewdvi.xpm,
	* images/viewpdf.xpm, images/viewps.xpm: Add symbolic color
	'backgroundToolBarColor' to make pics work in (GNU/Linux) XEmacs

2004-10-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Some clean-ups, rearrangements and performance
	improvements.
	(font-latex-verbatim-face): XEmacs does not like :inherit.
	(font-latex-setup): Activate `font-latex-syntactic-face-function'.
	(font-latex-faces-present-p): New function.
	(font-latex-match-command-outside-arguments): Use it.
	(font-latex-bold-command-keywords)
	(font-latex-italic-command-keywords)
	(font-latex-math-command-keywords)
	(font-latex-type-command-keywords): New variables.
	(font-latex-match-font-outside-braces): Use them.
	Check for comment and verbatim faces.
	(font-latex-bold-declaration-keywords)
	(font-latex-italic-declaration-keywords)
	(font-latex-type-declaration-keywords): New variables.
	(font-latex-match-font-inside-braces): Use them.
	Check for comment and verbatim faces.
	(font-latex-script): Use `font-latex-faces-present-p'.

	* doc/changes.texi: Add some new features and fixed bugs.

2004-09-29  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* images/bibtex.xpm, images/dvipdf.xpm, images/dvips.xpm,
	* images/error.xpm, images/exec.xpm, images/execbibtex.xpm,
	* images/execdvips.xpm, images/execerror.xpm,
	* images/execpdftex.xpm, images/exectex.xpm,
	* images/execviewdvi.xpm, images/execviewpdf.xpm,
	* images/execviewps.xpm, images/gv.xpm, images/jumpdvi.xpm,
	* images/pdftex.xpm, images/pspdf.xpm, images/sep.xpm,
	* images/tex.xpm, images/view.xpm, images/viewdvi.xpm,
	* images/viewpdf.xpm, images/viewps.xpm: Add designed images for
	toolbar buttons.

2004-09-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-do-multi-line): Add new option and use
	it as default value.
	(font-latex-use-cache): New variable.
	(font-latex-match-command-outside-arguments)
	(font-latex-match-font-outside-braces)
	(font-latex-match-font-inside-braces): Use it.
	(font-latex-check-cache): Do not check if cache is to be used.
	(font-latex-setup): Set up multi-line font locking.

2004-09-28  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbarx.el: Support for grouping `:insert' clauses in the 3
	engines (performance improvement.)  Better comments and
	docstrings.
	(toolbarx-process-symbol): Fix `nreverse'-missing bug.

	* auctb.el: Fix Copyright notice (to FSF).  Remove "AMS Special"
	from ppup menu.  Simplify.  Remove garbage comments from end.
	(auctb-img-filename): Remove "symb-pics/" from return.
	Add "symb-pics/" explicitly where it is needed in the defconst's.

	* images, images/dropdown.xpm, images/ltx-symb-turn-off.xpm,
	* images/ltx-symb-turn-on.xpm: Add designed images for symbol
	toolbar.

2004-09-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Add change log entries and bump version.
	(font-latex-find-matching-close): Fix typo in last commit.
	(font-latex-match-font-inside-braces): Set actual numbers in the
	match, not nil.  Fixes errors with `font-lock-multiline' enabled.

2004-09-27  David Kastrup  <dak@gnu.org>

	* font-latex.el (font-latex-find-matching-close): Simplify.

	* latex.el (LaTeX-math-default): Use `W in math mode for the Omega
	letter.

	* tex.el (TeX-find-macro-start-helper): Simplify.
	(TeX-find-macro-end-helper): Simplify.
	(TeX-find-macro-end-helper): Stop if `forward-sexp' fails.

	* doc/todo.texi (Wishlist): Macro spell checking mentioned.

2004-09-26  Miguel Frasson  <frasson@math.leidenuniv.nl>

	* toolbarx.el: Add to cvs (first version).

	* auctb.el: Add to cvs (first version); features only a symbol
	toolbar.

2004-09-24  Davide G. M. Salvetti  <salve@debian.org>

	* configure.in: Add `--(en|dis)able-build-dir-test' switch to
	allow disabling `VALID_BUILD_DIR'.

2004-09-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (VirTeX-common-initialization): Revert last change.

	* font-latex.el (font-latex-keywords-2): Use function
	`font-latex-match-script' instead of regexp directly.
	(font-latex-fontify-script): Doc fix.
	(font-latex-match-script): Reintroduce.

2004-09-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-verbatim-macros): New variable.
	(LaTeX-fill-move-to-break-point): Do not break inside of macros
	defined in `LaTeX-verbatim-macros'.
	(LaTeX-fill-newline): Do not trigger auto-fill.

	* style/listings.el (TeX-add-style-hook): Add "lstinline" to
	`LaTeX-verbatim-macros'.

	* font-latex.el (font-latex-set-syntactic-keywords): "*" is not
	allowed as a \verb delimiter.

	* doc/todo.texi (Bugs): Another bug gone the way of the poodle.

2004-09-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-indent-line): Use XEmacs' functions to deal with
	extents/overlays.  Avoids dependence on overlay.el.
	(LaTeX-fill-region-as-paragraph): Inhibit filling of "Local
	Variables" section, if to be filled as a paragraph.

	* style/url.el: Add some (low-level) symbols for completion and
	fontification.
	(TeX-arg-urlstyle): New function.

	* doc/todo.texi (Bugs): Remove some obsolete bug descriptions.

2004-09-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-verbatim-environments): Change from
	defvar to defcustom.
	(font-latex-verbatim-environments-local)
	(font-latex-verbatim-macros)
	(font-latex-verbatim-macros-local): New variables.
	(font-latex-set-syntactic-keywords): Use them.

	* style/listings.el: New file.

	* Makefile.in (STYLESRC): Add it.

	* doc/changes.texi: Mention support for listings.sty.

2004-09-16  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/changes.texi: Mention built fixes.

2004-09-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-commented-outp): Reimplement for
	better performance.

	* doc/changes.texi: Streamline documentation of performance
	changes.

	* tex.el (TeX-search-syntax-table): Make XEmacs happy.
	(VirTeX-common-initialization): Append our stuff to the end of
	`find-file-hooks'.  Fixes problems with `auto-insert-mode'.

2004-09-15  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4 (EMACS_LISP): quote ${emacs}, Windows....

2004-09-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Add changes from 11.51 up to now.

	* style/url.el: New file.

	* Makefile.in (STYLESRC): Add style/url.el.

2004-09-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-keywords-1): Add highlighter for math
	macros.
	(font-latex-keywords-2): Use regexp for matching instead of
	`font-latex-match-script'.
	(font-latex-match-font-outside-braces): Add support for math, esp.
	"\ensuremath".
	(font-latex-match-script): Remove.
	(font-latex-script): Fix check for present faces.  Add `texmathp'
	check in case there is no math face present.

2004-09-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* aclocal.m4 (texinputdirs): Strip leading "!!".

2004-09-08  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (TeX-arg-input-file): Remove duplicates from the
	completion list.  Simplify code by using `unless'.

2004-09-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (Texinfo-insert-node): New function.
	(Texinfo-mode-map): Use it.

2004-09-07  Davide G. M. Salvetti  <salve@debian.org>

	* aclocal.m4 (EMACS_LISP): Sync echo output with real emacs
	invocation.

2004-09-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (Texinfo-insert-environment): Add a space between
	inserted "@end" and environment name in case of active region.

2004-09-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-search-syntax-table): New function and variable.
	(TeX-find-balanced-brace): New function.
	(TeX-find-closing-brace): Use `TeX-find-balanced-brace'.
	(TeX-find-opening-brace): Ditto.
	(TeX-find-macro-boundaries): Add `lower-bound' argument.
	(TeX-find-macro-start-helper): Add `limit' argument.
	(TeX-find-macro-start): Ditto.

2004-08-31  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/changes.texi: Add `LaTeX-includegraphics-read-file'.
	Mention use of `start' for MikTeX and fpTeX.

	* latex.el (LaTeX-includegraphics-read-file): New variable.

	* tex.el (TeX-delete-dups): New defun or defalias.

	* style/graphicx.el (LaTeX-includegraphics-read-file-TeX):
	Rename from `LaTeX-includegraphics-read-file'.  Remove duplicates using
	`TeX-delete-dups'.
	(LaTeX-includegraphics-read-file-relative): Insert relative
	filename.  From Dan Nicolaescu <dann@ics.uci.edu>.
	(LaTeX-arg-includegraphics): Use funcall for image-file.

2004-08-28  David Kastrup  <dak@gnu.org>

	* Version 11.53 released.

2004-08-28  David Kastrup  <dak@gnu.org>

	* doc/tex-ref.tex: Bump version.

	* configure.in: Bump version number.

	* auctex.spec (Version): bump to 11.53.

	* doc/auctex.texi: Bump version to 11.53.

2004-08-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (install-el): Fix typos.

2004-08-27  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-kpathsea-format-alist):
	Add LaTeX-includegraphics-extensions.
	(TeX-search-files): Fix non-kpathsea case.

	* style/graphicx.el (LaTeX-includegraphics-read-file):
	Use completion based on TeX-search-files.

2004-08-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-preserve-comments): New variable.
	(TeX-fold-buffer-type): Use it.

	* font-latex.el (font-latex): Add to AUCTeX's customization group.
	(font-latex-find-matching-close): Correctly recognize multiple
	escape characters.  Add missing paren.

2004-08-26  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-site.el.in (japanese-slitex-mode): Remove obsolete autoload
	of slitex.

	* tex-jp.el (japanese-plain-tex-mode, japanese-latex-mode):
	Use `TeX-defun' for getting version info into mode doc.

2004-08-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-mik.el: Use `start' instead of the respective executable for
	PostScript, PDF and HTML files.

	* tex-fptex.el: Ditto.

2004-08-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-find-macro-boundaries): Detect the start of any
	macro, not just those consisting of [A-Za-z@].
	Remove some superfluous `goto-char' calls.
	(TeX-find-macro-start-helper): Reimplement once again.
	Original patch by David Kastrup; slightly modified.  Doc fix.
	(TeX-find-macro-end-helper): Doc fix.  Handle macros not
	consisting of [A-Za-z@] correctly.
	(TeX-find-opening-brace): Improve performance.

2004-08-25  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el: Autoload `TeX-process-set-variable' and `TeX-region-file'.

2004-08-25  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4: EMACS_PATH_LISPDIR: Expand lispdir if relative to
	binary. Quote lispdir, and deal with exec_prefix, add missing
	bracket.

	* aclocal.m4: Fix xemacs<->emacs mistake, restore path searching
	when --without-packagedir is given

	* configure.in: enable --without-packagedir

	* aclocal.m4: Barf if packagedir not found, don't bother with
	load-path on xemacs' lispdir

2004-08-25  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-command): Call `TeX-process-set-variable' with
	correct options, so that the viewer command is next unless
	overridden.

	* tex.el (TeX-set-mode-name): Set `TeX-command-next' in the
	buffers where they actually count.

2004-08-24  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-math-default): Correctly code "jmath" and
	"Bbbk".

2004-08-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (Mathematics): Add `LaTeX-math-menu-unicode'.
	(Changes): Refer to `history.texi' _after_ the newer changes.

	* doc/changes.texi: Added versions 11.51-11.53.

2004-08-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (VirTeX-common-initialization): Use "%" instead of
	`comment-start' for `comment-start-skip'.
	(TeX-find-opening-brace): Do not use an inverse matcher but negate
	the whole expression.
	(TeX-find-macro-start-helper): Reimplement.  Should be much faster
	now.

	* latex.el (LaTeX-current-environment):
	Use `buffer-substring-no-properties'.
	(LaTeX-indent-line): Revert last change.  Only multi-line overlays
	at the start of a line are affected by the XEmacs bug.

	* tex-info.el (Texinfo-environment-list): Add "command" macro.

2004-08-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/install.texi (Prerequisites): Add `easy-mmode.el' update for
	XEmacs.

2004-08-23  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-indent-line): Get all overlays, not just one.
	(LaTeX-math-default): Add iota.
	(LaTeX-math-default): Use different symbol for triangle.
	(LaTeX-math-default): Don't use `?\S-e' for `?E'.

	* tex.el (TeX-match-buffer): Use `buffer-substring-no-properties'
	(TeX-in-commented-line): Use `skip-chars-forward' and `forward-line'.
	(TeX-in-line-comment): Use `forward-line'.
	(TeX-brace-count-line): Use `skip-chars-forward'.

	* RELEASE: Some updates.

	* latex.el (LaTeX-section): Use an active region as title if available.
	(LaTeX-section-title): Prompt with title if present.  Should we
	ask at all?
	(LaTeX-math-list): Add Unicode code point.
	(LaTeX-math-menu-unicode): New customization variable for unicode
	in math menu.  Only set in GTK Emacs for now.  Does not work on
	XEmacs.  Use it for initializing the menus.  Also prefix menu
	points with backslash.

	* Makefile.in (.PHONY): Declare a bunch of phony targets to
	protect against users making files/directories with that name (in
	particular "lisp").

2004-08-22  David Kastrup  <dak@gnu.org>

	* style/italian.el ("italian"): Don't overwrite existing local
	variable settings.

	* style/ngerman.el ("ngerman"): Don't overwrite existing local
	variable settings.

	* style/german.el ("german"): Don't overwrite existing local
	variable settings.

	* tex.el (TeX-set-mode-name, TeX-PDF-mode): XEmacs needs two
	arguments for `local-variable-p'.

2004-08-20  David Kastrup  <dak@gnu.org>

	* tex.el (desktop): Save TeX-Omega-mode, too.

	* Makefile.in (full-release): Source rpm is auctex, not
	auctex-emacs.

	* auctex.spec (Provides): Provide auctex as well to satisfy
	preview-latex.  create package emacs nevertheless.

	* Version 11.52 released.

2004-08-20  David Kastrup  <dak@gnu.org>

	* tex.el (AUCTeX-version): move to front and also eval when
	compiling.  Other version info moved, too.
	(TeX-defun): Macro for putting version info into definition.
	(plain-tex-mode): Use `TeX-defun'.
	(ams-tex-mode): Use `TeX-defun'.

	* tex-info.el (texinfo-mode): Use `TeX-defun' for getting version
	info into mode doc.

	* latex.el (latex-mode): Use `TeX-defun' for getting version info
	into mode doc.

	* context.el (context-mode): Use `TeX-defun' for getting version
	info into mode doc.

	* auctex.spec (BuildRoot): New naming scheme.

	* RELEASE: Add `DESTDIR' blurb.

2004-08-19  David Kastrup  <dak@gnu.org>

	* auctex.spec: Change `tex-site.el' to overwriting config file
	mode.

	* tex.el (plain-tex-mode): Move menu initializiation here instead
	of `plain-TeX-common-initialization'.  We don't want "TeX" menus
	in `ConTeXt-mode' or `AmSTeX-mode'.
	(plain-TeX-common-initialization): remove `easy-menu-add' here.
	(TeX-common-menu-entries): Change "Customize" strategy again.
	(plain-TeX-menu-entries): Move from `plain-TeX-menu'.
	(plain-TeX-mode-menu): Use `plain-TeX-menu-entries'.
	(AmSTeX-mode-map): Derive from `TeX-mode-map' not
	`plain-TeX-mode-map'.
	(AmSTeX-mode-menu): Define menu for `AmSTeX-mode'.
	(ams-tex-mode): Add menus in proper order.

	* tex-info.el (texinfo-mode): Swap order of `easy-menu-add'.

	* latex.el (LaTeX-common-initialization): Swap order of
	`easy-menu-add'.

	* context.el (ConTeXt-mode-common-initialization): Swap order of
	`easy-menu-add', move `major-mode' init to front.

	* latex.el (LaTeX-common-initialization): Exchange order of
	`easy-menu-add' to get better menu layout in XEmacs.

2004-08-19  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec (description): Overhauled.

	* doc/install.texi: Markup fixes, see "(texinfo)command".

	* doc/wininstall.texi: Ditto.

2004-08-19  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-mode-menu): Use `TeX-common-menu-entries'.

	* tex-info.el (Texinfo-mode-menu): Use `TeX-common-menu-entries'.

	* tex.el (ams-tex-mode): Add `plain-TeX-mode-menu' here.  Doh.

	* context.el (ConTeXt-mode-menu): Use `TeX-menu-with-help' instead
	of `TeX-maybe-remove-help'.
	(ConTeXt-mode-menu): Use `TeX-common-menu-entries'.

	* tex.el (TeX-customization-menu): Save the customization menu
	here when generated, so that we have it available in all modes.
	(TeX-common-menu-entries): The common menu entries for TeX modes.
	(plain-TeX-mode-menu): Use `TeX-common-menu-entries'.

	* configure.in: export `localstatedir'.

	* Makefile.in (localstatedir): import `localstatedir'.

2004-08-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi (Customizing): tex-site.el should be edited no
	more.  Customize should be used instead.  Relevant variables are
	determined during configuration now.
	Mention build/installation commands for contributed files.

2004-08-19  Reiner Steib  <Reiner.Steib@gmx.de>

	* auctex.spec: Fixes for SuSE.

2004-08-19  David Kastrup  <dak@gnu.org>

	* aclocal.m4: `putative-existing-lisp-dir' is not a package
	directory if `lisp' is not a path component.
	Normalize whitespace.
	Remove trailing slash from packagedir.

	* tex-site.el.in (TeX-macro-global): Don't quote texinputdirs
	additionally.

	* aclocal.m4: Really remove trailing slashes/backslashes.
	Don't expand `lispdir'.
	(library): Surround `texinputdirs' with quotes.  Output it
	enclosed in parens.
	(library): Let `autodir' refer unexpanded to `localstatedir'.
	Add some quoting in patterns.

	* doc/Makefile.in (DESTDIR): introduce `DESTDIR' into installation
	targets.

	* Makefile.in (DESTDIR): introduce `DESTDIR' into installation
	targets.

2004-08-18  David Kastrup  <dak@gnu.org>

	* tex-fold.el (TeX-fold-buffer-type): Don't use `end-of-buffer' as
	it plays around with the current window point.

	* Makefile.in (auctexdir, styledir): Use `${...}' for symmetry
	with aclocal.m4

	* aclocal.m4: Use `${...}' instead of `$(...)' everywhere.

2004-08-18  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4 (EMACS_LISPDIR): Output expanded lispdir

2004-08-18  David Kastrup  <dak@gnu.org>

	* configure.in: Shell-quote autodir.

	* RELEASE: Some minor changes.

2004-08-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Change version to 11.52.  Replace old feature/bug
	information.

	* font-latex.el (font-latex-script): Disable raising of characters
	for older Emacsen.  Original patch by Reiner Steib.
	Bump version and add change log entry.

	* tex-fold.el (TeX-fold-unfolded-face): Make it look more blueish
	on displays with 24bit color depth.
	(TeX-fold-buffer-type): Use either a complemented character
	alternative to be on the safe side or "\\_>" on Emacsen which
	support it.

2004-08-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* texmathp.el (texmathp-tex-commands-default): Add \label.
	Various checkdoc-related fixes.

2004-08-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-buffer-type): Use alternative way to
	determine end of search pattern.  Fixes problem with starred
	macros.
	Fix compile errors and add further match alternatives.
	(TeX-fold-item): Recognize starred macros as well.
	XEmacs does not know `match-string-no-properties'.
	(TeX-fold-make-overlay): Do not alter `display-string' before
	`face' is set.
	(TeX-fold-hide-item): Get only the string part of
	`display-string'.

	* tex.el (TeX-fold-menu): Wrap value in `TeX-menu-with-help'.
	Fixes XEmacs start-up error.

	* tex-mik.el: Fix typo in comment.

	* auctex.spec (Version): Change to 11.52.

	* configure.in: Change AUCTeX version to 11.52.

	* doc/tex-ref.tex: Change AUCTeX version to 11.52.

	* doc/auctex.texi: Change AUCTeX version to 11.52.

2004-08-17  David Kastrup  <dak@gnu.org>

	* Makefile.in (full-release): Fix a few things.

	* Version 11.51 released.

2004-08-17  David Kastrup  <dak@gnu.org>

	* aclocal.m4: Quote when expanding and remove trailing backslash,
	too.
	(library): Don't check for $PWD but for default-directory.

2004-08-16  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: move --prefix description up, since it
	might be the only needed option.

	* doc/tex-ref.tex (section{Font Selection}): Add italic
	corrections and small-caps entry.

	* tex.el (info): Add more prefixes to `Info-file-list-for-emacs'.

	* tex-jp.el (japanese-TeX-command-list): Comment addition.

	* RELEASE: Add availability and update release notes.

	* Makefile.in (RPMROOT): New variable.
	(tar-ball): Clean up `$(FTPDIR)' and `$(WWWDIR/doc)' before
	installation.
	(full-release): New target that does RPM building, signing and
	other stuff for upload.
	(patch): gzip the patch.

	* auctex.spec: Add definition stuff for SuSE.
	(BuildRoot): Don't specify infodir when it is not used.

	* bib-cite.el: Fix refTeX link.

2004-08-16  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4 (EMACS_PROG_EMACS): Add "${prefix}/bin" for Windows users

	* aclocal.m4 (EMACS_LISPDIR): Remove trailing slash from lispdir_expanded elisp string

2004-08-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (VALID_BUILD_DIR): New function.

	* configure.in: Use it.
	Change AUCTeX version to 11.51.

	* doc/tex-ref.tex: Change AUCTeX version to 11.51.

	* doc/auctex.texi: Change AUCTeX version to 11.51.

	* auctex.spec (Version): Change to 11.51.

	* Makefile.in (distclean): Get rid of autom4te.cache.

2004-08-15  David Kastrup  <dak@gnu.org>

	* tex-info.el: Change Copyright notice to FSF

	* tex-mik.el: Change Copyright notice to FSF

	* tex.el: Change Copyright notice to FSF

	* font-latex.el: Change Copyright notice to FSF

	* multi-prompt.el: Change Copyright notice to FSF

	* tex-buf.el: Change Copyright notice to FSF

	* tex-site.el.in: Change Copyright notice to FSF

	* style/scrartcl.el: Change Copyright notice to FSF

	* style/scrbook.el: Change Copyright notice to FSF

	* style/scrlttr2.el: Change Copyright notice to FSF

	* style/scrreprt.el: Change Copyright notice to FSF

	* latex.el: Change Copyright notice to FSF

	* tex-info.el: Change Copyright notice to FSF

	* tex-mik.el: Change Copyright notice to FSF

	* tex.el: Change Copyright notice to FSF

	* bib-cite.el: Change Copyright notice and URLs.

2004-08-15  Dan Nicolaescu  <dann@ics.uci.edu>

	* latex.el (LaTeX-common-initialization): Don't set
	`selective-display'.

2004-08-15  David Kastrup  <dak@gnu.org>

	* doc/tex-ref.tex: Add Omega entry, rearrange.

	* tex.el (TeX-print-command): Use `%(o?)'.
	(TeX-command, TeX-Omega-command, LaTeX-command)
	(LaTeX-Omega-command, ConTeXt-engine, ConTeXt-Omega-engine):
	New customization strings to implement various expanders.
	(TeX-command-list): Use them.
	(LaTeX-command-style): Same here.
	(TeX-printer-list, TeX-view-style, TeX-output-view-style):
	Use `%(o?)'.
	(TeX-expand-list): New entries.
	(TeX-PDF-mode): Don't switch on in Omega mode.
	(TeX-Omega-mode): New minor mode.
	(tex-omega-mode): alias for it.
	(TeX-mode-map): Keybinding for it.
	(TeX-mode-specific-command-menu-entries): Add quick viewer entry.
	(TeX-mode-specific-command-menu-entries): Add Omega toggle and
	inactivate PDF when Omega is on.

	* context.el (ConTeXt-expand-options): New function for generating
	`texexec' options.

2004-08-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-fold-menu): New variable.
	(plain-TeX-mode-menu): Use it.

	* context.el (ConTeXt-mode-menu): Use `TeX-fold-menu'.

	* latex.el (LaTeX-mode-menu): Use `TeX-fold-menu'.

	* tex-info.el: Change every occurence of "TeXinfo" to "Texinfo".
	(Texinfo-environment-list): Add some missing environments.
	(Texinfo-find-env-end, Texinfo-find-env-start): New functions.
	(Texinfo-mode-menu): Use `TeX-fold-menu'.

	* tex-fold.el (TeX-fold-buffer-type): Support folding of
	environments in texinfo-mode.
	(TeX-fold-item): Ditto.
	(TeX-fold-hide-item): Display an error string if the macro
	argument cannot be found.

2004-08-14  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-command-list): rename `%(execmode)' to `%(execopts)'
	since it has gotten quite fatter.
	(TeX-expand-list): Implement `TeX-PDF-mode',
	`TeX-interactive-mode', `TeX-source-specials-mode' for ConTeXt and
	pass on `ConTeXt-current-interface'.

2004-08-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-mik.el: Change `TeX-source-specials-viewer-flags' to
	`TeX-source-specials-view-position-flags' as the latter is now
	used in tex.el.
	Set `TeX-source-specials-view-editor-flags'.

	* tex-fptex.el: Ditto.

2004-08-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (top): We want the introduction to appear in
	HTML output as well.

2004-08-13  David Kastrup  <dak@gnu.org>

	* Version 11.50 released.

2004-08-13  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4: Add another alternative for lispdir

2004-08-13  David Kastrup  <dak@gnu.org>

	* auctex.spec (Source0): Change source URL.

	* Makefile.in (EXTRAFILES): Add RELEASE and auctex.spec.
	(tar-ball): Don't create CHANGES-$(TAG), just CHANGES (as it is
	always a longer history).  But create RELEASE-$(TAG) instead:
	that's release-specific.

2004-08-13  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Changes to --prefix and --with-auto-dir,
	partly by Christian Schlauer.
	Add a few words of my own after suggestions.

	* doc/changes.texi, style/units.el, style/nicefrac.el,
	Makefile.in: Add contributed styles for units.sty and
	nicefrac.sty from Christian Schlauer.

2004-08-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-unspec-use-name): New variable.
	(TeX-fold-item): Use it.

	* RELEASE: Add warning about `TeX-command-list'.

	* doc/auctex.texi (Commands): Add "be".
	(Folding): Document `TeX-fold-unspec-use-name'.

2004-08-13  David Kastrup  <dak@gnu.org>

	* Makefile.in (tar-ball): copy only one auctex, add pdf manual and
	reference card.

	* doc/Makefile.in (dist): Add tex-ref, and both pdf and ps
	(tex-ref.ps, auctex.ps): Use -Ppdf option for better quality.

	* auctex.spec (BuildRoot): Add CHANGES.

	* Makefile.in (release-commit): There are no Version: strings
	anymore, don't replace them.

	* tex-fptex.el: customize Queue and Print commands appropriately.

	* tex-mik.el: customize Queue and Print commands appropriately.

	* tex.el (TeX-expand-list): Call TeX-printer-query differently.
	(TeX-command-menu-print, TeX-command-menu-printer-entry)
	(TeX-command-menu-entry): Implement stuff differently, add "Other"
	menu entry.

	* tex-buf.el (TeX-printer-query): Change arguments here.
	Reorganize, too.

	* doc/auctex.texi (Commands): Fix a warning.

	* tex-info.el (TeXinfo-mode-menu): Other quoting.
	(texinfo-mode): Set `TeX-mode-p', `TeX-base-mode-name', call
	`TeX-set-mode-name'.

	* context.el (ConTeXt-mode-menu): Add the environments back to
	folding.

	* doc/auctex.texi, doc/faq.texi, doc/install.texi, doc/intro.texi,
	doc/todo.texi: various changes and smaller typos corrected.

	* doc/macros.texi fix problems with PDF links and indexing.

	* configure.in: Check for pdftex, dvips, texi2html, texi2dvi,
	texi2pdf.

	* doc/Makefile.in (TEXI2HTML, TEXI2DVI, TEXI2PDF): new variables
	entered by configure.
	(auctex.dvi): Use texi2dvi.
	(auctex.pdf): New target.
	(clean): Remove PDF files.

2004-08-12  David Kastrup  <dak@gnu.org>

	* tex-jp.el (japanese-TeX-command-list): Fix this to new style.
	(LaTeX-command-style): Same here.  Hey, this should even make
	preview-latex work mostly with Japanese files and PDFTeX.

2004-08-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-view-extension): Remove.
	(TeX-view-output-file): Use the function `TeX-output-extension'
	instead of `TeX-view-extension'.
	(TeX-run-set-command): Setting `TeX-view-extension' not necessary
	anymore.

	* tex.el (TeX-view-extension): Remove.

2004-08-11  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: explain about tex-mik.el and tex-fptex.el

	* tex-fptex.el: require tex-site.  Only set `TeX-lisp-directory'
	if it has not been customized.  Construct `TeX-command-list' from
	its default value.

	* tex-mik.el: same here.

	* tex.el (TeX-mode-specific-command-menu): Tiny optimization.
	(TeX-mode-specific-command-menu-entries): Make it legal for
	`TeX-command-mode-menu-entry' to return nil for indicating no menu
	entry at all (so that entries like "Print" or "Queue" may be
	dynamically removed).

2004-08-11  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/auctex.texi (Commands): Adjust references.
	(Viewing): Make source specials a subsection.  Adjust references.

	* tex.el (TeX-source-specials-mode): Remove bogus :link.  Refer to
	viewing node of the manual.

	* doc/changes.texi: Added references.

	* doc/todo.texi (Wishlist): Markup fix.

2004-08-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auctex.texi (Viewing): Add some information about forward
	and inverse search.

	* tex-mik.el: Synchronize `TeX-command-list' with tex.el.
	Use gsview32 in `TeX-output-view-style'.

	* tex-fptex.el: Synchronize `TeX-command-list' with tex.el.

2004-08-11  David Kastrup  <dak@gnu.org>

	* doc/tex-ref.tex: Move papersize stuff to the front.
	Fiddle somewhat with the sizes, too.

	* auctex.spec (Version): Change version, web sites, some build
	stuff (this is not yet finished).

	* auc-old.el: remove.

	* doc/Makefile.in (TEXIFILES): refer to auctex.texi instead of
	auc-tex.texi.  Change all dependent stuff, too.

	* Makefile.in (DOCFILES): refer to doc/auctex.texi instead of
	doc/auc-tex.texi

	* doc/auc-tex.texi: renamed into doc/auctex.texi.

	* doc/auc-tex.texi (Commands): Some rewording.

	* doc/todo.texi (Wishlist): Some rearrangements and additions.

2004-08-10  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-math-default): Reorder and complete Greek
	letters, use Babel transcription conventions for them.

	* doc/tex-ref.tex: Add \sl definition.
	(section{Miscellaneous}): Use \string~ for tilde.
	(section{Greek Letters}): Reorder and complete Greek letters.

	* tex.el (TeX-PDF-mode): Set `TeX-output-extension' too.
	(ams-tex-mode): Move `TeX-set-mode-name' after running hooks.

	* tex-ref.tex: merge math-ref.tex, update a few things, format
	stuff.

	* math-ref.tex: removed.

	* doc/Makefile.in (all): Remove math-ref.tex

	* Makefile.in (DOCFILES): Remove math-ref.tex

2004-08-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* RELEASE: Add `volunteers welcome'.

	* doc/auc-tex.texi (Completion): TeX-insert-macro-default-style.

	* tex.el (TeX-source-specials-mode): Add manual link.

	* doc/auc-tex.texi (Commands): Say how to enable
	TeX-source-specials-mode permanently.
	(Viewing): Describe TeX-view.

2004-08-10  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-maybe-remove-help): convert Emacs' :visible into
	XEmacs' :included.

	* latex.el (LaTeX-mode-menu): Change bug submit menu entry.

	* context.el (ConTeXt-mode-menu): Same.

	* tex.el (plain-TeX-mode-menu): Same.

	* tex-info.el (TeXinfo-mode-menu): Same.

	* latex.el (LaTeX-mode-menu): A few changed help strings and other
	small fry.

	* context.el (ConTeXt-mode-menu): Rework menu, reorganize it, add
	help strings.

2004-08-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (TeXinfo-mode-menu): Capitalize menu entries.

	* context.el (ConTeXt-project-structure-menu-name)
	(ConTeXt-section-block-menu-name, ConTeXt-mode-menu):
	Capitalize menu entries.

	* tex-info.el (TeXinfo-mode-menu): Add help strings.

	* tex.el (TeX-command-list): Set a default value which will not
	lead to an inactive menu entry.
	(plain-TeX-mode-menu): Add some help strings.
	Capitalize menu entries.
	(tex-source-specials-mode): New alias for
	`TeX-source-specials-mode'.

	* latex.el (LaTeX-mode-menu): Rearrange and insert help strings.
	Capitalize menu entries.

	* tex-fold.el (tex-fold-mode): New alias for `TeX-fold-mode' used
	in tex.el.
	(TeX-fold-buffer-type): Support folding of environments in ConTeXt
	mode as well.
	(TeX-fold-item): Ditto.

	* doc/auc-tex.texi (Commands): Change `TeX-source-specials' to
	`TeX-source-specials-mode' where appropriate.

	* RELEASE: Include contributors.  (Hopefully I got everybody.)

2004-08-10  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-set-mode-name, TeX-source-specials-map)
	(TeX-source-specials-mode, TeX-source-specials-expand-options)
	(TeX-source-specials-view-expand-options):
	Rename `TeX-source-specials' to `TeX-source-specials-mode'.
	(TeX-PDF-mode): Make first arg optional (actually, not sure this
	is a good idea).
	(tex-pdf-mode): alias for `TeX-PDF-mode'.
	(tex-interactive-mode): alias for `TeX-interactive-mode'
	(tex-fold-mode): add autoload.
	(TeX-mode-map, TeX-mode-specific-command-menu-entries):
	rename `TeX-source-specials' to `TeX-source-specials-mode'.
	(TeX-command-list): Add help strings.
	(TeX-command-menu-entry): Splice help into command entries.
	(TeX-mode-specific-command-menu-entries): Remove help in XEmacs.
	(TeX-mode-specific-command-list): Save unnecessary copies and
	conses.

2004-08-09  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-set-mode-name): Add LOCAL argument.
	(TeX-source-specials, TeX-mode-set, TeX-global-PDF-mode)
	(TeX-PDF-mode, TeX-interactive-mode): Use it.
	(plain-tex-mode): Move `TeX-set-mode-name' to after running the
	hooks.

	* latex.el (latex-mode): Move setting the mode name to after
	running the hooks.

	* tex.el (TeX-maybe-remove-help): new function (noop on Emacs).
	(TeX-menu-with-help): new macro (noop on Emacs).
	(TeX-mode-specific-command-menu-entries): Add a lot of help strings.
	(plain-TeX-mode-menu): Same here.

	* latex.el (LaTeX-mode-menu): `:visible' is not known in XEmacs,
	and I don't want to clutter the menu with "Convert 209 to 2e" when
	not necessary.

	* RELEASE (Requirements): some additions.
	Incorporate some suggestions from Ralf.

	* tex.el (TeX-set-mode-name): Actually use `reset' (patch by Ralf
	Angeli).

	* latex.el (LaTeX-common-initialization): There is no "LaTeX2e"
	command anymore, so don't set it.  Don't do anything on
	"DVIoutput".  doc fixes.

	* doc/auc-tex.texi (Commands): Explain `TeX-command-buffer',
	`TeX-pin-region', `TeX-PDF-mode', `TeX-interactive-mode',
	`TeX-source-specials'.

2004-08-09  Berend de Boer  <berend@pobox.com>

	* context.el (ConTeXt-current-environment): now properly skips
	nested environments instead of always returning the last
	environment just above the cursor.

2004-08-08  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-run-set-command):
	Initialize `TeX-output-extension' based on `TeX-PDF-mode'.

	* tex.el (TeX-command-output-list): Don't look at pdf* commands.
	Don't have default mode "dvi".
	(VirTeX-common-initialization): Don't add to
	desktop-locals-to-save locally: that's broken.
	(desktop): Add stuff into appropriate variables for proper desktop
	save/restore.
	(TeX-mode-specific-command-menu-entries, plain-TeX-mode-menu):
	Reorganize menus.  Add font commands into plain TeX menu.

	* tex-info.el (TeXinfo-mode-menu): Reorganize menu.

	* latex.el (LaTeX-mode-menu): Reorganize menu.

	* context.el (ConTeXt-mode-menu): Reorganize menu.

2004-08-07  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-base-mode-name): Make buffer-local (Doh).
	(TeX-set-mode-name): Doc fix.

	* doc/todo.texi (Mid-term Goals): Use @previewlatex macro.
	(Mid-term Goals): New entries.  Should some of them be moved to
	wishlist?  Remove a few fixed bugs.

	* doc/macros.texi: move @ConTeXt macro out of info-only section.
	Typeset @previewlatex differently.

2004-08-06  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el: Use "gnu.org" instead of "nongnu.org".

	* bib-cite.el: Ditto.  Use "AUCTeX", not "auc-tex".

	* lpath.el: Use "AUCTeX".

2004-08-05  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/macros.texi: New @ConTeXt macro.

	* doc/auc-tex.texi, doc/changes.texi, doc/history.texi,
	doc/todo.texi, doc/wininstall.texi: Use macros @AUCTeX, @ConTeXt,
	@LaTeX everywhere.

	* doc/auc-tex.texi (European): Mention Emacs 21.  Fixed typo.

	* doc/todo.texi: Help for documentation wanted.

	* doc/changes.texi: Some additions: captcont and subfigure,
	`LaTeX-includegraphics-options-alist', `LaTeX-default-position',
	kpathsea based completion, `TeX-insert-macro-default-style'.
	Refer to installation nodes (autoconf installation).

	* tex.el (TeX-submit-bug-report): Add more explanations.

	* latex.el (LaTeX-style-list): Improve doc-string.

	* font-latex.el (font-latex-script-display): New variable.
	Make raise of sub-/superscripts customizable.
	(font-latex-unfontify-region, font-latex-script): Use it.

2004-08-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* RELEASE: Improve sectioning and add some more information.

2004-08-05  David Kastrup  <dak@gnu.org>

	* tex-site.el.in: don't require 'tex-mik on Windows, let the user
	load it instead of tex-site if he wants to.

	* tex.el (TeX-command-list): Add `%(PDFout)', `%(mode)' and
	`%(execmode)'.  Remove `TeX Interactive', `LaTeX Interactive' and
	`ConTeXt Interactive'.
	(LaTeX-command-style): Don't provide a default for a
	`LaTeX-version' of "2": people can customize this if necessary
	themselves, we would not know a sane default, anyway.
	(TeX-expand-list): Support `TeX-DVI-via-PDFTeX', `%(PDFout)',
	`%(mode)' and `%(execmode)'.
	(TeX-set-mode-name): Add `reset' flag to indicate that the next
	step should again be TeXing.  Add "I" flag.
	(TeX-source-specials): Call `TeX-set-mode-name' with `reset' flag.
	(TeX-mode-set): Variable setter for TeX modes.
	(TeX-PDF-mode): Make the default value a global mode.
	(TeX-global-PDF-mode): Toggle function to change default
	`TeX-PDF-mode'.
	(TeX-PDF-mode): Remove local binding of `TeX-PDF-mode' in case of
	conflicts.  Call `TeX-set-mode-name' with `reset' flag.
	(TeX-DVI-via-PDFTeX): New customizable variable.
	(TeX-interactive-mode): New mode.
	(TeX-mode-map): Add binding for `TeX-interactive-mode'.
	(TeX-mode-specific-command-menu-entries): Add menu entry for it.

	* tex-buf.el (TeX-command-expand): Document `%%'.
	(TeX-run-TeX): If `TeX-interactive-mode' is set, run
	`TeX-run-interactive' instead.

2004-08-04  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-fontify-script): Default to nil in
	XEmacs.

2004-08-04  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-base-mode-name, TeX-set-mode-name): Move to front,
	add catering for global mode switches.
	(TeX-source-specials, global-TeX-PDF-mode): Use this.

	* latex.el (LaTeX-common-initialization): Add style hook for
	"ifpdf".

2004-08-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-unfontify-region): New function.
	(font-latex-setup): Use it.

2004-08-04  David Kastrup  <dak@gnu.org>

	* tex-fptex.el (TeX-command-list): Remove PDFTeX calls.

	* tex-mik.el (TeX-command-list): Remove PDFTeX calls.

	* tex.el (TeX-command-list): Use %(PDF) where necessary, drop
	PDFTeX entries.
	(LaTeX-command-style): Add %(PDF) here.
	(TeX-expand-list): Expand %(PDF).
	(TeX-mode-p): Move.
	(TeX-PDF-mode, global-TeX-PDF-mode): New minor modes.
	(TeX-PDF-mode-on, TeX-PDF-mode-off): Shortcuts for calling.
	(TeX-PDF-mode-parsed): New variable.
	(TeX-set-mode-name): Simplify.
	(TeX-mode-map): Add C-c C-t C-p for TeX-PDF-mode.
	(TeX-mode-specific-command-menu-entries): Add menu entry for it.

	* latex.el (LaTeX-math-mode): Refresh modeline after generating
	it, not before.
	(LaTeX-common-initialization): Add style-hooks fo pdftex, dvips
	and others.

	* tex.el (TeX-view-style, TeX-output-view-style): Place dvi file
	name last.

2004-08-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-source-specials): New customization group.
	(TeX-source-specials, TeX-source-specials-tex-flags)
	(TeX-source-specials-places)
	(TeX-source-specials-view-start-server): Use it
	(TeX-source-specials-view-position-flags)
	(TeX-source-specials-view-gnuclient-flags)
	(TeX-source-specials-view-emacsclient-flags): Change defvar to
	defcustom.
	(TeX-source-specials-view-editor-flags): New customize option.
	(TeX-source-specials-view-expand-client): Return not only client
	but options as well.
	(TeX-source-specials-view-expand-options):
	Use `TeX-source-specials-view-editor-flags'.

2004-08-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-source-specials-places): Change comment.

2004-08-03  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-mode-menu): Add "Close Environment"

	* tex.el (TeX-source-specials-view-gnuserv-p):
	replaces `TeX-source-specials-view-guess-server'.
	(TeX-source-specials-view-expand-client)
	(TeX-source-specials-view-expand-options): Use this.

2004-08-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/alphanum.el, style/doc.el, style/jura.el,
	style/ltx-base.el, style/ltxdoc.el: Added coding cookies.

2004-08-03  David Kastrup  <dak@gnu.org>

	* RELEASE: Change Source Special description and a few other
	things.

2004-08-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-expand-list): New %cS expander for
	`TeX-source-specials-view-expand-client'.
	(TeX-source-specials-view-start-server): New customize option.
	(TeX-source-specials-view-start-server-asked): New variable.
	(TeX-source-specials-view-position-flags): New name.
	Formerly known as `TeX-source-specials-viewer-flags'.
	(TeX-source-specials-view-gnuclient-flags): New variable.
	(TeX-source-specials-view-emacsclient-flags): New variable.
	(TeX-source-specials-view-expand-client): New function.
	(TeX-source-specials-view-expand-options): Expand options for
	inverse search as well.
	Correct return value.
	Use `TeX-source-specials-view-guess-server'.
	(TeX-forward-comment-skip): Only consider consecutive comment
	characters when comparing the comment prefix.
	(TeX-source-specials-view-guess-server): New function.

	* doc/changes.texi: Avoid email addresses.

	* doc/tex-ref.tex: Update to 11.50.

2004-08-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Advertise support for toggling source
	specials.  Mention macro completion in docTeX mode and fix for
	filling in XEmacs with preview-latex and activated previews.

2004-08-01  David Kastrup  <dak@gnu.org>

	* doc/wininstall.texi: Remove info about manual installation.
	Explain about preferred path syntax.

	* doc/install.texi: Move info dor INSTALL.Windows.

2004-08-01  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fptex.el: Do not overwrite customized variables.

	* tex-mik.el: Ditto.

	* Makefile.in (STYLESRC): Add new style files.

	* aclocal.m4: Synchronize with preview-latex.

	* tex-fold.el (TeX-fold-macro-spec-list): Add references to
	default.
	(TeX-fold-buffer-type): Additionally pass display string
	specification and type to `TeX-fold-make-overlay'
	(TeX-fold-item): Ditto.
	(TeX-fold-make-overlay): Accept display string specification and
	type as arguments and set them accordingly in the overlay.
	Do not signal overfullness if the dispay string contains a
	linebreak.
	(TeX-fold-macro-nth-arg): Make `macro-start' mandatory so that
	macro boundaries may be determined even if point is not inside of
	a macro.
	(TeX-fold-hide-item): Recompute display string on closure if
	display string specification is an integer.

	* style/alphanum.el: Add header and reformat.

	* style/jura.el: Add header.

	* style/doc.el: New file. Contributed by Frank Küster
	<frank@kuesterei.ch>.
	(TeX-add-style-hook): Remove bogus `LaTeX-add-index-entries' call.

	* style/ltx-base.el: New file. Contributed by Frank Küster
	<frank@kuesterei.ch>.

	* style/ltxdoc.el: Ditto.

2004-07-31  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el: Autoload `texmathp'.
	(font-latex-keywords-2): Add `font-latex-match-script'.
	(font-latex-script-keywords): Remove.
	(font-latex-fontify-script): Remove :set function.
	(font-latex-match-script): New function.

	* tex-mik.el (TeX-view-style): Remove unconditional source
	specials option for yap.
	(TeX-output-view-style): Set it.
	(TeX-source-specials-viewer-flags): Ditto.

	* tex-fptex.el (TeX-view-style): Adapt options to WinDVI
	documentation.
	(TeX-output-view-style): Set it.
	(TeX-source-specials-viewer-flags): Ditto.

2004-07-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (tar-ball): Remove warning which often confuses
	users.

	* aclocal.m4 (EMACS_MAJOR_VERSION): New test and variable.

	* configure.in: Fix AUCTeX version.

	* tex-site.el.in: At least (X)Emacs 21 is required.

	* tex.el: Ditto.

	* doc/Makefile.in (install): Remove warning which often confuses
	users.

	* doc/auc-tex.texi: Fix version numbers.
	(Changes): New name.  Formerly known as "History".
	(ToDo): New heading.

	* doc/changes.texi: Add heading for `rawfile'.  Change `section'
	to `heading'.

	* doc/faq.texi (Frequently Asked Questions About AUCTeX):
	At least (X)Emacs 21 is needed.

	* doc/install.texi (Prerequisites): Ditto.

2004-07-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-spec-list): Extend default.
	Add specification for argument number.
	(TeX-fold-env-spec-list): Ditto.
	(TeX-fold-folded-face): Rename from
	`TeX-fold-display-string-face'.
	(TeX-fold-unfolded-face): New face and variable.
	(TeX-fold-buffer-type): Move through buffer from bottom to top in
	a single run in order to allow easier prioritization of nested
	overlays.
	(TeX-fold-item): Compute display string via
	`TeX-fold-macr-nth-arg'.
	(TeX-fold-make-overlay): Consider the length of the display string
	as well when judging if a line is overfull.  Let priority be
	computed by `TeX-fold-macr-nth-arg'.  Do not call
	`TeX-fold-hide-item'.
	(TeX-fold-macro-nth-arg): New function.
	(TeX-fold-priority-step): New variable.
	(TeX-fold-prioritize): New function.
	(TeX-fold-hide-item): Set mouse-face.
	(TeX-fold-show-item): Ditto.  Do not set face twice.
	(TeX-fold-post-command): Recognize mouse clicks as well.

	* tex.el (TeX-find-macro-boundaries): New function.
	(TeX-find-macro-end-helper): Find macro arguments with a preceding
	linebreak as well.

	* doc/auc-tex.texi (Folding): Document new functionality.

	* latex.el (LaTeX-fill-region): Improve performance by avoiding
	unnecessary calls to `LaTeX-forward-paragraph'.

	* font-latex.el (font-latex-fontify-script): Doc fix.

2004-07-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-make-overlay): New function.
	Remove superfluous `let'.
	(TeX-fold-buffer-type, TeX-fold-item): Use it.
	(TeX-fold-mode): Call `TeX-fold-clearout-buffer' after clearing
	`post-command-hook'.

2004-07-22  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-indent-line): Temporarily make invisible
	overlays visible in XEmacs.

	* tex.el (TeX-comment-region): Use a real function instead of an
	`fset' and temporarily change `comment-start' for certain XEmacs
	releases.
	(TeX-comment-or-uncomment-region): Use it.
	(TeX-comment-or-uncomment-paragraph): Ditto.

	* doc/changes.texi: Remove warning about TeX-fold not working
	correctly on XEmacs.

2004-07-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-display-string-face): Remove `min-colors'
	spec as XEmacs does not like them.
	(TeX-fold-hide-item): Set face on the glyph and not on the
	overlay/extent in XEmacs.
	(TeX-fold-post-command): Do not check detached extents in XEmacs.

	* context.el (ConTeXt-mode-menu): Check if variable is defined.
	Necessary for XEmacs compatibility.
	(ConTeXt-menu-update): Fix creation of environment menus.

	* latex.el (LaTeX-mode-menu): Check if variable is defined.
	Necessary for XEmacs compatibility.

	* tex-info.el (TeXinfo-mode-menu): Ditto.

2004-07-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-set-title-face): New function.
	(font-latex-title-fontity): Use it to make customization work
	during a session.
	(font-latex-title-*-face): Use it to simplify the initialization.

2004-07-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-macro-spec-list): New name for
	`TeX-fold-spec-list'.  More unobtrusive default.
	(TeX-fold-env-spec-list)
	(TeX-fold-unspec-macro-display-string)
	(TeX-fold-unspec-env-display-string): New variables.
	(TeX-fold-keymap): New key bindings which are more mnemonic and
	orient at preview-latex's bindings instead of outline.el.
	(TeX-fold-buffer): Transfer contents to `TeX-fold-buffer-type'
	which can be used for both macros and environments.
	(TeX-fold-buffer-type): New function.
	(TeX-fold-macro): Transfer contents to `TeX-fold-item' which can
	be used for both macros and environments.
	(TeX-fold-env): New function.
	(TeX-fold-item): New function. Prioritize overlays.
	(TeX-fold-clearout-item): New name for `TeX-fold-clearout-macro'.
	(TeX-fold-hide-item, TeX-fold-show-item): Adapt doc string.

	* latex.el (LaTeX-hide-environment): Remove.  Functionality is now
	provided by TeX-fold.
	(LaTeX-show-environment): Ditto.
	(LaTeX-mode-map): Remove key bindings for `LaTeX-hide-environment'
	and `LaTeX-show-environment'.
	(LaTeX-mode-menu): Adapt key bindings for folding.  Remove menu
	entries for `LaTeX-hide-environment' and `LaTeX-show-environment'.

	* context.el (ConTeXt-mode-menu): Adapt key bindings for folding.

	* tex-info.el (TeXinfo-mode-menu): Ditto.

	* doc/auc-tex.texi (Folding): Document new and changed functions
	and variables related to folding environments (new) and macros.

	* doc/changes.texi: Advertise support for folding environments.

2004-07-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-source-specials): Do not set a lighter in
	`minor-mode-alist' but use `TeX-set-mode-name' instead.
	(TeX-base-mode-name): New variable.
	(TeX-set-mode-name): New function.
	(plain-tex-mode): Set `TeX-base-mode-name' instead of `mode-name'
	and use `TeX-set-mode-name'.
	(ams-tex-mode): Ditto.

	* context-en.el (context-en-mode): Ditto.

	* context-nl.el (context-nl-mode): Ditto.

	* latex.el: Do not add a lighter for `LaTeX-math-mode' in
	`minor-mode-alist'.
	(LaTeX-math-mode): Use `TeX-set-mode-name'.
	(latex-mode): Set `TeX-base-mode-name' instead of `mode-name' and
	use `TeX-set-mode-name'.

	* tex-fold.el (TeX-fold-mode): Do not set a lighter in
	`minor-mode-alist' but use `TeX-set-mode-name' instead.

2004-07-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-find-macro-start): Fix handling of nested macros.
	(TeX-find-macro-start-helper): New function.
	(TeX-find-macro-end-helper): New function.

	* tex-info.el (TeXinfo-mode-menu): Fix extension of customize
	menu.

	* latex.el (LaTeX-env-figure): Prevent superfluous blank lines and
	give RefTeX a chance to generate a label in environments with a
	bottom caption.  Patch by Christian Schlauer <cs-usenet@arcor.de>.
	(LaTeX-style-list): Add entry for beamer class.

	* context.el (ConTeXt-mode-menu): Add "Show/Hide" submenu.

	* doc/auc-tex.texi (Folding): Document key binding for
	`TeX-fold-mode'.

2004-07-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (TeXinfo-mode-map): Inherit from `TeX-mode-map'.
	(texinfo-mode): Enable TeX-master functionality.

	* tex.el (TeX-one-master): Include .texi files.
	(TeX-add-local-master): Use "@c " as comment prefix in Texinfo
	mode.

	* tex-fold.el (TeX-fold): Move customization group from `LaTeX' to
	`AUCTeX'.

	* doc/changes.texi: Advertise folding functionality.

2004-07-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el (TeX-fold-display-string-face): Cater for display
	devices with few colors.
	(TeX-fold-keymap): Add key bindings for showing and hiding
	individual macros.
	(TeX-fold-macro): New function.
	(TeX-fold-clearout-buffer): New name for
	`TeX-fold-remove-all-overlays'.
	(TeX-fold-clearout-macro): New function.
	(TeX-fold-remove-overlays): New function.

	* latex.el (LaTeX-mode-menu): Add entries for showing and hiding
	individual macros.

	* tex-info.el (TeXinfo-mode-menu): Update and rearrange.
	Add entries for "Show/Hide" functionality.

	* doc/auc-tex.texi (Show/Hide): New section.
	(Folding): New subsection.
	(Outline): Move under "Show/Hide".

2004-07-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el: Do not require tex-fold.el.
	Autoload `TeX-fold-mode'.
	(TeX-mode-map): Add keybinding for `TeX-fold-mode'.

	* tex-fold.el: Do not add keybinding for `TeX-fold-mode' with
	`TeX-mode-hook'.
	(TeX-fold-post-command): Do not hijack other overlays.

2004-07-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fold.el: New file.

	* Makefile.in (AUCSRC): Add tex-fold.el.
	(AUCELC): Add tex-fold.elc.

	* latex.el (LaTeX-find-macro-start): Move to tex.el and rename to
	`TeX-find-macro-start'.
	(LaTeX-find-macro-end): Analogous.
	(LaTeX-forward-paragraph): Change call to `LaTeX-find-macro-*' to
	`TeX-find-macro-*'.
	(LaTeX-backward-paragraph): Ditto.
	(LaTeX-mode-menu): Add submenu "Show/Hide".  Add entries for
	relevant functions in tex-fold.el and add the show/hide
	environment entries which were in "Formatting and Marking" before.

	* tex.el: Require tex-fold.el.
	(TeX-find-macro-start): New function.  Formerly known as
	`LaTeX-find-macro-start' in latex.el.
	(TeX-find-macro-end): New function.  Formerly known as
	`LaTeX-find-macro-end' in latex.el.

2004-07-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* texmathp.el (texmathp-match-environment): Let environments be
	added more than once.

	* font-latex.el (font-latex-superscript-face)
	(font-latex-subscript-face): New faces.
	(font-latex-script-keywords): New constant.
	(font-latex-fontify-script): New customize option.
	(font-latex-script): New function.

2004-07-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-buf.el (TeX-view): Inform the user if the output file is
	not present.

	* tex.el (TeX-forward-comment-skip): Fix `count' functionality.
	Stop as well at places where the prefix of commented lines
	changes.  Simplify and improve efficiency by saving current
	prefix before while-loop starts.  Adapt documentation string.
	(TeX-backward-comment-skip): Adapt documentation string.

2004-06-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* context.el (ConTeXt-environment-menu-name): Make name distinct
	from `LaTeX-environment-menu-name'.
	(ConTeXt-environment-modify-menu-name): Analogous.

2004-06-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (tar-ball): Change permissions of auctex-$(TAG).

	* tex.el (TeX-source-specials-expand-view-options): New function.
	(TeX-expand-list): Add new specifier (%dS) for
	`TeX-source-specials-expand-view-options'.
	(TeX-view-style, TeX-output-view-style): Add %dS for source
	specials in all xdvi calls.
	(TeX-expand-list): Remove useless lambda.

	* tex-buf.el (TeX-output-style-check): Remove addition of source
	specials.

2004-06-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-one-master): Add "dtx" extension.
	(TeX-add-local-master): Insert \iffalse...\fi in docTeX mode.
	(TeX-file-extensions): Add "dtx" extension.
	(docTeX-default-extension): New variable.

	* latex.el (LaTeX-find-macro-start): Use next whitespace if the
	end of an opened macro cannot be determined.
	(doctex-mode): Set `TeX-default-extension' to
	`docTeX-default-extension'.

	* doc/changes.texi: Add information about `TeX-newline-function'.

2004-06-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/mdwlist.el (TeX-add-style-hook): Change variables only
	locally.

	* latex.el (LaTeX-default-verb-delimiter): New variable.
	(TeX-arg-verb): Use it.

2004-06-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/mdwlist.el: New header.
	(TeX-add-style-hook): Add support for \makecompactlist, \suspend,
	and \resume.

2004-06-14  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-pin-region): Don't balk at unpinning if there
	is no pinned region.

	* tex.el (TeX-mode-specific-command-menu-entries): Be more
	meticulous about when the pin-region menu entry can be used.

2004-06-13  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-pin-region): Add autoload form.
	(TeX-mode-map): Add keybinding for TeX-pin-region.
	(TeX-mode-specific-command-menu-entries): Add menu entry for it.

	* tex-buf.el (TeX-command-master, TeX-command-region)
	(TeX-command-buffer): Add `override-confirm' prefix argument.
	(TeX-pin-region): New function to replace previous interactive
	prefix for TeX-command-region.  Change TeX-region semantics
	accordingly.

2004-06-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/faq.texi: New file.

	* doc/auc-tex.texi (Filling): Add information about activating
	`auto-fill-mode'.
	(FAQ): Add node.

	* doc/todo.texi (Bugs): Add bug when fontifying unmatched math
	toggles in verbatim-like environments.

	* doc/.cvsignore: Add `FAQ'.

	* doc/Makefile.in (TEXIFILES): Add `faq.texi'.
	(FAQ): New target.
	(dist): Add `FAQ'.
	(clean): Ditto.

	* .cvsignore: Add `FAQ'.

	* Makefile.in (DOCFILES): Add `doc/faq.texi'.
	(EXTRAFILES): Remove `PROBLEMS'.
	(tar-ball): Add `FAQ'.

	* autogen.sh: Activate creation of `FAQ' from `doc/faq.texi'.

2004-06-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-fptex.el (TeX-command-list): Use correct expander for
	"View PDF".

	* latex.el (LaTeX-fill-region-as-para-do): Fix removal of trailing
	whitespace.
	(LaTeX-fill-move-to-break-point): Prevent infinite loop in
	commented regions.
	(LaTeX-fill-newline): Fix compatibility with XEmacs, i.e. use
	code related to text properties only for Emacs and reintroduce
	insertion of a potential fill prefix for XEmacs.

2004-06-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Add some news regarding upcoming release.
	Try to match former news with actual releases.

2004-06-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-comment-padding-string): New function.

	* latex.el (LaTeX-newline): Do something sensible if point is
	at the start of a commented line or inside of one and right at
	the start of another one in the same line.
	(LaTeX-insert-environment): Fix insertion of environments if
	point is inside or right before a commented line.
	(LaTeX-indent-line): Use `TeX-comment-padding-string'.

2004-06-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-make-title-faces): New function.
	(font-latex-title-1-face, font-latex-title-2-face)
	(font-latex-title-3-face): Now generated by
	`font-latex-make-title-faces' and compatible with XEmacs.
	(font-latex-title-4-face): Add face specification for XEmacs.

2004-06-04  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-view-mouse): New function.

	* tex.el (TeX-source-specials-map): Outcomment madcap mouse
	bindings.
	(minor-mode-map-alist): Remove TeX-source-specials manually, as I
	can't figure out how to not get it placed there by
	define-minor-mode.
	(TeX-split-string): Correct docs.  Simplify.
	(TeX-parse-path): Fix pattern.

2004-06-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-newline): New function.
	(TeX-mode-map): Use it.

	* latex.el: Various checkdoc-related fixes.
	(LaTeX-forward-paragraph): Check for and cope with multi-line
	paragraph commands not only those with a single line.
	Check for LaTeX macro at the end of a paragraph command.
	(LaTeX-backward-paragraph): Check for and cope with multi-line
	paragraph commands not only those with a single line.
	(LaTeX-paragraph-command-p): Remove.
	(LaTeX-find-macro-start): Find macro start even if point is
	already at the start.

	* doc/auc-tex.texi (Marking and formatting): Split into
	`Indenting' and `Filling'.
	(Indenting): New section.
	(Filling): New section.

	* doc/intro.texi: Fix key representations and reference to
	`fill-paragraph'.

2004-06-02  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-format-filter): Don't use split-string which
	appears to trigger an XEmacs bug.

2004-06-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-insert-macro-default-style): Fix typo in doc-string.

2004-06-01  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-no-braces-modes): Remove.  Revert unintened
	addition from 2004-04-19 commit.
	(TeX-insert-macro-default-style): New variable.
	(TeX-parse-arguments): Use it.
	(TeX-insert-macro): Document dependence on
	`TeX-insert-macro-default-style' and prefix.  Fix typo in comment.

2004-05-29  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-source-specials-map): Fix key binding for XEmacs.

2004-05-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (TEX_INPUT_DIRS): Quote regexps with square brackets.

	* tex.el (TeX-newline-function): Rename.  Formerly known as
	`TeX-newline'.
	(TeX-mode-map): Use new name.

	* doc/auc-tex.texi (Marking and formatting): Rename `TeX-newline'
	to `TeX-newline-function'.

2004-05-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/graphicx.el (LaTeX-arg-includegraphics): Rewrite.
	Optional macro arguments can be controlled by
	`LaTeX-includegraphics-options-alist' now.
	(LaTeX-includegraphics-extensions)
	(LaTeX-includegraphics-read-file): New functions.
	(TeX-include-graphics-simple): Remove; use
	`LaTeX-includegraphics-options-alist' instead.
	(TeX-string-divide-number-unit, TeX-default-unit-for-image):
	Move to `tex.el'.

	* latex.el (LaTeX-includegraphics-extensions)
	(LaTeX-includegraphics-options-alist)
	(LaTeX-includegraphics-strip-extension-flag): New options for
	`style/graphicx.el'.

	* tex.el (TeX-kpathsea-path-delimiter): Fix doc-string.
	(TeX-insert-macro, TeX-parse-arguments): Skip optional macro
	arguments when called with a prefix.
	(TeX-string-divide-number-unit, TeX-default-unit-for-image):
	From `style/graphicx.el'.
	(TeX-arg-maybe): New function.

	* latex.el (LaTeX-common-initialization): Add additional
	arguments for \parbox.

2004-05-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-newline): New name for `TeX-indent-on-newline'.
	It now holds function definitions and not mere symbols anymore.
	(TeX-mode-map): Use it.

	* doc/auc-tex.texi (Marking and formatting): Remove documentation
	for `TeX-indent-on-newline' and document `TeX-newline'.

2004-05-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-indent-on-newline): New option.
	(TeX-mode-map): Use it.

	* doc/auc-tex.texi (Marking and formatting):
	Document `TeX-indent-on-newline' plus small corrections.

2004-05-25  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-command): Add `override-confirm' argument.
	(TeX-view): New function, without confirmation.

	* context.el (ConTeXt-mode-map): Inherit keymap instead of
	copying.

	* latex.el (LaTeX-mode-map): Inherit keymap instead of copying.

	* tex.el (TeX-source-specials-map): New variable.
	(TeX-source-specials): Make a minor mode.
	Replaces `TeX-toggle-source-specials' and
	`TeX-source-specials-active-flag'.
	(TeX-source-specials-expand-options): Adapt to that.
	(TeX-electric-macro-map): inherit from
	`minibuffer-local-completion-map' instead of copying.
	(plain-tex-mode): Help string uses `plain-TeX-mode-map'.
	(TeX-mode-p): New variable, set in TeX modes.
	(VirTeX-common-initialization): Set it.
	(TeX-mode-map): Proper defvar.  Add keybindings for
	`TeX-source-specials' and `TeX-view'.
	(plain-TeX-mode-map): Inherit instead of copy.
	(AmSTeX-mode-map): Same here.

	* doc/auc-tex.texi: Change info dir formatting, adapt copyrights
	according to the assignment process.

2004-05-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/install.texi (Configure): Remove unused option
	`--with-texmf-dir'.  Document new option `--with-tex-input-dirs'.

	* doc/wininstall.texi: Ditto.  Add information about new option
	`--with-auto-dir'.

	* latex.el (LaTeX-backward-paragraph): Revert check-in of
	2004-05-24.

2004-05-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-backward-paragraph): Recognize if point is at
	the end of a line when the test for a macro following a paragraph
	command is carried out.

2004-05-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-doctex-^^A): Add mistakenly deleted
	space again.

2004-05-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/graphicx.el (TeX-string-divide-number-unit): Rename from
	misspelled `TeX-string-divide-nuber-unit'.  Reformat file.
	Fix some doc-strings and comments.

2004-05-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (TEX_INPUT_DIRS): New help string.  Better error
	handling.

2004-05-19  David Kastrup  <dak@gnu.org>

	* aclocal.m4: Comment EMACS_LISP.
	(EMACS_TEST_LISPDIR): remove both trailing backslash and slash.

2004-05-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-move-to-break-point): Prevent infinite loop
	in lines starting with whitespace.
	(LaTeX-forward-paragraph): Don't consider paragraph commands
	followed directly by a TeX macro as part of an adjacent paragraph.
	(LaTeX-backward-paragraph): Ditto.

2004-05-18  Davide G. M. Salvetti  <salve@debian.org>

	* aclocal.m4 (AUCTEX_AUTO_DIR): Change `autodir' default to
	`${localstatedir}/auctex' to conform to the GNU Coding Standards.
	Add `autodir_expanded' as the properly expanded version of
	`autodir'.  Inform the user about the check in progress.
	* tex-site.el.in (TeX-lisp-directory): Use `@autodir_expanded@'.

2004-05-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* aclocal.m4 (AUCTEX_AUTO_DIR): Avoid AS_HELP_STRING for
	compatibility with autoconf < 2.58.

2004-05-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (TEX_INPUT_DIRS): Use `--expand-braces' instead of
	`--show-path' in the kpsewhich calls.  Use `--expand-path' as a
	fallback e.g. for MikTeX.  Assume that we are dealing with a
	TDS-compliant TeX system and add "/tex/" and "/bibtex/bst/"
	subdirectories to the output of the kpsewhich calls accordingly.

	* latex.el (LaTeX-fill-newline): Don't use code specific to GNU
	Emacs for XEmacs.  Call `newline-and-indent' instead.

2004-05-15  Davide G. M. Salvetti  <salve@debian.org>

	* aclocal.m4 (AUTO_DIR): Code cleaned; renamed to
	`AUCTEX_AUTO_DIR'.
	* configure.in: Change `AUTO_DIR' to `AUCTEX_AUTO_DIR'.

2004-05-14  Davide G. M. Salvetti  <salve@debian.org>

	* style/italian.el (LaTeX-italian-open-quote)
	(LaTeX-italian-close-quote): Use standard babel syntax rather than
	latin1 characters.  Patch by David Kastrup <dak@gnu.org>.

2004-05-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-indent-calculate-last): Ignore commented lines
	when called in a non-comment line.

	* style/scrbase.el (TeX-add-style-hook): Fontify \minisec like a
	sectioning command.

2004-05-14  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-auto-generate): Bind `enable-local-eval'.

2004-05-13  Davide G. M. Salvetti  <salve@debian.org>

	* doc/auc-tex.texi (European): Sort languages list alphabetically.

	* doc/install.texi (Configure): Document `--with-auto-dir'.

	* Makefile.in (DOCFILES): Add `doc/macros.texi'.

	* doc/Makefile.in (distclean): New.

2004-05-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-env-item): Don't eat non-empty lines when
	called on a marked region unless they only consist of whitespace
	and comment characters.  Fill the paragraph of a potentially
	outdented line after insertion of \item.

	* aclocal.m4 (TEX_INPUT_DIRS): Repair quoting.

	* tex.el (TeX-kpathsea-format-alist): Rename.  Formerly known as
	`TeX-kpathsea-directory-alist'.  Add information to every format
	about the file extensions to be found.
	(TeX-search-files-kpathsea): Adapt to new information in
	`TeX-kpathsea-format-alist'.
	(TeX-mode-specific-command-menu-entries): Move source specials
	toggle up to first level of command menu.

2004-05-12  Davide G. M. Salvetti  <salve@debian.org>

	* aclocal.m4 (AUTO_DIR): New function.
	* configure.in: Use `AUTO_DIR' to expand `@autodir@' in
	`tex-site.el.in'.
	* Makefile.in (autodir): Use `@autodir@'.
	* tex-site.el.in (TeX-auto-global): Definition moved from
	`tex.el'.  Use `@autodir@'.
	* tex.el (TeX-auto-global): Definition moved to `tex-site.el.in'.
	* lpath.el: Bind `TeX-auto-global'.

	* style/italian.el: New file.
	* doc/auc-tex.texi (Font Specifiers): Remove two sentences
	referring to the old behavior of the short-cuts for easy
	insertions of fonts changing macros.  (At that time they added
	things like `{\it --!--}', now they add things like
	`\textit{--!--}'.)
	(Marking and formatting): Reflect renaming of
	`LaTeX-format-comment-syntax-aware' to `LaTeX-syntactic-comments'.
	(European): Document `italian.el'.
	* Makefile.in (STYLESRC): Add `italian.el'.

	* lpath.el: Bind `TeX-macro-global'.
	* tex.el: No need to `(require 'tex-site)' at compilation time,
	see `lpath.el'.

2004-05-12  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-source-specials-active-flag)
	(TeX-source-specials-check-function, TeX-source-specials-xdvi-p)
	(TeX-source-specials-check-xdvi)
	(TeX-mode-specific-command-menu-entries)
	(TeX-maybe-set-source-specials, TeX-toggle-source-specials):
	Remove all checks for validity of the Source Special options.
	Just assume that the user knows what he is asking for.

2004-05-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* aclocal.m4 (TEX_INPUT_DIRS): Don't use `findtexmf' but a
	universal call of `kpsewhich' and unify paths separated by `;'
	or `:'.

	* context.el (ConTeXt-mode-menu): Show `TeX-comment-or-uncomment-*'
	functions in the menu instead of the comment and uncomment
	functions which don't have a key binding.

	* tex.el (plain-TeX-mode-menu): Ditto.
	(TeX-mode-map): Move definitions of `C-c ;' and `C-c %' downwards
	so that they become visible in the menu.

	* latex.el (LaTeX-fill-region-as-para-do): Remove extra spaces
	between words.
	(LaTeX-mode-menu): Show `TeX-comment-or-uncomment-*'
	functions in the menu instead of the comment and uncomment
	functions which don't have a key binding.

2004-05-11  David Kastrup  <dak@gnu.org>

	* style/beamer.el: Updates from Thomas Baumann checked in.

2004-05-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-doctex-^^A): Add compatibility code
	for Emacs 20 and XEmacs to fix compile error.
	(font-latex-verbatim-face): Add parentheses to fix error with
	Emacs 20.
	(font-latex-doctex-preprocessor-face): Ditto.
	(font-latex-doctex-documentation-face): Ditto.

	* style/prosper.el (LaTeX-prosper-insert-slide): Don't stay in
	comment upon inserting a slide in an overlay.

2004-05-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-source-specials-check-function): Add "Always on"
	choice.

2004-05-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-doctex-syntactic-keywords): Move to
	the right place and corrected quoting.

	* context.el (ConTeXt-indent-syntax-table): Create with
	`make-syntax-table' instead of `easy-mode-defsyntax' to allow
	compilation with Emacs 20.

	* aclocal.m4 (TEX_INPUT_DIRS): New function.

	* configure.in: Use `TEX_INPUT_DIRS' for the expansion of
	`@texinputdirs@' in `tex-site.el.in'.

	* tex-site.el.in: Updated header.
	(TeX-macro-global): Move here from `tex.el'.
	Use `@texinputdirs@'.

	* tex.el: Require `tex-site' at compile time.
	(TeX-macro-global): Move to `tex-site.el.in'.

2004-05-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-toggle-source-specials): Add missing call to
	`TeX-maybe-set-source-specials' in last commit.

2004-05-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* font-latex.el (font-latex-verbatim-face)
	(font-latex-doctex-preprocessor-face)
	(font-latex-doctex-documentation-face): New variables and faces.
	(font-latex-verbatim-environments, font-latex-syntactic-keywords)
	(font-latex-doctex-syntactic-keywords)
	(font-latex-doctex-keywords): New variables.
	(font-latex-set-syntactic-keywords)
	(font-latex-syntactic-face-function, font-latex-doctex-^^A)
	(font-latex-doctex-syntactic-face-function): New functions.
	(font-latex-setup): Set special `font-lock-defaults' for docTeX
	mode.
	(font-latex-commented-outp): Don't classify line comments in
	docTeX mode as "real" comments.

	* latex.el (doctex-mode): Call `TeX-install-font-lock' to
	activate special fontification in docTeX mode.

	* style/alltt.el (TeX-add-style-hook): Add "alltt" to
	`font-latex-verbatim-environments'.

	* context.el: Updated header.

	* context-nl.el: Updated header.

	* context-en.el: Updated header.
	(context-en-mode): Set `ConTeXt-current-interface' to "en".

2004-05-06  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-toggle-source-specials): Simplify the code.

2004-05-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (DOCFILES): Add `todo.texi'.

2004-05-05  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-command-list, TeX-source-specials-expand-options)
	(plain-tex-mode, TeX-view-extension, ams-tex-mode): Doc fixes.

	* tex.el (TeX-mode-hook, AmS-TeX-mode-hook): Have always been run,
	but were not declared with defcustom (or defvar).

	* latex.el (LaTeX-mode-hook): Ditto.

	* Makefile.in (tar-ball-clean): New.

	* autogen.sh: Create README and TODO.

	* .cvsignore, doc/.cvsignore: Add TODO.

2004-05-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-expand-list): Inserted new expander `%S' for source
	specials command line option.
	(TeX-command-list): Inserted `%S' for source specials support
	where appropriate.
	(LaTeX-command-style): Ditto.
	(TeX-source-specials-expand-options): New function.

	* tex-buf.el: Updated header.
	(TeX-style-check): Remove code specific to source specials and
	thereby revert to state before 2004-04-27.

	* tex-jp.el: Updated header.
	(japanese-TeX-command-list): Inserted `%S' for source specials
	support where appropriate.

	* tex-fptex.el: Updated header.
	(TeX-command-list): Inserted `%S' for source specials support
	where appropriate.
	(LaTeX-command-style): Setting removed.

	* tex-mik.el: Updated header.
	(TeX-command-list): Inserted `%S' for source specials support
	where appropriate.
	(LaTeX-command-style): Setting removed.

	* doc/auc-tex.texi (Checking): Update URL's for lacheck and
	chktex.

2004-05-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el: Header updated.
	(TeX-master-file): Remove bogus test for `TeX-header-end'.

	* doc/auc-tex.texi (ToDo): New name for node/section formerly
	known as `Projects' or `Wishlist' respectively.
	Removed items not relevant anymore and moved the rest to the new
	file `doc/todo.texi'.
	Removed `Credits' section.

	* doc/Makefile.in (TEXIFILES): New constant.
	(auctex): Use it.
	(dist): Add `TODO'.
	(TODO): New target.
	(clean): Add `TODO'.
	Some formattig changes.

	* doc/todo.texi: New file.

	* Makefile.in (tar-ball): Add `TODO'.

	* doc/changes.texi: Advertise support for `beamer.cls'.

2004-04-30  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-command-expand): Add "%%" expansion, make order
	of TeX-expand-list irrelevant, make the whole junk work
	efficiently.

2004-04-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el: New header.
	(LaTeX-indent-environment-list): Remove `alltt' and add support
	for it in `alltt.el' instead.

	* Makefile.in (STYLESRC): Add `alltt.el'.

	* style/alltt.el: New file.

	* doc/changes.texi: Describe changes in quote insertion if
	`german.sty' or `ngerman.sty' is used.
	Advertise new style files.

2004-04-29  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-buf.el (TeX-style-check): New optional argument.  This fixes
	an error in the last commit.

	* tex.el (TeX-expand-list): Use it.

2004-04-27  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-buf.el (TeX-style-check, TeX-output-style-check): Check for
	source special stuff here instead of `TeX-expand-list'.
	Honor `TeX-source-specials-places'.

	* tex.el (AUCTeX): Fix URL.
	(TeX-default-mode, TeX-force-default-mode, TeX-install-font-lock)
	(TeX-source-specials-active-flag): Change custom group.
	(TeX-expand-list): Move source special stuff to `TeX-style-check'
	and `TeX-output-style-check'.
	(TeX-source-specials-tex-flags): Make it customizable.
	(TeX-source-specials-places): New variable.
	(TeX-source-specials-viewer-flags): No IFS needed anymore.

2004-04-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* context.el (context-guess-current-interface): Simplify code.

2004-04-25  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (texinfo-mode): Make last change in
	`font-lock-defaults' compatible with Emacs 20.

	* latex.el (LaTeX-fill-region-as-paragraph): Indent lines ending
	with `\\' upon filling a region.
	(LaTeX-fill-region): Prevent infinite loop at end of buffer.

2004-04-24  David Kastrup  <dak@gnu.org>

	* style/natbib.el ("natbib"): Add fontification for regexps.
	Patch by Thomas Baumann.

2004-04-24  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex-info.el (texinfo-mode): Set `font-lock-defaults' as in
	`texinfo.el'.  This way we get e.g. syntax-highlighting of
	comments in Texinfo mode.

2004-04-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-toggle-source-specials)
	(TeX-maybe-set-source-specials, TeX-source-specials-check-xdvi):
	New (renamed) functions.
	(TeX-source-specials-active-flag, TeX-source-specials-tex-flags)
	(TeX-source-specials-viewer-flags)
	(TeX-source-specials-check-function, TeX-source-specials-xdvi-p):
	New (renamed) variables.  Tried to clarify doc-strings and
	variable names.

2004-04-23  David Kastrup  <dak@gnu.org>

	Source special support by Dan Nicolaescu <dann@ics.uci.edu>:
	* tex.el (TeX-command-list): start viewer with TeX-run-discard
	(TeX-expand-list): Add source special flags to viewer call.
	(TeX-expand-list): Add source special flags to LaTeX call.
	Various new functions.
	(TeX-current-file-name-master-relative): New function replacing
	TeX-current-file-name-nondirectory (which is not really needed, I
	guess).  This change sole fault of dak.
	(TeX-mode-specific-command-menu-entries): Source Special entry.

2004-04-23  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-region-as-paragraph): Fix call to
	`indent-region' for "older" Emacsen.
	(LaTeX-mode-menu): Fix menu extension for customization.

	* context.el (ConTeXt-mode-menu): Fix menu extension for
	customization.

	* tex-info.el (TeXinfo-insert-environment): Support enclosure of
	a selected region by the environment to be inserted.
	Don't eat newline at the end of the environment.
	(TeXinfo-mode-map): Bind `C-c C-e' to `TeXinfo-insert-environment'
	analogous to LaTeX mode.

2004-04-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/slides.el: Remove obsolete SliTeX-related code and
	replace it by minimal support for slides.cls.

	* latex.el: Change spaces to tabs in indentation.
	(LaTeX-fill-region-as-paragraph): Filling is disabled for
	environments listed in `LaTeX-indent-environment-list'.  To be
	consistent with filling of other environments where indentation
	occurs, at least indent those environments.

	* tex.el: Change spaces to tabs in indentation.

2004-04-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-output-view-style): Move "dvips && gv" element to
	the top of the list (not shadowed by a4paper anymore).
	Added "pst-" in this element.

2004-04-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-current-environment): Respect value of
	`LaTeX-syntactic-comments' and mode by narrowing the region if
	necessary and checking necessary conditions.
	Use `TeX-forward-comment-skip' and `TeX-backward-comment-skip' for
	narrowing.
	(LaTeX-find-matching-end): Ditto.
	(LaTeX-find-matching-begin): Ditto.
	(docTeX-in-macrocode-p): New function.

	* tex.el: More checkdoc-related fixes.

2004-04-20  David Kastrup  <dak@gnu.org>

	* style/natbib.el: Patch from Thomas Baumann for \bibpunct.

	* Makefile.in (STYLESRC): Add style/beamer.el.

	* style/beamer.el: Support file contributed by Thomas Baumann.

2004-04-19  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el, latex.el: Make almost checkdoc clean.  See "FIXME" for
	remaining issues.

	* context.el, context-en.el, context-nl.el: Reindent.
	Coding conventions fixes (but files are still far from being checkdoc
	clean).

2004-04-19  Berend de Boer  <berend@pobox.com>

	* context-en.el (ConTeXt-default-environment-en): added default
	environment for en interface.

	* context-nl.el (ConTeXt-default-environment-nl): added default
	environment for nl interface.

	* context.el (ConTeXt-default-environment): now depends on language.

2004-04-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-view-style): Enhance documentation string.
	(TeX-output-view-style): Ditto.

2004-04-16  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex-info.el (TeXinfo-command-menu):
	Use `TeX-mode-specific-command-menu'.

	* tex-jp.el (plain-TeX-mode-command-menu)
	(LaTeX-mode-command-menu): Ditto.

2004-04-16  David Kastrup  <dak@gnu.org>

	* Makefile.in (STYLESRC): Add jura.el and alphanum.el
	style/jura.el, style/alphanum.el: contributed by Frank Küster.

2004-04-16  Berend de Boer  <berend@pobox.com>

	* context.el (context-guess-current-interface): support for
	recognizing interface=XX in comment to determine language to use.

	* tex.el (TeX-format-list): recognize ConTeXt dutch interface.

	* Makefile.in: AUCSRC includes the new context-en.el and context-nl.el.
	Ditto fo AUCELC.

	* context.el: English interface macro's moved to context-en.el.
	All defmacro's are now replaced by defvars which are set to the
	proper language dependent interface as a local buffer variable.
	Some changes to make the context mode actually multi-lingual.
	(ConTeXt-mode-common-initialization): new routine with
	initialization common to all ConTeXt modes.
	(context-mode): guesses current interface for en and nl interfaces.
	(context-guess-current-interface): new routine that determines
	what ConTeXt language interface is in use.

	* context-nl.el: new file containing Dutch interfaces macro's
	previously in context.el. Use context-nl-mode to activate.

	* context-en.el: new file containing English interfaces macro's
	previously in context.el. Use context-en-mode to activate.

2004-04-15  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-mode-specific-command-menu): Now holds the logic for
	returning a Command menu definition suitable for different Emacs
	versions.  Its original content is now in the function
	`TeX-mode-specific-command-menu-entries'.
	(TeX-mode-specific-command-menu-entries): New function.
	(plain-TeX-mode-command-menu): Simply use
	`TeX-mode-specific-command-menu' instead of the logic which now
	is part of it.
	(AmSTeX-mode-command-menu): Ditto.

	* latex.el (LaTeX-mode-command-menu): Ditto.

	* context.el (ConTeXt-mode-command-menu): Ditto.

2004-04-14  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/Makefile.in (clean): Remove *.tmp (created with auc-tex.ps).

	* doc/.cvsignore: Added *.tmp.

	* .cvsignore: Revert 2004-04-12 change.  Added README.

	* Makefile.in (tar-ball): .nosearch is not useful here.

2004-04-13  David Kastrup  <dak@gnu.org>

	* aclocal.m4: Try something in AC_FULL_EXPAND that does not
	require bash.
	Replace ' with quote in EMACS_LISP
	Correct a few instances of misspelled AUCTeX.

2004-04-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (DOCFILES, EXTRAFILES): Add files needed for the
	configure based installation.

2004-04-12  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (dist): Split into `check-dist', `release-commit'
	and `tar-ball'.
	(snapshot): New.  Use `check-dist' and `tar-ball'.
	(release-commit): Fix mail address.
	(REMOVE, MINMAPSRC, min-map): Remove.
	(DIST_PREFIX): Derive FTPDIR and WWWDIR from this.

	* doc/Makefile.in (dist): Use INSTALL and INSTALL.windows instead
	of INSTALLATION.

	* doc/.cvsignore: Added INSTALL, INSTALL.windows, auc-tex.ps

	* .cvsignore: Removed INSTALL, INSTALL.windows.

2004-04-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-syntactic-comments): New name.  Formerly known
	as `LaTeX-format-comment-syntax-aware'.  This should better
	reflect the meaning the variable will receive eventually.
	(LaTeX-indent-line): Use new name.
	(LaTeX-current-indentation): Ditto.
	(LaTeX-back-to-indentation): Ditto.
	(LaTeX-fill-paragraph): Ditto.
	(doctex-mode): Ditto.

	* context.el (context-mode): Use `LaTeX-syntactic-comments'
	instead of `LaTeX-format-comment-syntax-aware'.

2004-04-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auc-tex.texi (Japanese): Refer to `INSTALL' instead of
	`INSTALLATION'.

	* doc/intro.texi: Refer to `INSTALL' and `INSTALL.windows'
	instead of `INSTALLATION'.

	* IRIX: Removed.

	* Makefile.in (EXTRAFILES): Remove IRIX.

	* COPYING: Updated to current incarnation.

2004-04-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* Makefile.in (install-el, dist): Add .nosearch in style/ and
	auto/.

2004-04-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* context.el (ConTeXt-current-interface): eval-and-compile instead
	of eval-when-compile seems to solve the undefined error message.

2004-04-08  Peter S Galbraith  <psg@debian.org>

	* font-latex.el (font-latex-setup): Bug Fix; was overriding
	font-latex-string-face.  Thanks to Reuben Thomas for finding the bug.

2004-04-08  Jan-Åke Larsson  <jalar@mai.liu.se>

	* configure.in: Remove sole reference to texmfdir

	* aclocal.m4: Fix --with-lispdir

2004-04-08  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-paragraph): Fix check for code comment.
	(LaTeX-fill-code-comment): Ditto.

	* tex.el (TeX-in-commented-line): Don't alter match data.
	Fixes problems with `LaTeX-find-matching-end'.
	(TeX-in-line-comment): Ditto.  (Prophylactic.)

2004-04-08  Berend de Boer  <berend@pobox.com>

	* latex.el (LaTeX-outline-name): could reach past end of buffer
	when an imenu was created and LaTeX-outline-regexp contained a
	macro that either didn't take a argument between braces or a macro
	was found in the document and the user forgot to specify the
	argument. And that macro was after the last 20 characters of the
	buffer.

	* context.el (ConTeXt-current-interface): eval-when-compile this
	variable fixed another reported compiliation error.

2004-04-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-default-position, LaTeX-env-array)
	(LaTeX-env-tabular*): Implement "don't prompt" option.

	* doc/auc-tex.texi (Tabular-like): Add `LaTeX-default-format'
	and `LaTeX-default-position'.

2004-04-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-break-at-separators): New name.
	Formerly known as `LaTeX-fill-distinct-contents'.
	Changed 'braced and 'math options to various symbols for opening
	and closing separators (braces, brackets, math switches) which
	can be activated independently.
	(LaTeX-fill-move-to-break-point): Use it.

	* doc/auc-tex.texi (Marking and formatting): Reflect change of
	`LaTeX-fill-distinct-contents' to
	`LaTeX-fill-break-at-separators'.
	Describe `LaTeX-fill-break-before-code-comments'.

2004-04-07  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-run-command): Turn off line number mode in the
	run-buffer effectively by setting line-number-display-limit
	locally to 0.
	(TeX-format-filter): Use a more sophisticated procedure for
	fishing out page numbers in order to have fast matches.

2004-04-07  Berend de Boer  <berend@pobox.com>

	* Lots of enhancements to context.el. There is now a ConTeXt
	specific menu which lists ConTeXt specific macro's for inserting
	start/stop pairs, project structure and setup of things. Menu also
	let's you jump to the etexshow definition if you have that
	installed. Querying for macro parameters is non-existent or
	flaky. outline and imenu support added. You can close an XML tag
	if you're editing XML in ConTeXt with C-c /.
	List of environments is now complete.
	Paragraph formatting works in certain cases, but is really slow or
	doesn't work in certain cases.
	Indenting the same: works sometimes, but still flaky.
	Bugs fix: start/stop insertion works now.

	* documentation now mentions ConTeXt sometimes.

	* context.el (ConTeXt-current-interface): make now doesn't complain
	anymore when byte compiling ConTeXt.

	* tex.el now recognizes ConTeXt dutch interface.

2004-04-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-code-comment): Respect `indent-tabs-mode'.
	Fix partially taken from GNU Emacs' fill.el.

	* tex.el (TeX-mode-specific-command-list): New function.
	(TeX-mode-specific-command-menu): Use it.

	* tex-buf.el (TeX-command-query):
	Use `TeX-mode-specific-command-list' to get a command list specific
	to the current mode for command completion.

2004-04-04  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (docTeX-indent-inner-fixed): New var.
	(LaTeX-indent-calculate): Use it.
	(LaTeX-indent-calculate-last): Reset indentation to zero after
	macrocode environments.

	* style/booktabs.el (TeX-add-style-hook): Add fontification
	support.

2004-04-04  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-find-matching-end, LaTeX-find-matching-end):
	Try to keep track of in-comment-ness

2004-04-03  David Kastrup  <dak@gnu.org>

	* Makefile.in (STYLESRC): Add emp.el.

	* style/emp.el: New file contributed from Yvon Hevel.

2004-04-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-back-to-indentation): Use `beginning-of-line'
	instead of `move-to-left-margin' as it is faster and we don't use
	the margin anyway.
	(LaTeX-fill-region-as-para-do): Use `point-max' for correctly
	determining the end of the filling loop in case of a code comment.
	Narrow to region in any case to simplify this determination in
	case there is no code comment.
	(LaTeX-fill-move-to-break-point): Fix compatibility code for
	getting the initial break point.  In case there is no valid break
	point on the way towards the beginning of the line, look down the
	line.

2004-03-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-output-view-style): Remove option for landscape in
	case of PDF output.

2004-03-26  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-fill-region): Correct percentage display.

	* tex-buf.el (TeX-format-filter): Strictly restrict backward
	searches for page number patterns.

2004-03-26  Davide G. M. Salvetti  <salve@debian.org>

	* bib-cite.el, latex.el, tex-buf.el, tex-jp.el, tex.el:
	Map (function (lambda ...)) to (lambda ...) for better
	readability.

	* doc/.cvsignore: Added CHANGES, HISTORY, README, auc-tex*.html.

	* doc/intro.texi: Minor fix.

2004-03-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-indent-line): Use `looking-at' instead of
	`re-search-forward'.  Pass indent amount to
	`LaTeX-indent-{inner,outer}-do' functions.
	(LaTeX-indent-inner-do, LaTeX-indent-outer-do): Let them be called
	with an explicit parameter for the indent amount.
	(LaTeX-indent-calculate-last): Distinguish a commented and an
	uncommented line when skipping backwards to the preceding line.
	Move tests for comment skips into the `cond' statement for better
	readability.
	(LaTeX-fill-break-before-code-comments): New customize option.
	(LaTeX-fill-region-as-paragraph): Change the regular expression
	which is used for searching for special line ends so that it is
	not such a performance hog.  Code for determining the region to
	fill was adapted accordingly.
	(LaTeX-fill-region-as-para-do): Remove trailing whitespace after
	newlines were changed to spaces.  Reported by Reiner Steib
	<Reiner.Steib@gmx.de>.
	Use `narrow-to-region' for keeping track of potential code comment
	starts.
	Break a line at the last non-comment word before a code comment.
	This can be configured with
	`LaTeX-fill-break-before-code-comments'.
	(LaTeX-fill-move-to-break-point): Use `LaTeX-back-to-indentation'
	for going to the right start of a line.
	(LaTeX-fill-paragraph): `LaTeX-backward-paragraph' does not skip
	forward over empty lines itself anymore, so do it here.
	(LaTeX-fill-region): Use `LaTeX-forward-paragraph' and
	`LaTeX-backward-paragraph' instead of the old code which
	determined paragraph boundaries manually.
	(LaTeX-forward-paragraph, LaTeX-backward-paragraph):
	Improve handling of paragraph commands.
	(LaTeX-paragraph-command-p): Get rid of the test for the opening
	brace because there doesn't have to be one.
	(LaTeX-find-macro-start): New function.
	(LaTeX-find-macro-end): New function.

	* .cvsignore: Added `tex-site.el'.

2004-03-23  David Kastrup  <dak@gnu.org>

	* tex.el (VirTeX-common-initialization): Back out last change
	about sentence-end-double-space.

2004-03-22  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4, configure.in: Fix bug for the case $prefix=NONE

	* Makefile.in: distclean target removes tex-site.el

2004-03-22  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-fill-distinct-contents): Simplify customization
	type: nil is a complete list.

2004-03-21  David Kastrup  <dak@gnu.org>

	* tex.el (VirTeX-common-initialization):
	Set sentence-end-double-space and sentence-end to more appropriate
	values for TeX.

2004-03-21  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-region-as-paragraph): Fix separation of
	lines with code comments looking like " {%".
	(LaTeX-fill-move-to-break-point): Fix determination of break point
	for an opening brace where there is no break point immediately
	after the respective closing brace.
	(LaTeX-fill-region-as-para-do): Fix determination of code comment
	begin in filling loop.

2004-03-20  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-region-as-para-do): Fix compatibility code
	for older Emacsen.

2004-03-19  David Kastrup  <dak@gnu.org>

	* tex-site.el.in (texinfo-mode): Autoload tex-info again.
	I suppose we will get to know why it was disabled when someone
	complains.

2004-03-19  Davide G. M. Salvetti  <salve@debian.org>

	* doc/Makefile.in (clean): Add HISTORY.

	* tex.el (TeX-lisp-directory): Remove, it's already defined in
	tex-site.el.in.

2004-03-19  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-current-environment): Use correct regexp for
	determination of a comment.
	(LaTeX-format-comment-syntax-aware): Rename from
	`LaTeX-fill-comment-syntax-aware' because it affects both filling
	and indentation.
	(LaTeX-indent-line): Add support for doing outer and inner
	indentation.
	(LaTeX-current-indentation): Ditto.
	(LaTeX-back-to-indentation): Ditto.
	(LaTeX-indent-calculate): Ditto.
	(LaTeX-indent-calculate-last): Ditto.  Fix indentation for
	environments mentioned in `LaTeX-document-regexp' which use an
	unclosed brace in the first line.
	(LaTeX-indent-inner-do): New function.
	(LaTeX-indent-outer-do): New function.
	(LaTeX-fill-region-as-paragraph): Include lines with code comments
	in regions to be filled.  Recognize lines ending with `\par' as
	boundaries for filling.
	(LaTeX-fill-region-as-para-do): Better handling of code comments.
	(LaTeX-fill-paragraph): Make function more readable by selecting
	different filling methods by a `cond' statement and putting code
	for the determination of the region to fill in case of
	syntax-aware filling into the separate functions
	`LaTeX-forward-paragraph' and `LaTeX-backward-paragraph'.
	Better handling of code comments.
	(LaTeX-fill-code-comment): New function.
	(LaTeX-forward-paragraph): New function.
	(LaTeX-backward-paragraph): New function.
	(LaTeX-paragraph-command-p): New function.
	(LaTeX-common-initialization): Let `paragraph-start' handle
	comments preceded by whitespace as well.
	(LaTeX-fill-move-to-break-point): Support `\[' and `\]' as well
	if `LaTeX-fill-distinct-contents' is activated.

	* tex.el (tex-mode): `comment-start-skip' shouldn't match line
	beginnings.
	(VirTeX-common-initialization): Ditto.
	(TeX-in-line-comment): New function.
	(TeX-forward-comment-skip): Use correct regexp for determination
	of a comment.  Fix case where `count' is less than zero, i.e. if
	a backward search is performed.
	(TeX-backward-comment-skip): New function.

	* doc/auc-tex.texi: Reflect name change of
	`LaTeX-fill-comment-syntax-aware' to
	`LaTeX-format-comment-syntax-aware'.

2004-03-18  Jan-Åke Larsson  <jalar@mai.liu.se>

	* Makefile.in, configure.in, tex-site.el, tex-site.el.in:
	Move tex-site.el to tex-site.el.in, generate tex-site.el at configure
	time rather than at install time

2004-03-18  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-output-view-style): Use `%f' instead of `%s.ps' for
	PostScript files.
	(TeX-mode-map): Change key binding of `TeX-master-file-ask' to
	`C-c_' because `C-c-' is already taken by RefTeX.

	* doc/auc-tex.texi: Change "Formatting" node to "Running TeX and
	friends" and use a respective heading.
	Adapt key binding for `TeX-master-file-ask'.

	* doc/intro.texi: Correct URLs.

2004-03-14  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-command-list): Change interactive calls to use
	\input, so that pdflatex \pdfoutput=0 becomes a legal way to call
	LaTeX.
	(VirTeX-common-initialization): Save TeX-master if desktop
	package is used.

2004-03-14  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-output-view-style): Fix it after it was accidently
	and incorrectly changed with the last check-in.  Patch by David
	Kastrup <dak@gnu.org>.
	(TeX-view-style): Ditto.

2004-03-11  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-find-opening-brace): Don't match the char before the
	brace.  This returns the correct position and fixes the handling
	of the limit parameter.

	* latex.el (LaTeX-fill-move-to-break-point): Don't match the char
	before the char to find in case of backward searches.
	(LaTeX-fill-region-as-paragraph): Make the regular expression,
	which serves searching for lines with code comments, match the
	whole line.

2004-03-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-move-to-break-point): Use `TeX-esc' in
	other, similar places not covered by the last check-in as well.

	* doc/auc-tex.texi: Document `LaTeX-indent-environment-list',
	`LaTeX-fill-comment-syntax-aware' and
	`LaTeX-fill-distinct-contents' as well as slightly improve some
	other parts in the section about `Marking and formatting'.

2004-03-10  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-fill-move-to-break-point): Use TeX-esc in
	regexps to accommodate Texinfo better.
	(LaTeX-fill-move-to-break-point): no regexp-quote within braces.
	(LaTeX-common-initialization): Correct \multicolumn prompt

2004-03-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-move-to-break-point): Cope with unmatched
	closing braces when `LaTeX-fill-distinct-content' is enabled for
	braced content.

2004-03-09  Jan-Åke Larsson  <jalar@mai.liu.se>

	* Makefile.in: Add separate target for .el files to cater for debian

2004-03-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/booktabs.el: New file.

	* Makefile.in (STYLESRC): Add `booktabs.el'.

	* doc/changes.texi: Advertise support for `booktabs.sty'.

2004-03-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auc-tex.texi: Small corrections in `Viewing' section.

2004-03-02  Jan-Åke Larsson  <jalar@mai.liu.se>

	* doc/Makefile.in: Add packagedir

2004-03-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-insert-environment): Fix insertion of newlines
	for the case where `LaTeX-insert-into-comments' is activated but
	point is not inside a comment.

2004-02-28  David Kastrup  <dak@gnu.org>

	* Makefile.in (install-lisp): Overwrite old tex-site.el if it has
	the "Don't edit" comment in it.  Rename it otherwise.
	Use $(auctexdir) instead of $(lispdir) for replacing @AUCTEX.

	* tex-buf.el (TeX-command-query): Allow doctex-mode for .bbl file
	checking.

	* tex-site.el: Discourage customization in-file.

	* latex.el (LaTeX-outline-regexp, LaTeX-environment)
	(LaTeX-document-style-hook): Change docs to refer to document
	classes instead of document style.
	(LaTeX-env-document): Don't insert anything but document class.
	(LaTeX-menu-update): Check for doctex-mode.
	(doctex-mode): Make it a major mode derived from latex-mode.

2004-02-28  Ralf Angeli  <angeli@iwi.uni-sb.de>

	Merge with new-fill branch.

2004-02-27  Jan-Åke Larsson  <jalar@mai.liu.se>

	* configure.in: Respect --infodir even if using xemacs.

	* aclocal.m4: Add yes/no answer for the MULE check.

	* Makefile.in: Correct xemacs-install.

	* Makefile.in, aclocal.m4, configure.in: If there is a wrongly
	installed tex-site.el, use the proper install directory anyway
	(i.e., don't be side-tracked), and remove the wrongly installed
	tex-site.el. These things are only needed for CVS users who have
	used the erroneous xemacs-installation.

2004-02-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-mode-menu): Insert customize option and
	rearrange.
	(LaTeX-fill-move-to-break-point): Bandaid for not breaking inside
	square brackets where the content fits into one line.

	* tex.el (plain-TeX-mode-menu): Insert customize option.

	* doc/auc-tex.texi: Document options for inserting quotes in files
	where `(n)german.sty' is used and the invocation of external
	viewers.

2004-02-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-fill-break-before-macro)
	(LaTeX-fill-break-after-macro): Unused, so removed.
	(LaTeX-fill-distinct-contents): New name for defcustom
	`LaTeX-fill-break-before-and-after'.
	(LaTeX-fill-move-to-break-point): Fix filling of nested braces and
	math.
	(TeX-find-closing-brace, TeX-find-opening-brace)
	(TeX-forward-comment-skip): Move to `tex.el'.

	* tex.el (TeX-find-closing-brace, TeX-find-opening-brace)
	(TeX-forward-comment-skip): Move from `latex.el'.

2004-02-26  David Kastrup  <dak@gnu.org>

	* latex.el (doctex-mode): Make a minor mode.

	* tex-site.el (doctex-mode): Add autoloads and file extensions.

	* tex.el (TeX-master-file): Don't overwrite TeX-master when not
	asking the question.

2004-02-22  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-newline): New function.  Spread it throughout
	the code in order to stay in comments for completion and
	insertion commands.
	(doctex-mode): New function.

2004-02-19  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-fill-paragraph): Back out changes from
	2003-12-29.
	Create separate new-fill branch for Ralf's code.

2004-02-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-title-4-face): Add missing :weight
	and :inherit for color displays.

2004-02-15  Peter S Galbraith  <psg@debian.org>

	* bib-cite.el (bib-cite-fontify-help-as-bibtex)
	(bib-cite-fontify-help-as-latex): Check existence of
	font-lock-unset-defaults; no longer defined in CVS Emacs.
	Thanks to Adrian Lanz for reporting the problem.

2004-02-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-title-4-face): Use different colors
	depending on background.

2004-02-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-comment-region): Map to `comment-region' instead of
	`TeX-comment-or-uncomment-region'.
	(TeX-uncomment-region): New name for `TeX-un-comment-region'.
	Not mapped to `TeX-comment-or-uncomment-region' anymore.
	(TeX-uncomment): New name for `TeX-un-comment'.
	Use `TeX-uncomment-region' instead of `uncomment-region' which is not
	available in Emacs 20.
	(TeX-comment-or-uncomment-paragraph): New name for
	`TeX-comment-paragraph' which explains its function better.
	Use new name `TeX-uncomment'.
	(TeX-mode-map): Bind key chains to `TeX-comment-or-uncomment-*'
	functions.
	(plain-TeX-mode-menu): Adapt function calls in menu entries.

	* tex-info.el (TeXinfo-mode-map): Bind key chains to
	`TeX-comment-or-uncomment-*' functions.
	(TeXinfo-mode-menu): Adapt function calls in menu entries.

	* latex.el (LaTeX-mode-menu): Adapt function calls in menu
	entries.  Small enhancements.

	* doc/auc-tex.texi (Commenting): Adapt documentation to reflect
	changes in commenting interface.

2004-01-31  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-comment-or-uncomment-region): New function or alias
	respectively introduced to obtain compatibility with GNU Emacsen
	before 21.4.
	(TeX-uncomment-region): New function or alias respectively
	introduced to obtain compatibility with GNU Emacsen before
	21(.1?).
	(TeX-comment-region): Bound to `TeX-comment-or-uncomment-region'.
	(TeX-un-comment-region): Bound to `TeX-comment-or-uncomment-region'.

2004-01-27  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (TeX-command-list): Fix previous change.

2004-01-25  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-TeX-command-list): Remove dummy code for
	command menu.

2004-01-23  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-TeX-command-list): Change single quotes to
	double.  We get reasonable results under both Windows and Unix.
	See also log of TeX-command-list in tex.el on 2002-12-19.

	* tex.el (TeX-toggle-off-input-method): Remove some Japanese
	input methods (Canna, Wnn, SKK) because their code is copied from
	YaTeX, which is not GPL program.  Toggle off CJK (Chinese, Japanese,
	Korean) input methods in LEIM.
	(TeX-math-toggle-off-input-method): Doc fix.

2004-01-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* latex.el (LaTeX-mode-menu): Remove menu filters in the submenus
	for inserting and modifying environments which call
	`LaTeX-menu-update'.
	(LaTeX-common-initialization): Add `LaTeX-menu-update' to
	`activate-menubar-hook' instead.

2004-01-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-view-style, TeX-output-view-style): Use a regexp
	which matches `a5', `a5comb' and `a5paper' instead of the old
	which matches only `a5'.

2004-01-12  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-command-menu-name): New constant.
	(TeX-mode-specific-command-menu): Reimplement the loop which
	builds the menu.
	(TeX-mode-command-menu): Use new constant and call
	`TeX-mode-specific-command-menu' via `:filter'.
	(AmSTeX-mode-command-menu): Ditto.

	* context.el (ConTeXt-mode-command-menu): Use new constant
	`TeX-command-menu-name' and call `TeX-mode-specific-command-menu'
	via `:filter'.

	* latex.el (LaTeX-mode-command-menu): Ditto.

	* tex-info.el (TeXinfo-mode-command-menu): Ditto.

	* tex-jp.el (plain-TeX-mode-command-menu)
	(LaTeX-mode-command-menu): Ditto.

2004-01-10  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/changes.texi: Added further news.

2004-01-09  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* doc/auc-tex.texi: AUC TeX to AUCTeX.  Use `%%%' instead of a
	single `%' character in examples for Local Variables.
	Add information about new behavior in respect to the query for the
	master file.  Explain new function `TeX-master-file-ask'.

	* doc/changes.texi: Advertise new master file behavior.
	Remove news about new commenting behavior which is not true anymore.

	* doc/intro.tex.: AUC TeX to AUCTeX.

	* tex.el (TeX-local-master-p): Remove one `%' character in regexp
	to let it find "% TeX-master:" as well.

2004-01-07  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-command-list): Change defcustom definition to one
	which allows the specification of several modes for one command
	and adapted the defaults to it.  Thanks to David Kastrup for most
	of the code.
	(plain-TeX-command-menu): Adapted the call to
	`TeX-mode-specific-command-menu'.
	(AmSTeX-mode-command-menu): Ditto.

	* latex.el (LaTeX-mode-command-menu): Adapted the call to
	`TeX-mode-specific-command-menu'.

	* context.el (ConTeXt-mode-command-menu): Ditto.

	* tex-info.el (TeXinfo-mode-command-menu): Ditto.

	* tex-jp.el (japanese-TeX-command-list): Adapted list entries
	according to defcustom changes in `tex.el'.
	(plain-TeX-mode-command-menu): Adapted the call to
	`TeX-mode-specific-command-menu'.
	(LaTeX-mode-command-menu): Ditto.

	* tex-mik.el (TeX-command-list): Adapted list entries
	according to defcustom changes in `tex.el'.

	* tex-fptex.el (TeX-command-list): Ditto.

2004-01-06  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-command-list): Get rid of the superfluous sixth
	element in the defcustom and menu/command definitions.

	* tex-jp.el (japanese-TeX-command-list): Ditto.

	* tex-mik.el (TeX-command-list): Ditto.

	* tex-fptex.el (TeX-command-list): Ditto.

2004-01-05  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-common-initialization): Add \item to the
	paragraph starters.

2004-01-05  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-mode-specific-command-menu): New function to be used
	for generating a mode-specific command menu.
	(plain-TeX-mode-map): New map to be used by plain-tex-mode.
	(plain-TeX-mode-command-menu): New menu used instead of
	`TeX-mode-menu' which utilizes `TeX-mode-specific-command-menu'.
	(TeX-mode-menu): Remove in favor of
	`plain-TeX-mode-command-menu'.
	(AmSTeX-mode-map): New map to be used by ams-tex-mode.
	(AmSTeX-mode-command-menu): New menu.
	(ams-tex-mode): Move and grouped with other AmSTeX-related code.
	Added code to use new menu.
	(TeX-command-list): Add new choice for the selection of the mode
	for the respective command.  Adapted doc string.  Added respective
	symbols to command definitions.  Rearranged command definitions.
	Changed `LaTeX PDF' to `PDFLaTeX'.

	* latex.el (LaTeX-mode-command-menu): New menu used instead of
	`TeX-mode-menu'.
	(LaTeX-common-initialization): Activate it.

	* context.el (ConTeXt-mode-command-menu): New menu used instead of
	`TeX-mode-menu'.
	(context-mode): Activate it.

	* tex-info.el (TeXinfo-command-menu): Adapted for using
	`TeX-mode-specific-command-menu'.

	* tex-jp.el (japanese-TeX-command-list): Add symbols to command
	definitions needed for assigning them to the respective mode.
	(TeX-mode-menu): Remove.
	(plain-TeX-mode-command-menu): New menu utilizing
	`TeX-mode-specific-command-menu'.
	(LaTeX-mode-command-menu): New menu utilizing
	`TeX-mode-specific-command-menu'.
	(LaTeX-mode-map): Remove key definition for `TeX-mode-menu'.

	* tex-fptex.el (TeX-command-list): Add symbols to command
	definitions needed for assigning them to the respective mode.
	Changed `LaTeX PDF' to `PDFLaTeX'.

	* tex-mik.el (TeX-command-list): Ditto.

	* doc/changes.texi: Mention the change to a mode-specific command
	menu and the need for the deletion of any former customization of
	`TeX-command-list'.

2004-01-03  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-mode-map): Use `C-c -' as a key binding for
	`TeX-master-file-ask' as `C-c !' is already used in `context.el'.

2004-01-02  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-left-comment-regexp)
	(LaTeX-right-comment-regexp, LaTeX-ignore-comment-regexp): revert
	an inadvertant change two checkins ago.  I was just experimenting
	with something that did not yet work (as if the original did) and
	did not intend checking it in.

2003-12-30  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (TeX-master-file): Add new parameter `ask' which is
	to be used if the user shall be asked when the function is
	called.  Took out the code which provides the functionality for
	asking the respective question and added it to the newly created
	function `TeX-master-file-ask'.
	(TeX-master-file-ask): New function.
	(TeX-local-master-p): New function.
	(tex-mode): Remove the call of `TeX-master-file' via the hook
	`hack-local-variables-hook'.
	(VirTeX-common-initialization): Add the call to
	`TeX-master-file' via the hook `find-file-hooks'.  Additionally
	`TeX-update-style' will be called to activate the respective style
	files.
	(TeX-mode-map): Add key binding for calling
	`TeX-master-file-ask'.  This is a temporary solution.
	(TeX-mode-menu): Took out redundant entry for `TeX-home-buffer'.
	Added entry "Set Master File" for `TeX-master-file-ask'.
	Grouped menu entries relevant for multifile handling.

	* latex.el (LaTeX-mode-menu): Change analogously to
	`TeX-mode-menu'.

2003-12-29  David Kastrup  <dak@gnu.org>

	* latex.el: Fix AUCTeX URL.
	(LaTeX-fill-paragraph): Skip from inline comments to either line
	comments or something that is not merely an inline comment.  I am
	not even sure that this skipping makes good sense, in particular
	since it is followed by `forward-paragraph'.
	(LaTeX-common-initialization): Change the definitions of
	`paragraph-start' and `paragraph-separate' to something that
	makes things like `forward-paragraph' and its ilk behave more
	sensibly when in comments.  The previous behavior is just awful,
	and caused a lot of inadvertant damage when using things like
	`fill-paragraph' within comments.
	(LaTeX-common-initialization): Remove syntax error, sorry.

2003-12-29  David Kastrup  <dak@gnu.org>

	* latex.el: Fix AUCTeX URL.
	(LaTeX-fill-paragraph): Skip from inline comments to either line
	comments or something that is not merely an inline comment.  I am
	not even sure that this skipping makes good sense, in particular
	since it is followed by `forward-paragraph'.
	(LaTeX-common-initialization): Change the definitions of
	`paragraph-start' and `paragraph-separate' to something that
	makes things like `forward-paragraph' and its ilk behave more
	sensibly when in comments.  The previous behavior is just awful,
	and caused a lot of inadvertant damage when using things like
	`fill-paragraph' within comments.

2003-12-26  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/scrbase.el (TeX-add-symbols): Remove redundant entries.

	* style/scrlttr2.el (TeX-add-symbols): Remove redundant entry.

	* style/scrpage2.el: Remove unnecessary coding cookie and text in
	introductory comment.

2003-08-02  Mike Sperber  <mike@xemacs.org>

	* latex.el (latex-mode): Really turn off filladapt.  It just
	doesn't work with `LaTeX-fill-paragraph'.

2003-12-02  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (tex-mode): Let `TeX-master-file' be called upon opening
	a file.  This shall restore the behaviour before the last change
	regarding the question for `TeX-master'.  Thanks to Peter
	Galbraith for setting the patch right.

2003-11-28  David Kastrup  <dak@gnu.org>

	* tex.el (LaTeX-update): Advice removed because of the following:

	* latex.el (LaTeX-menu-update): Now called via :filter predicate
	of menus.

2003-11-27  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/paralist.el: Removed coding cookie in first line.
	Removed obsolete comment regarding placement of file.
	(LaTeX-paralist-env-item-opt-label): Rename from
	`pl-LaTeX-env-item-opt-label' and changed references accordingly.
	Added docstring.
	Let `itemize' and `enumerate' environments use this function.
	Thanks to Reiner Steib for these suggestions.

2003-11-26  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-section-label): Add "part" and
	"subsubsection".  Sync "chapter" with fancyref.sty.

	* style/fancyref.el ("fancyref"): Add font-lock keywords.

2003-11-25  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-math-default): Add greek \var... symbols.
	(LaTeX-common-initialization): Remove "SLiTeX", added spacing
	commands and "appendix".

	* font-latex.el (font-latex-match-function-keywords):
	Add spacing commands, "nonumber", "centering", "TeX", and "LaTeX".
	(font-latex-match-textual-keywords): Add textsuperscript.

2003-11-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* Makefile.in (STYLESRC): Add scrpage2.el.

2003-11-17  Peter S Galbraith  <psg@debian.org>

	* font-latex.el (font-latex-keywords-2): Had forgotten to set
	LAXMATCH on all title matches.  Thanks to Ralf Angeli for
	reporting the bug.

	* bib-cite.el (bib-cite-file-directory-p): New functions.  I had
	introduced a call to code from ff-paths.el by mistake.

2003-11-17  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/scrbase.el (TeX-add-style-hook): Add further symbols to
	`TeX-add-symbols' and rearranged them alphabetically.
	Added macros with parameters to
	`font-latex-match-<type>-keywords-local'.
	Added `addsec' and `addpart' to
	`font-latex-match-title-<num>-keywords-local'.

	* style/scrbook.el (TeX-add-style-hook): Analogous.

	* style/scrlttr2.el (TeX-add-style-hook): Analogous.

	* style/scrreprt.el (TeX-add-style-hook): Analogous.

	* style/scrpage2.el: New file.

2003-11-16  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* tex.el (VirTeX-common-initialization): Disabled lines which set
	`comment-add' to 1 to restore commenting with a single `%'.
	(TeX-un-comment-region): Function code removed and function name
	mapped to `comment-dwim'.
	(TeX-un-comment): Allow searching for commented lines with
	potential white space at the beginning.
	(TeX-comment-paragraph): Partially rewritten to allow it to be
	used for both commenting and uncommenting.
	(TeX-in-commented-line): New function used in
	`TeX-comment-paragraph'.

	* doc/auc-tex.texi (Commenting): Reflect changes in `tex.el'.

2003-11-13  Ralf Angeli  <angeli@iwi.uni-sb.de>

	* style/paralist.el: New file.

	* Makefile.in (STYLESRC): Add paralist.el.

2003-10-18  Peter S Galbraith  <psg@debian.org>

	* font-latex.el: checkdoc cleaning (almost clean now).

2003-09-18  Peter S Galbraith  <psg@debian.org>

	* font-latex.el (font-latex-quotes): New defcustom to fontify
	either french or german quotes.
	(font-latex-quote-regexp-beg): New variable. Holds the regexp to
	match the beginning of a quote.
	(font-latex-quote-end-list): New variable.  Holds the list of
	strings to end a matched quote.
	(font-latex-match-quotation): Fix to use above variables.

2003-09-18  Peter S Galbraith  <psg@debian.org>

	* bib-cite.el: bib-cite-aux-inputs:  new defcustom.
	Minor code cleanup for `match-string'.

2003-09-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-master-file): Fix 'shared case.
	Tiny patch from Shiro Takeda <zbc08106@park.zero.ad.jp>.

2003-09-08  Peter S Galbraith  <psg@debian.org>

	* bib-cite.el: Ripping out off-topic imenu code.

2003-09-07  Peter S Galbraith  <psg@debian.org>

	* font-latex.el: Bug fix when font-lock-multiline is set to t.

2003-08-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* Changelog: Added coding cookie.

	* doc/Makefile.in (install): Check if auctex-* exists.
	Needed because default split size changed in texinfo 4.6.

2003-07-25  Peter S Galbraith  <psg@debian.org>

	* font-latex.el: Make & highlighted in font-latex-warning-face.
	Better document font-latex-match-*-keywords-local variables.

2003-07-20  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* configure.in: Use mule support check.

	* Makefile.in (CONTRIB_MULE, COMPILE_MULE, CONTRIB_MULEELC): New macros.
	(contrib): Compile CONTRIB and COMPILE_MULE.
	(install-contrib): Install CONTRIB_MULE and CONTRIB_MULEELC, too.

	* aclocal.m4 (EMACS_CHECK_MULE): Check (X)Emacs mule supported.

	* Makefile.in (clean): Remove Emacs auto-save files.  Remove elc
	files in the current and style directory.

2003-06-21  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* Makefile.in: Delete trailing whitespaces.

	* tex.el (TeX-near-bobp): Undo last change.

	* tex-jp.el: Fix some document.
	(AUCTeX-jp): New custom group.
	(japanese-TeX-command-default, japanese-LaTeX-command-default)
	(japanese-LaTeX-default-style, japanese-LaTeX-style-list):
	Support for defcustoms.

2003-06-14  David Kastrup  <dak@gnu.org> (tiny patch from Stephen Gildea)

	* tex.el (TeX-auto-untabify): Change default to nil.

	* doc/auc-tex.texi (Parsing Files): document this.

2003-06-07  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-lisp-directory, TeX-auto-global, TeX-style-global)
	(TeX-auto-local, TeX-style-local, TeX-macro-private)
	(TeX-load-style, TeX-parse-path, TeX-run-style-hooks)
	(TeX-auto-write, TeX-auto-generate, TeX-auto-generate-global)
	(TeX-ignore-file, TeX-search-files): try catering with Windows
	file names.
	(TeX-directory-absolute-p): removed, since file-name-absolute-p
	serves the same purpose.

2003-06-06  Jan-Åke Larsson  <jalar@mai.liu.se>

	* Makefile.in: Added datadir

2003-06-05  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-env-label): Toggle off input method when
	entering math mode.
	* style/amsmath.el (LaTeX-amsmath-env-alignat)
	(LaTeX-amsmath-env-aligned): Ditto.

	* tex.el (TeX-toggle-off-input-method): Remove interactive.
	(TeX-math-input-method-off): New function.
	(TeX-insert-dollar): Use it.  Do not call function
	TeX-toggle-off-input-method directly.

2003-06-03  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-macro): Set group 'AUCTeX.

2003-06-03  David Kastrup  <dak@gnu.org>

	* latex.el (LaTeX-mode-menu): Replace "Change Font" with "Replace
	Font"

	* tex-info.el (TeXinfo-mode-menu): Same here.

	* doc/tex-ref.tex (section{Font Selection}): Same here.

2003-06-03  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-math-toggle-off-input-method): New user option.
	(TeX-toggle-off-input-method): New function.
	(TeX-insert-dollar): Use it.

2003-06-02  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-near-bobp): Fix typo in doc-string.

2003-05-27  Piet van Oostrum  <piet@cs.uu.nl>

	* latex.el (LaTeX-auto-minimal-regexp-list): Change regexp to
		  allow \documentclass[]{someclass}.

2003-05-02  Patrick Gundlach  <patrick@gundla.ch>

	* context.el: ConTeXt-environment can now modify the current
	environment. Added preliminary functionality for calling a
	function on an environment. ConTeXt-mark-environment,
	ConTeXt-find-matching-stop and ConTeXt-find-matching-start
	(similar to the ones in latex.el) added.

2003-04-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* doc/wininstall.texi: Fixed typos in configure options.

2003-04-15  Patrick Gundlach  <patrick@gundla.ch>

	* tex.el (TeX-command-list): Change %v to %V in View. Now
	TeX-output-view-style is used for setting viewer preferences. See
	changes from 2003-02-06 below.

2003-04-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* .cvsignore: Added INSTALL and INSTALL.windows

	* Makefile.in (STYLESRC): Add captcont.el and subfigure.el

2003-04-15  Jan-Åke Larsson  <jalar@mai.liu.se>

	* doc/wininstall.texi: Corrected download info for GNU Emacs

2003-04-14  Peter S Galbraith  <psg@debian.org>

	* font-latex.el (font-latex-match-*-keywords): New user
	customizable variables to add fontification keywords.
	See `M-x customize-group [RET] font-latex'.
	(font-latex-match-*-keywords-local): New buffer-local variables to
	be used by elisp style file writers.
	(font-latex-match-*-keywords-set): Support for defcustoms.
	(font-latex-match-*-make): Build the actual font-lock variables
	from the `font-latex-match-*-keywords' defcustoms.

2003-04-14  David Kastrup  <dak@gnu.org>

	* doc/install.texi (Customizing): hilit-LaTeX.el deleted.

2003-04-14  Jan-Åke Larsson  <jalar@mai.liu.se>

	* autogen.sh: Generate INSTALL and INSTALL.windows

	* doc/Makefile.in: Use the configure compatibility test results

	* doc/macros.texi: Compatibility macros, initial version

	* configure.in: Do the makeinfo tests, for compatibility with
	texinfo 3.12, test for tex

	* doc/install.texi: Changed to document the autoconf stuff

	* doc/wininstall.texi: Added

2003-04-10  David Kastrup  <dak@gnu.org>

	* tex.el (AUCTeX): Fix URLs.

	* context.el: Fix AUCTeX URL.
	Make modification date RCS tag.

2003-04-09  Patrick Gundlach  <patrick@gundla.ch>

	* tex.el (TeX-command-list): Change ConTeXt Clean from purge to
	purgeall; I guess this behaves as users would expect.

	* context.el: minor cleanups, switched to the name "AUCTeX" where
	not done yet. Made ConTeXt-add-environments able to
	byte-compile. Added new copyright statement.

	* Makefile.in: Added context.el(c)

2003-04-09  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4: More sane emacs-macro path-searching.

2003-04-07  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-kpathsea-directory-alist): Fix bad kpathsea
	searchpath name for LaTeX files.

2003-04-03  Jan-Åke Larsson  <jalar@mai.liu.se>

	* aclocal.m4: Make the emacs-macro path-searching tests run, and
	make EMACS_PROG_EMACS fail gracefully when no binary executable is
	found.


2003-03-29  David Kastrup  <dak@gnu.org>

	* tex-buf.el (TeX-run-discard): Use `call-process' instead of
	`start-process' in order to completely detach a process.
	(TeX-region-extra): Make empty by default since code was not
	working with plain or ConTeXt.

2003-03-24  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* Makefile.in (CONTRIB): Remove hilit-LaTeX.el because it is
	obsolete.
	(contrib): Remove compile code for hilit-LaTeX.el.

2003-03-13  David Kastrup  <dak@gnu.org>

	* style/german.el (LaTeX-german-quote-after-quote)
	(LaTeX-german-open-quote, LaTeX-german-close-quote):
	New variables to initialize quote stuff from.  If you set these in
	file local variables, they will propagate accordingly to
	`TeX-quote-after-quote' et al.

	* style/ngerman.el (LaTeX-german-quote-after-quote)
	(LaTeX-german-open-quote, LaTeX-german-close-quote): the same.

2003-02-25  David Kastrup  <dak@gnu.org>

	* Makefile.in (dist): Version info in tex.el gets automatically
	calculated from CVS tags.

	* tex.el: Some changes for dir slashiness.
	(TeX-master-directory): return a proper directory name, not a
	file name.

	* tex-buf.el (TeX-quote-filename): Return the changed file!
	Yikes!  How could this ever have worked?

2003-02-24  David Kastrup  <dak@gnu.org>

	* tex.el (AUCTeX-version): Generate automatically from CVS
	variables.
	(TeX-master-directory): somewhat more defensive version (final
	goal is to be able to make a TeX minor mode).

2003-02-22  David Kastrup  <dak@gnu.org>

	* tex-wizard.el: A first sketch of the idea.

2003-02-17  Piet van Oostrum  <piet@cs.uu.nl>

	* tex.el (TeX-arg-literal): Remove illegal and superfluous &optional.

	* latex.el (TeX-arg-free): Remove illegal and superfluous &optional.

2003-02-17  David Kastrup  <dak@gnu.org>

	* font-latex.el (font-latex-find-matching-close): Remove a very
	complicated way of doing nothing since the byte compiler warns
	about it.

2003-02-15  David Kastrup  <dak@gnu.org>

	* tex.el (LaTeX): Change :prefix field to LaTeX.
	(TeX-auto-add-type): Make more readable and place doc string
	indicating the origin into generated functions.

	* font-latex.el (font-latex-setup): Try to behave better when the
	interesting newlines in verbatim environments get moved.
	Probably not the ultimate solution.

	* tex-site.el: AUC TeX to AUCTeX, new header.

	* Makefile.in: AUC TeX to AUCTeX.

	* latex.el: AUC TeX to AUCTeX, new header.

	* tex-buf.el (TeX-quote-filename): New function.
	(TeX-region-create): Use it so that Windows can talk about its
	master files properly.
	(TeX-help-error): Try not to have "log file has changed"
	messages.  AUC TeX to AUCTeX, new header.

	* tex.el: AUC TeX to AUCTeX, new header.

	* auc-old.el: AUC TeX to AUCTeX, new header.

	* README.CVS: Check in a first version.  Ok, it currently
	contains a few lies, but the basics are not wrong, and hopefully
	we will have soon what it takes to make it true.

	* doc/auc-tex.texi: Name change of AUC TeX to AUCTeX.  A few
	other cleanups.

	* configure.in, Makefile.in, doc/Makefile.in: everything moves to
	autoconf, fix a few things.

	* Makefile, doc/Makefile: deleted.

2003-02-14  Patrick Gundlach  <patrick@gundla.ch>

	* context.el: Added basic environment support (insert-envrionment
	and close-environment). Added basic interface support.

	* tex.el, latex.el : moved TeX-arg-literal and TeX-near-bopb from
	latex.el to tex.el. More will follow.

2003-02-13  David Kastrup  <dak@gnu.org>

	* Makefile.in (clean): Remove .elc files.
	(distclean): new target.

	* aclocal.m4 (EMACS_EXAMINE_PACKAGEDIR): make this work properly
	more or less.
	(EMACS_CHECK_AUCTEX): use auctexdir instead of AUCTEXDIR (synch
	with preview-latex aclocal.m4) and strip trailing slash.

2003-02-11  Peter S Galbraith  <psg@debian.org>

	* hilit-LaTeX.el: Removed.  It's obsolete.  Use font-latex.el instead.

2003-02-11  Patrick Gundlach  <patrick@gundla.ch>

	* tex.el (TeX-command-list): Change TeX-run-LaTeX to
	TeX-run-TeX.

	* tex-buf.el (TeX-run-TeX): TeX-run-TeX gets the
	TeX-sentinel-function from the major mode, so TeX-run-LaTeX and
	alike won't be needed if they don't need to do something
	fancy. Defaliased TeX-run-LaTeX to TeX-run-TeX.
	(TeX-run-interactive): Uses TeX-sentinel-default-function
	instead of TeX-sentinel-function.

	* latex.el (latex-mode): Sets TeX-sentinel-default-function
	instead of TeX-sentinel-function.

	* tex-mik.el (TeX-command-list): Change TeX-run-LaTeX to
	TeX-run-TeX.

	* tex-fptex.el (TeX-command-list): Change TeX-run-LaTeX to
	TeX-run-TeX.

2003-02-08  Patrick Gundlach  <patrick@gundla.ch>

	* tex-site.el: Added simple ConTeXt support.

	* latex.el (latex-mode): Add explicit set of
	TeX-sentinel-function to be used in TeX-run-interactive.

	* tex-buf.el: Added TeX-run-ConTeXt. Removed explicit call to
	TeX-LaTeX-sentinel in TeX-run-interactive. The sentinel-function
	is now inherited from the buffer calling
	TeX-run-interactive. Hopefully this won't break anything.

	* tex.el: Adapted TeX-command-list for ConTeXt
	support. Interfaces for texexec and texutil added. Nonstopmode
	(texexec) and purge (texutil) won't work right with current
	ConTeXt versions. This will be fixed in ConTeXt versions later
	than Feb 2003.

	* context.el: basic support for ConTeXt added. New
	sentinel-functiont that is different from the LaTeX one.


2003-02-08  pvoostrum  <pvoostrum@nono.cs.uu.nl>

	* tex.el: Added missing semicolon in TeX-command-output-list.

	* tex.el: Changed defcustom to defvar.

2003-02-08  Piet van Oostrum  <piet@cs.uu.nl>

	* tex.el (TeX-output-extension, TeX-view-extension):
	Change defcustom into defvar, as these are intermediate variables.

2003-02-07  Piet van Oostrum  <piet@cs.uu.nl>

	* tex.el (TeX-command-output-list): Corrected customization widget.

2003-02-06  Piet van Oostrum  <piet@cs.uu.nl>

	* tex-buf.el
	(TeX-save-document, TeX-command-query)
	(TeX-output-style-check, TeX-run-format, TeX-TeX-sentinel-check):
	Add support for pdftex (and others)
	(TeX-run-set-command, TeX-output-extension)
	(TeX-view-extension, TeX-view-output-file): new functions.

	* tex.el (TeX-output-extension, TeX-view-extension)
	(TeX-output-view-style, TeX-command-output-list): new variables
	(TeX-expand-list): adapted for pdf output.

2003-01-31  Jan-Åke Larsson  <jalar@mai.liu.se>

	* configure.in: Use new lispdir check.

	* aclocal.m4: Some cleaning of macro names. Windows quoting by
	David Kastrup <dak@gnu.org>. Also, lispdir now checks (x)emacs
	load-path instead of physical disk content.

	* Makefile.in: Fix infodir

2003-01-30  Piet van Oostrum  <piet@cs.uu.nl>

	* tex-buf.el (TeX-parse-error): Exclude { and } from filenames to
	improve parsing of error messages from pdftex.

2003-01-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* tex.el (TeX-kpathsea-path-delimiter, TeX-search-files-kpathsea):
	Fix braces.

2003-01-22  David Kastrup  <dak@gnu.org>

	* tex.el (TeX-search-files): Check in first version of kpathsea
	support.  This implementation does not yet cooperate properly
	with TeX-auto-generate-*

2003-01-18  David Kastrup  <dak@gnu.org>

	* configure.in: Announce AUC TeX, not preview.

2003-01-16  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/varioref.el ("varioref"): Fix typo.

	* Makefile.in (ELCC): `-no-init-file' is the same as `-q'

2003-01-15  Jan-Ake Larsson  <jalar@mai.liu.se>

	* configure.in, aclocal.m4: Compatibility fix

	* aclocal.m4 (AC_PROG_EMACS): New. File is now identical to that
	of preview-latex.

	* configure.in: Use it

2003-01-08  Jan-Ake Larsson  <jalar@mai.liu.se>

	* Makefile.in: From Makefile

	* configure.in, aclocal.m4, autogen.sh: Initial version

	* mkinstalldirs, install-sh: Prepare for autoconf

2002-12-29  David Kastrup  <David.Kastrup@t-online.de>

	* tex.el: Add support for Info-goto-emacs-command-node and
	similar.

2002-12-19  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-home-buffer): Don't home to deleted buffers.

	* tex.el (TeX-command-list): Change single quotes to double.
	That way, we will get reasonable results under both Windows and
	Unix.  File names with double quotes in them will break stuff,
	just like file names with single quotes in them did so
	previously.  Tough.

2002-12-18  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-run-shell): Start shell from TeX process buffer
	in order to inherit environment from there (like cwd).
	(TeX-run-discard): Same here.
	(TeX-run-shell, TeX-run-discard): Rather let default-directory
	temporarily: we may not have a TeX process buffer!

2002-12-17  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* all.el: Removed.  unrelated to TeX mode.
	OBSOLETE files (all.el, auc-menu.el, maniac.el, and outln-18.el)
	are available at:
	<ftp://ftp.dina.kvl.dk/pub/Staff/Per.Abrahamsen/auctex/>

2002-12-15  David Kastrup  <David.Kastrup@t-online.de>

	* Makefile (dist): Correct zip file name.

2002-12-15  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* Makefile (MINMAPSRC): Remove auc-menu.el, maniac.el, and
	outln-18.el.

2002-12-15  David Kastrup  <David.Kastrup@t-online.de>

	* auctex.spec (Release): Well, change version number.  retag.

	* Version 11.14 released.

2002-12-15  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* auc-menu.el: Removed.  Taken into Emacs and unused.

	* maniac.el: Ditto.

	* outln-18.el: Ditto.

2002-12-15  David Kastrup  <David.Kastrup@t-online.de>

	* Makefile: some changes for my setup.

2002-12-14  David Kastrup  <David.Kastrup@t-online.de>

	*  graphicsx.el: removed. superseded by graphicx.el and unused.

2002-12-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-label): Add completing for labels.
	Avoid inserting an empty label.

2002-12-12  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/amsopn.el ("amsopn"): Add \operatorname.

2002-12-12  David Kastrup  <David.Kastrup@t-online.de>

	* doc/auc-tex.texi (top): Change "version 12" to "almost 12".
	This is beta, after all.

2002-12-12  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-LaTeX-style-list): Remove styles overlapped
	with LaTeX-style-list.  Append values to LaTeX-style-list instead
	of overwriting.
	(japanese-latex-mode-initialization): Do not overwrite
	LaTeX-style-list.

2002-12-11  Reiner Steib  <Reiner.Steib@gmx.de>

	* bib-cite.el: Updated URLs.

	* doc/intro.texi:  Ditto.

	* font-latex.el: Ditto.

	* latex.el:  Ditto.

	* tex.el:  Ditto.

	* style/amsmath.el (LaTeX-amsmath-label): Improve doc-string.

	* doc/auc-tex.texi (Equations): New @subsection documenting
	LaTeX-equation-label, LaTeX-eqnarray-label and LaTeX-amsmath-label.

2002-12-11  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-LaTeX-default-style)
	(japanese-LaTeX-style-list): remove buffer-local declarations
	where they don't make sense.

2002-12-10  David Kastrup  <David.Kastrup@t-online.de>

	* doc/changes.texi: Some more news.

	* doc/auc-tex.texi: Start talking about version 12 (which will be
	the next stable release).
	(European): Talk a bit about LaTeX2e stuff, and don't talk about
	too ancient XEmacsen.  Also mention X-Symbol.

	* doc/Makefile (install): Create infodir if not existent.

2002-12-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* font-latex.el (font-latex-match-textual): Fix typo in doc-string.

	* latex.el (LaTeX-section-label): Fix typos in doc-string.

2002-12-10  David Kastrup  <David.Kastrup@t-online.de>

	* latex.el (LaTeX-label): Fix a thinko/type where label would be
	non-nil in cases where a label should not be asked for.

2002-12-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* style/amsmath.el (LaTeX-amsmath-label): New variable.
	("amsmath"): Add environments to LaTeX-label-alist.

2002-12-10  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el: Remove if statement for Emacs 19.
	Fix lots of white spaces.

2002-12-09  David Kastrup  <David.Kastrup@t-online.de>

	* latex.el (LaTeX-optop, LaTeX-optcl, LaTeX-default-options,
	LaTeX-figure-label, LaTeX-table-label, LaTeX-equation-label,
	LaTeX-eqnarray-label, LaTeX-style-list): remove buffer-local
	declarations where they don't make sense.

2002-12-09  Reiner Steib  <Reiner.Steib@gmx.de>

	* latex.el (LaTeX-style-list): Add some supported classes.
	Fixed a typo.

	* style/amsmath.el ("amsmath"): environment "xxalignat*" doesn't
	exist.
	(LaTeX-amsmath-env-alignat):  environment "xxalignat" should not
	get a \label.

	* Makefile (BATCH): Add `-no-site-file' to batch options.

2002-12-07  David Kastrup  <David.Kastrup@t-online.de>

	* font-latex.el (font-latex-setup): Better stab at verbatim
	handling.

	* tex-buf.el (TeX-region-create): Make file name in !name
	messages relative to master file directory.

2002-12-06  David Kastrup  <David.Kastrup@t-online.de>

	* latex.el: Lots of doc fixes/white space.  Did the mistake of
	running checkdoc.  Not clean yet, but different.
	(LaTeX-label-alist): New buffer-local variable for label prefixes
	lookup.
	(LaTeX-label): Use it.

2002-11-25  David Kastrup  <David.Kastrup@t-online.de>

	* latex.el (TeX-arg-define-index): correct typo.

2002-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.13 released.

2002-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Fixed CVS merge error.

	* Version 11.12 released.

2002-10-28  David Kastrup  <David.Kastrup@t-online.de>

	* Makefile (prefix): Revert accidental change to
	/usr/local/emacs-21 (sorry folks).

2002-10-26  David Kastrup  <David.Kastrup@t-online.de>

	* Makefile (STYLESRC): Add style/scrlttr2.el

2002-10-26  Mark Trettin  <Mark.Trettin@gmx.de>

	* style/scrbase.el: Added optional Argument "Pagenumber" to
	\maketitle.  Changed \textsubscript from `t' to "Text".

	* style/scrlttr2.el: Initial version.

	* style/scrbase.el: Added additional clearpage commands:
	\cleardoublestandardpage \cleardoubleplainpage and
	\cleardoubleemptypage

2002-10-24  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* latex.el (LaTeX-env-contents): New function.
	(LaTeX-common-initialization): Add 26 LaTeX commands, 2 LaTeX2e
	environments, and 41 LaTeX2e commands.

2002-10-08  David Kastrup  <David.Kastrup@t-online.de>

	* style/scrreprt.el, style/scrbase.el, style/scrartcl.el,
	style/scrbook.el: header comments refer to COPYING.

2002-10-02  David Kastrup  <David.Kastrup@t-online.de>

	* Makefile (STYLESRC): Add compilation targets for Komascript
	support.

	* Check in Komascript support by Mark Trettin.  See below.

2002-09-28  Mark Trettin  <Mark.Trettin@gmx.de>

	* scrbase.el:
	First attempt on implementing the `captionbeside'-Environment. I'm not
	really satisfied by now.

2002-09-27  Mark Trettin  <Mark.Trettin@gmx.de>

	* scrreprt.el, scrbook.el: Reformatted code.

	* scrbase.el:
	Fixed Typos in comments and escape characters in function docstrings.
	Thanks to Reiner Steib.
	Reformatted code.

	* scrbase.el:
	Changed `uppertitleback', `lowertitleback' from asking to just `t'

	* scrbase.el:
	Changed `addpart', `addsec' and `minisec' from Macro to sectioning
	command.

	* scrreprt.el, scrbook.el:
	Changed `addchap' from Macro to sectioning command.

2002-09-26  Mark Trettin  <Mark.Trettin@gmx.de>

	* scrartcl.el: LaTeX-section-list removed.

	* scrartcl.el: Initial version. Testing LaTeX-section-list.

	* scrbase.el: Initial version of the base file.

	* scrreprt.el, scrbook.el: Initial version.

	* scrbook.el, scrbase.el, scrreprt.el, scrartcl.el:

2002-09-22  David Kastrup  <David.Kastrup@t-online.de>

	* tex.el: Apply spelling fixes from "Davide G. M. Salvetti"
	<salve@debian.org> to tex.el.

2002-03-24  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-parse-TeX): Make subordinate files without
	major mode default to that of the calling file when doing error
	processing.

2002-03-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-site.el (eamcs-major-version): Change if to when.
	Suggested by Martin Thornquist <martint@ifi.uio.no>.

2002-03-15  David Kastrup  <David.Kastrup@t-online.de>

	* tex.el (TeX-master-file): Don't make C-c ` bomb out in files
	like xxx.gls.  Probably a more elaborate way would be to export
	the TeX-master variable into files visited by error parsing.
	Could be incorrect, however, if more than one file included them.

2002-02-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-auto-generate): Expand file name.
	Suggested by "Dr. Mark A. Friedman" <DrMarkAFriedman@earthlink.net>.

	* latex.el (LaTeX-common-initialization):
	Set `fill-paragraph-function'.
	(LaTeX-mode-map): Don't bind M-q.
	Suggested by Nils Klarlund <klarlund@research.att.com>.

	* tex.el (TeX-printer-list): Fix spelling.
	Reported by Nils Klarlund <klarlund@research.att.com>.

2002-02-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Fixed some spelling errors.
	Patch by "Davide G. M. Salvetti" <salve@debian.org>.

2002-01-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.11 released.

2002-01-24  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-format-list): Support t(article|report|book) class file.
	Reported by Atsuhito Kohda <kohda@pm.tokushima-u.ac.jp>

	* tex-jp.el (japanese-TeX-command-list): Undo last change.
	(LaTeX-command-style): Support t(article|report|book) class file.
	(japanese-LaTeX-style-list): Ditto.
	Reported by Atsuhito Kohda <kohda@pm.tokushima-u.ac.jp>

2002-01-21  Peter S Galbraith  <psg@debian.org>

	* font-latex.el: Updated to V0.800.
	Added font-lock-syntactic-keywords to font-lock-defaults to handle
	verbatim environment, as suggested by Stefan Monnier 5 years ago (!)
	* bib-cite.el: Updated to V3.17.
	XEmacs has imenu after all.

2002-01-21  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex.el (TeX-format-list): Fix problem that AUC TeX switch to
	JLATEX mode if the class file starts with the letter `j'.
	Reported by Joe Reinhardt <jmr@everest.radiology.uiowa.edu>.

	* tex-jp.el (LaTeX-command-style): Support js(article|book).

2002-01-21  Atsuhito Kohda  <kohda@pm.tokushima-u.ac.jp>  (tiny change)

	* tex-jp.el (japanese-TeX-command-list): Use `%l' instead
	of [pj]latex command.

2002-01-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (LaTeX-command-style): Fix comment.
	Reported by Atsuhito Kohda <kohda@pm.tokushima-u.ac.jp>
	via. Debian.

	* latex.el (LaTeX-outline-name): Allow longer names.
	Reported by "Michael Soulier" <msoulier@nortelnetworks.com>
	via. Debian.

2001-12-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-imenu-create-index-function): Strip text
	properties.
	Reported by Venkatesh Prasad Ranganath <rvprasad@@cis.ksu.edu>.

2001-12-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/prosper.el: New file.
	Contributed by Phillip Lord <p.lord@russet.org.uk>.
	* Makefile (STYLESRC): Add it.

2001-11-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.10 released.

2001-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.09 released.

2001-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* auc-old.el (insert-mode-line): Use `insert' instead of
	`insert-string'.

2001-10-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-ignore-comment-regexp): Doc fix.
	Reported by Reuben Thomas <rrt@sc3d.org>.

2001-11-16  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-process-check): We didn't catch the case where
	during the question a different process got started in the
	buffer.  In that case, we just ask again.

2001-11-06  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-command-sentinel): insert post-mortem info
	before any markers in order to keep markers/point at end of file.

2001-11-02  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* style/graphicx.el (TeX-arg-includegraphics): Accept prefix
	argument and find all files. dvipdfm image file support.

2001-10-19  Masayuki Ataka  <ataka@milk.freemail.ne.jp>

	* tex-jp.el (japanese-TeX-command-list): Fix for mendex.
	* doc/auc-tex.texi (Japanese): Doc fix.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.08 released.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/intro.texi, doc/install.texi: Updated contact info.
	Reported by Henrik Holm <h.holm@spray.no>.

2001-10-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.07 released.

2001-10-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (VirTeX-common-initialization): Set `comment-add' in
	order to get "%%" by default by comment region like Lisp mode.
	Suggested by "Davide G. M. Salvetti" <salve@debian.org>.
	Change `comment-indent-hook' to `comment-indent-function'.


2001-10-15  Peter S Galbraith  <psg@debian.org>

	* font-latex.el: Remove self-installation to LaTeX-mode-hook now
	that TeX-install-font-lock does it.

2001-10-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.06 released.

2001-10-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Removed font lock support.
	(TeX-install-font-lock): New option.
	(VirTeX-common-initialization): Call it.

	* tex-font.el: New file.

2001-10-13  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-current-offset): The number of things that can
	go wrong for a simple task like determining the current line
	number is simply amazing.  count-lines skips over newlines in
	intangible text-properties or overlays.  Fixed for GNU Emacs,
	don't know whether XEmacs has problems with it.

2001-10-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.05 released.

2001-10-12  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-run-command): Let the TeX-process-buffer acquire
	a buffer-local value of TeX-command-buffer so that its sentinel
	will still refer to the right buffer even if another compilation
	has been started.
	(TeX-run-interactive): Same here.
	(TeX-process-check): Don't bomb out when user does not want to
	kill a process that has died on its own in the meantime.

2001-10-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-auto-local, TeX-style-local): Doc fix:  Mention that
	these should be relative.
	Suggested by <lanz+list@wsl.ch>.

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.04 released.

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-view-style): New option.
	(TeX-expand-list): Use it.
	(TeX-command-list): Use it.

2001-10-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.03 released.

2001-10-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/amsmath.el ("amsmath"): More items.
	Patch by Masayuki Ataka <ataka@milk.freemail.ne.jp>.

2001-10-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-LaTeX-sentinel): Use `with-current-buffer'.

	* tex-buf.el (TeX-LaTeX-sentinel): Use the value of
	`TeX-command-BibTeX' in `TeX-command-buffer'.
	Patch by Katsuaki KAWACHI <kawachi@cim.pe.u-tokyo.ac.jp>.

	* tex-fptex.el: New file.
	Contributed by Fabrice Popineau <Fabrice.Popineau@supelec.fr>.
	* Makefile (CONTRIB): Add it.

2001-10-04  Peter S Galbraith  <psg@debian.org>

	* multi-prompt.el (multi-prompt-next): fixed for emacs-21.
	Use minibuffer-contents-no-properties to get minibuffer contents
	if it exists.

2001-10-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.02 released.

2001-10-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-top-caption-list): New option.
	(LaTeX-env-figure): Use it.
	Patch by ataka@milk.freemail.ne.jp (Masayuki Ataka).

	* style/graphicx.el (TeX-string-numberp): New function.
	(TeX-arg-includegraphics): Call it.
	Patch by ataka@milk.freemail.ne.jp (Masayuki Ataka).

	* style/verbatim.sty: New file.
	Contributed by ataka@milk.freemail.ne.jp (Masayuki Ataka).

	* tex-info.el (texinfo-mode): Comment out cindex.
	Reported by Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Großjohann)

	* style/amsmath.el (LaTeX-item-equation, LaTeX-item-equations):
	New functions.
	("amsmath"): Add new item types.
	Patch by ataka@milk.freemail.ne.jp (Masayuki Ataka).

2001-10-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 11.01 released.

2001-10-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-submenu-name-format): Fix spelling error.
	Reported by Martin.Quinson@ens-lyon.fr.

2001-10-01  David Kastrup  <David.Kastrup@t-online.de>

	* tex-buf.el (TeX-region-create):
	Oops, broke more than I fixed.  Offset calculation must be for the
	line following the offset message.  This worked before since we always
	were in the middle of a line (only the offset calculation for the C-c
	C-r command itself was definitely sometimes wrong).  Corrected that.

	* style/graphicx.el (TeX-arg-includegraphics):
	Fix an obvious typo complained about by the byte-compiler.
	checkdoc removed a few spaces.

	* auc-old.el (TeX-region): Correct offset calculation.

	* tex.el (TeX-current-line):
	Correct line number calculation when at beginning of line for %n
	flag.  Autoload TeX-current-offset for that if necessary.

	* tex-buf.el (TeX-current-offset, TeX-command-region,
		      TeX-region-create):
	Correct offset calculations when not at start of line.  New function
	TeX-current-offset for that.

2001-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0g released.

2001-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-site.el: Don't enable tex-info.el by default.

	* latex.el (LaTeX-hide-environment): Disabled by default.
	Suggested by Christopher Allen <cpcallen@ruah.dyndns.org>.

2001-03-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0f released.

2001-03-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (unless): Don't enable Emacs 21 font-lock for Emacs 20.
	(VirTeX-common-initialization): Ditto.

2001-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0e released.

2001-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-expand-list): Change default to lazy evaluation of
	`TeX-view-style' and `LaTeX-command-style'.
	Suggested by Peter Neergaard <turtle@cs.bu.edu>.

	* latex.el (LaTeX-indent-calculate, LaTeX-indent-calculate-last):
	Backindent when brace is at the start of a line.
	Patch by Masashi Shimbo <shimbo@cis.ibaraki.ac.jp>.

	* doc/auc-tex.texi: Fixed dir entry.
	Reported by David Masterson <dmasters@Rational.Com>.

	* tex-info.el (TeXinfo-mode-map): "\e\r" bound to `map', not
	`TeXinfo-mode-map'.
	Patch by Dan Nicolaescu <dann@godzilla.ICS.UCI.EDU>.

2001-03-01  Hidenobu Nabetani  <nabe@debian.or.jp>

	* tex-jp.el: Don't work correctly in current AucTeX.
	Patch by Masayuki Ataka <j1297007@ed.kagu.sut.ac.jp>
	and Yuzo Furukawa <hurukawa@kuee.kyoto-u.ac.jp>.
	Removed support for NEmacs and Mule1,2 which are based
	on Emacs 18 and 19.
	Created new variable japanese-TeX-command-list and
	added support for mendex.
	Updated LaTeX-auto-regexp-list variable.

2001-01-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Changed `sunsite.auc.dk' to `sunsite.dk'.

2001-01-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0d released.

2001-01-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-mik.el (TeX-command-list): Don't prompt for view.

2000-12-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0c released.

2000-12-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Avoid :inherit font property with Emacs 20.
	Reported by Damien WYART <wyart@iie.cnam.fr>.

2000-12-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0b released.

2000-11-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 10.0a released.

2000-11-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Copied Emacs 21 font-lock defs here.
	(VirTeX-common-initialization): Activate them.

2000-10-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* PROBLEMS: Updated.

	* WIN-NT: Removed.
	* MSDOS: Removed.
	* VMS: Removed.
	* OS2: Removed.
	* Makefile (EXTRAFILES): Remove above files.

2000-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/graphicx.el: Updated by author.
	Ryuichi Arafune <arafune@ushioda.riec.tohoku.ac.jp>

2000-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/graphics.el: New file.
	* Makefile (STYLESRC): Add it.
	* style/graphicx.el: Renamed from `style/graphicx.el'.
	* Makefile (STYLESRC): Update.
	Reported by "Dr. Thomas Baumann" <thomas.baumann@ch.tum.de>.

2000-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10t released.

2000-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-outline-name): Don't escape `{' or `}' in
	regexps.
	Patch by "Stefan Monnier" <monnier+gnu/emacs/news/@RUM.cs.yale.edu>.

	* tex-mik.el (TeX-command-list): Use `TeX-run-discard' for "View"
	command.
	Suggested by "Claus Dethlefsen" <c.dethlefsen@lancaster.ac.uk>.

	* latex.el (LaTeX-common-initialization): `\bibitem' starts
	paragraphs, just like `\item'.
	Reported by Werner LEMBERG <sx0005@sx2.HRZ.Uni-Dortmund.DE>.

2000-10-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-current-line): Return a string, not a number.
	Reported by Julia Habel <julia.habel@gmx.de>.
	Patch by Dirk.Ullrich@DaimlerChrysler.com.

2000-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-site.el: Require tex-mik after changing load-path.
	Reported by "I. Jossang" <ij202@eng.cam.ac.uk>.

2000-06-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* IRIX: New file.
	* Makefile (EXTRAFILES): Add it.

2000-05-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10s released.

2000-05-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10r released.

2000-05-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-mode-map): Don't bind `.' and `,' by default.

2000-05-03  Peter Galbraith  <psg@debian.org>

	* font-latex.el: file was broken. Updated to 0.701 (30 Mar 2000).
	* bib-cite.el: file was broken. Updated to 3.16 (20 Dec 99).

2000-04-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10q released.

2000-03-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/graphicsx.el: New file.
	* Makefile (STYLESRC): Add it.
	Donated by Ryuichi Arafune <arafune@ushioda.riec.tohoku.ac.jp>.

2000-04-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10q released.

2000-03-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-keymap): Accept vector for
	`LaTeX-math-abbrev-prefix'.
	(LaTeX-math-insert-prefix): Better error message if
	`LaTeX-math-abbrev-prefix' is not bound.
	Reported by Jan Vroonhof <vroonhof@math.ethz.ch>.

2000-02-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-info.el (TeXinfo-environment-list): Add more missing
	environments.  Patch by Akim Demaille <akim@epita.fr>.

2000-02-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-info.el (TeXinfo-environment-list): Add `group'.
	Patch by Akim Demaille <akim@epita.fr>.

2000-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-command-list): Add `makeinfo --html' support.
	Suggested by Akim Demaille <akim@epita.fr>.

2000-01-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-info.el (TeXinfo-mode-map): Add "\e\r" binding for
	`texinfo-insert-@item'.
	Reported by Akim Demaille <akim@epita.fr>.
	(TeXinfo-mode-menu, texinfo-mode): Change menu name and mode name
	to `Texinfo'.
	Suggested by Akim Demaille <akim@epita.fr>.

1999-12-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bib-cite.el: Updated to 3.16 (20 Dec 99).

	* font-latex.el: Updated to 0.700 (20 December 1999).

2000-03-30  Peter Galbraith  <psg@debian.org>

	* font-latex.el: Updated to 0.701 (30 Mar 2000).

2000-01-14  Peter Galbraith  <psg@debian.org>

	* bib-cite.el: Updated to 3.16 (20 Dec 99).
	* font-latex.el: Updated to 0.700 (20 Dec 99).
	* hilit-LaTeX.el: Changed author email address.

1999-12-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10p released.

1999-12-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bib-cite.el: Updated to 3.15 (20 Dec 99).

	* tex-mik.el (TeX-command-list): Fix default PDF LaTeX command.
	Reported by "Christian Schlauer" <Christian.Schlauer@web.de>.

	* Version 9.10o released.

1999-12-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bib-cite.el: Updated to 3.13 (20 Dec 99).

1999-12-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/danish.el ("danish"): Support Danish quotes.
	Suggested by arne@daimi.au.dk (Arne Jørgensen).

1999-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-info.el (texinfo-mode): Add `kill-all-local-variables'.
	Reported by Stefan Monnier <foo@acm.com>.

	* Version 9.10n released.

1999-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-mik.el: Fixed typo.
	Reported by Bernt Guldbrandtsen <bg@rs580.sh.dk>

1999-12-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10m released.

1999-12-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (AUCSRC, AUCELC): Add `tex-mik.el'.

1999-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10l released.

1999-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-env-figure): Use `\centering' instead of
	`center' environment.
	Patch by Stefan Monnier <foo@acm.com>.

1999-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-mik.el (tex-mik): Add provide.

	* tex-site.el: Automatically require `tex-mik.el' under NT.

1999-11-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-current-file-name-nondirectory): New function.
	(TeX-expand-list): Use it.

1999-11-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/auc-tex.texi: Fixed references.
	Patch by Stefan Monnier <foo@acm.com>.
	* tex.el (TeX-lisp-directory): Use `locate-library' to find
	default under Emacs.
	Patch by Stefan Monnier <foo@acm.com>.
	(TeX-dwim-master): New function.
	(TeX-master-file): Use it.
	(TeX-master): Document it.
	Patch by Stefan Monnier <foo@acm.com>.

1999-11-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10k released.

1999-11-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el: Use `indent-according-to-mode' instead of
	`LaTeX-indent-line'.
	(LaTeX-mode-map): Don't remap `TAB'.
	Patch by "Stefan Monnier <foo@acm.com>".

1999-11-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-command-list): Add `LaTeX PDF' command.

1999-10-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10j released.

1999-10-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (dist): Create a .nosearch in the style directory.
	(install-lisp): Ditto.
	Suggested by Markus Rost <rost@IAS.EDU>.

1999-10-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10i released.

1999-10-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-master-directory): Call `substitute-in-file-name'.
	Patch by Alexander Holt <alexander.holt@ed.ac.uk>.

	* style/ngerman.el: New style.
	Suggested by Torsten Schuetze <schuetze@math.tu-dresden.de>.
	* Makefile (STYLESRC): Add it.

	* tex-buf.el (TeX-command-query): Add history argument.
	Suggested by Werner LEMBERG <sx0005@sx2.HRZ.Uni-Dortmund.DE>.

	* latex.el (LaTeX-environment): Add history argument.

	* tex.el (TeX-add-style-hook): Don't add the same hook twice.
	Suggested by Jarl Friis <jarl@diku.dk>.

	* tex.el: Removed portability code for old Emacsen.

1999-10-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10h released.

1999-09-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-auto-cleanup): Allow multiple packages for
	`usepackage'.
	Reported by Torsten Schuetze <schuetze@math.tu-dresden.de>.
	(LaTeX-auto-cleanup): Also add "unmangled" documentstyle.
	Reported by Cyril Humbert <humbert@phobos.univ-mlv.fr>.

1999-09-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/mdwlist.el: New file.
	Patch by Stephen Heilbronner <heilbron@nm.informatik.uni-muenchen.de>.
	* Makefile (STYLESRC): Add it.

1999-08-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10g released.

1999-08-20  Hidenobu Nabetani  <nabe@debian.or.jp>

	* tex.el (TeX-format-list): Add "JLATEX" and "JTEX" which is needed
	to load tex-jp.el automatically.
	* tex-jp.el (TeX-format-list): Remove "JLATEX" and "JTEX".

1999-08-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-hide-environment, LaTeX-show-environment):
	make them work with new outline mode.
	Reported by Thomas Schick <schick@math.psu.edu>.

	* tex.el (match-string): New compatibility function.
	Reported by Andrew Edward Santosa <andrews@comp.nus.edu.sg>.

1999-08-18  Hidenobu Nabetani  <nabe@debian.or.jp>

	* tex-jp.el (TeX-command-list): Add "jLaTeX" and "pLaTeX".
	(TeX-mode-menu): Fix the problem that menu "TeX" is unchanged.
	(TeX-japanese-process-input-coding-system): Update for Emacs 20.
	(TeX-japanese-process-output-coding-system): Update for Emacs 20.
	(TeX-command-default): Change from "j-article" to "jarticle".
	(LaTeX-fill-region-as-para-do): Fix the problem that fill mode
	don't work in Emacs 20.

1999-07-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10f released.

1999-07-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-auto-minimal-regexp-list): Recognize usepackage
	options.
	(LaTeX-auto-cleanup): Ditto.

1999-07-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-ignore-file): Ignore babel, it loads everything.
	Reported by Mate Wierdl <mw@wierdlmpc.msci.memphis.edu>.

	* style/foils.el: Removed require 'latex.
	* style/natbib.el: Ditto.
	* style/harvard.el: Ditto.
	* style/slides.el: Ditto.
	* style/latexinfo.el: Ditto.
	Reported by Mate Wierdl <mw@wierdlmpc.msci.memphis.edu>.

	* Makefile (infodir, lispdir, aucdir, EMACS): Use `standard' values.
	Reported by Mate Wierdl <mw@wierdlmpc.msci.memphis.edu>.

	* tex-info.el (texinfo-mode): Fix doc string.
	Reported by Bob Weiner <weiner@altrasoft.com>.

1999-05-17  Jerry James  <jerry@cs.ucsb.edu>

	* tex.el: Fix two typos in comments.
	(set-text-properties): Protect against possible XEmacs version
	21.13, 22.13, etc.

1999-05-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-indent-environment-list): Customized.

	* Version 9.10e released.

1999-05-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: (TeX-auto-generate): Reimplement support for numeric
	`TeX-file-recurse'.
	(TeX-search-files): Ditto.

1999-05-03  Rune Kleveland <runekl@math.uio.no>

	* style/amsart.el ("amsart"): Load `amsthm.el'.
	* style/amsbook.el ("amsbook"): Ditto.

1999-03-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10d released.

1999-03-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/changes.texi: Added extra `@'.

	* Version 9.10c released.

1999-03-19  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* tex.el (TeX-insert-dollar): Better error message when trying
	to insert a dollar in math-mode.

	* texmathp.el (texmathp-tex-commands-default): Add more default
	macros.

1999-03-12  Carsten Dominik  <dominik@strw.LeidenUniv.nl>

	* latex.el (TeX-arg-index-tag): New function, to be used by the
	index.el and multind.el style files.
	(LaTeX-auto-index-regexp-list): Now matches both \index and
	\glossary.
	(TeX-arg-index): Rename from TeX-arg-define-index.
	(TeX-arg-define-index): Now an alias for `TeX-arg-index'.
	(LaTeX-common-initialization): Add a regexp for index and
	glossary to `TeX-complete-list'.  Added entry for glossary with
	`Tex-add-symbols'.
	* style/index.el: New file.
	* style/makeidx.el: New file.
	* style/multind.el: New file.
	* style/varioref.el: New file.
	* style/fancyref.el: New file.
	* Makefile (STYLESRC): Add `style/index.el', `style=makeidx.el',
	`style/multind.el', `style/varioref.el', `style/fancyref.el'.

1999-02-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-search-files): `nconc' the result.
	Reported by Berwin Turlach <bturlach@maths.adelaide.edu.au>.

1999-02-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.10b released.

1999-02-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/changes.texi: Typo: @ldots -> @dots.

	* Version 9.10a released.

	* doc/auc-tex.texi: Changed version to 9.10.
	* doc/history.texi: Ditto.
	* doc/changes.texi: Ditto.

1999-02-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9p released.

1999-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-jp.el (TeX-format-list): Fix JLATEX format.
	Patch by Tsutomu OKUMURA <oku@nml.t.u-tokyo.ac.jp>.

	* style/foils.el (LaTeX-style-foils): Remove spurious `\n'.
	Reported by Bernt Guldbrandtsen <bernt@jupiter.ansci.iastate.edu>.

1999-02-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (install-contrib): Add `$(CONTRIBELC)' dependency.
	Suggested by Nils Ackermann <Nils.Ackermann@math.uni-giessen.de>.

1999-01-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-search-files): `mapcar' instead of `mapcan'.

1999-01-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-font-replace-macro): Rename from
	`LaTeX2e-font-replace'.  Use `TeX-esc'.
	* latex.el (LaTeX-common-initialization): Use it.
	* tex-info.el (texinfo-mode): Ditto.
	(TeXinfo-font-list): Add `delete'.
	Suggested by Christoph Wedler  <wedler@fmi.uni-passau.de>.

1999-01-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9o released.

1999-01-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-insert-braces, TeX-command-list): Fix custom types.
	Patch by Markus Rost <markus.rost@mathematik.uni-regensburg.de>.

1999-01-09  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* latex.el (LaTeX2e-font-replace): Don't use hard-coded regexp for
	font commands, use local `TeX-font-list', i.e., `LaTeX-font-list'.

1999-01-05  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* tex.el (TeX-load-style-file): Do not prevent .elc style files to
	be loaded if `TeX-byte-compile' is nil, just prevent compilation.
	(TeX-lisp-directory): Only use `locate-data-directory' if this
	function is defined and AucTeX is installed as an XEmacs package.

1998-12-12  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* tex.el (load-path): Don't add `TeX-lisp-directory'.
	(TeX-lisp-directory): Use `locate-data-directory' if present.

1998-12-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9n released.

1998-12-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-file-recurse): Add right parenthesis.
	Reported by Bernt Guldbrandtsen <bernt@stat.washington.edu>.

1998-12-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9m released.

1998-12-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* font-latex.el: Updated.
	* bib-cite.el: Ditto.

	* Version 9.9l released.

1998-12-01  Alastair Burt  <burt@dfki.de>

	* doc/auc-tex.texi (Automatic):

	* lisp/tex.el: Extended the semantics of TeX-file-recurse
	-- now accepts a positive integer as a bound on the recursion.
	Functions TeX-search-files and TeX-auto-generate have been amended
	appropriately.

1998-11-23  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* texmathp.el (texmathp): Add autoload cookie.

1998-11-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9k released.

1998-11-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-load-style-file): Protect `byte-compile-file'.
	Reported by Kurt Swanson <kurt@dna.lth.se>.

	* latex.el (LaTeX-outline-name): New function.
	(LaTeX-imenu-create-index-function): New function.
	(LaTeX-common-initialization): Use it.

	* tex-buf.el (TeX-run-interactive): Make sure buffer is writable
	(needed in Emacs 20.3).
	Reported by many.

1998-10-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/auc-tex.texi (European): Remove references to obsolete
	packages.

1998-07-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9j released.

1998-07-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-run-ispell-on-document, TeX-ispell-document):
	New functions.
	* tex.el (TeX-command-list): Use them.
	Patch by Jason Stewart <jasons@cs.unm.edu>.

	* Version 9.9i released.

1998-07-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-parse-macro, TeX-arg-string, TeX-parse-argument):
	If region is active, put it inside empty brackets.
	Patch by Peter Thiemann <pjt@cs.nott.ac.uk>.

1998-07-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (plain-TeX-auto-regexp-list): Add missing \\'es.
	Reported by Markus Rost t4287
	<markus.rost@mathematik.uni-regensburg.de>.

1998-07-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9h released.

1998-07-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-insert-dollar): Use `string-equal' to compare
	strings.
	Patch by Carsten Dominik <dominik@strw.leidenuniv.nl>.

1998-06-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9g released.

1998-06-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-auto-index-regexp-list): Remove extra quote.
	Patch by Carsten Dominik  <dominik@strw.leidenuniv.nl>.

1998-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9f released.

1998-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-auto-index-regexp-list): Fix parentheses.
	* texmathp.el (texmathp): Use `if (not' instead of `unless'.
	Patch by Carsten Dominik  <dominik@strw.leidenuniv.nl>.

1998-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9e released.

1998-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/Makefile (auc-tex.ps): Use `-o' to specify output file.
	Suggested by Paul McJones <mcjones@pa.dec.com>.

1998-06-12  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* latex.el (LaTeX-font-list): Default value now contains special
	math font commands.
	(LaTeX2e-font-replace): Add support for math fonts.

	* tex.el (TeX-font-list): Docstring changed.  Extra prefix and
	suffix for math fonts allowed.
	(TeX-describe-font-entry): Adapted to extended `TeX-font-list'.
	(TeX-font): Detects math mode (using `texmathp') and inserts
	special math font commands when available.

1998-06-11  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* tex.el: (TeX-insert-dollar):  Rewritten with `texmathp'.
	(TeX-dollar-verify, TeX-locate-delimiter, TeX-bouncing-point):
	Obsolete functions removed.

1998-06-11  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* latex.el: Made index entries available for global completion
	like labels and citation keys.
	(TeX-arg-index, TeX-arg-define-index): New functions.

1998-06-10  Carsten Dominik  <dominik@strw.leidenuniv.nl>

	* natbib.el ("natbib"): Rewritten to allow for more flexible
	  control of optional note arguments.  New macros in NatBib 6
	  supported.  Added support for RefTeX.

1998-06-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9d released.

1998-06-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* texmathp.el: New version from Dominik.

	* Version 9.9c released.

1998-06-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (texmathp): Add autoload.
	(TeX-math-mode-p): Delete.
	(TeX-parse-macro): Use `texmathp' instead of `TeX-math-mode-p'.

	* texmathp.el: New file by Carsten Dominik
	<dominik@strw.LeidenUniv.nl>.
	* Makefile (AUCSRC): Add.
	(AUCELC): Add.

1998-06-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-expand-list): Add `%n' escape.
	(TeX-current-line): New function.
	Suggested by "Lee, Sang-Min" <smagus@acorn.snu.ac.kr>.

	* doc/auc-tex.texi: Doc fixes by Gustavo Chaves
	<gustavo@cpqd.com.br>.
	* doc/intro.texi: Ditto.
	* doc/install.texi: Ditto.

1998-05-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el: Checkdoc'ed.

1998-04-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/README: Update iesd->sunsite in addresses.

1998-04-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/Makefile (auc-tex.ps): Cut of the first two lines.

1998-03-29  Carsten Dominik  <dominik@strw.LeidenUniv.nl>

       * latex.el (LaTeX-section-section): When RefTeX is available,
       notify it about the new section.

1998-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/math-ref.tex (section{Symbols}): Wrong keybindings.
	Reported by "Ron Smith" <rsmith@eel.ufl.edu>.

1998-02-27  Soren Dayton <csdayton@cs.uchicago.edu>

	* tex.el (TeX-load-style): Also look in master directory.

1998-02-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-insert-punctuation): Only expand abbrevs when abbrev
	mode is on.  Suggested by Alastair Burt <alastair.burt@dfki.de>.

1998-02-25  SL Baur  <steve@altair.xemacs.org>

	* doc/auc-tex.texi: Add direntry section for automatic
	installation.

1998-02-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9b released.

1998-01-02  John Griffith  <griffith@sfs.nphil.uni-tuebingen.de>

	* latex.el (LaTeX-auto-regexp-list): Recognize empty optional
	  arguments and macros in optional arguments.

	* tex.el (TeX-parse-argument): minor spelling correction.
	(TeX-argument-insert): ditto

1998-02-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-match-extension): Fold case when matching
	extensions.

1998-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.9a released.

1998-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8l released.

1998-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8k released.

1998-02-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-list): Make tags match doc string.

1998-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8j released.

1998-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-jp.el: Added credit.
	Patch by KOBAYASHI Shinji <koba@flab.fujitsu.co.jp>.

1997-12-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-site.el: Added `defcustom' kludge to tex-site.el.
	Suggested by "Ralph J. Hangleiter" <hangleit@math.uni-goettingen.de>.

1997-10-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (TeX-arg-input-file): Add trailing slash.
	(TeX-arg-bibstyle): Ditto.
	(TeX-arg-bibliography): Ditto.
	Patch by Ching-Mo Chang <chang@wsu.edu>.

1997-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8i released.

1997-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8h released.

1997-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8g released.

1997-10-20  Peter S Galbraith  <rhogee@mixing.qc.dfo.ca>

	* font-latex.el: Updated to V0.504 (Oct 20 97)

	* bib-cite.el: Updated to 3.04 (Aug 25 97)

	* hilit-LaTeX.el: Updated to V1.17 (Sep 06 95)

1997-10-01  kifer@CS.SunySB.EDU (Michael Kifer)

	* tex.el (TeX-insert-punctuation): Expand abbrevs in the
	beginning.

1997-09-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-run-silent): New function.

	* tex.el (TeX-command-list): Change default for view from
	`TeX-run-background' to `TeX-run-silent'.

1997-09-10  "Dr. Werner Fink" <werner@suse.de>

	* style/dinbrief.el: Updated.

1997-09-08  karlheg@inetarena.com (Karl M. Hegbloom)

	* tex-info.el (texinfo-mode): Regexp fix.

1997-08-29  David J. Rowe  <rowe@asys47.wdl.lmco.com>

	* latex.el (LaTeX-auto-regexp-list): Add support so newcommand*,
	renewcommand*, providecommand*, newenvironment* and
	renewenvironment* are recognized by TeX-auto-generate and
	TeX-auto-generate-global.
	(LaTeX-common-initialization): Add all of above "starred"
	commands to symbol list and added providecommand to symbol list.

1997-08-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8f released.

1997-08-29  Carsten Dominik  <dominik@strw.LeidenUniv.nl>

	* amsmath.el ("amsmath"): Add environments xalignat and
	xxalignat, and starred forms

1997-08-22  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* tex-buf.el (TeX-region-create): Also bind `orig-buffer' which
	might be useful in `TeX-region-hook'.

1997-07-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8e released.

1997-07-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (STYLESRC): Add `style/natbib.el'.

1997-07-13  Berwin Turlach  <berwin.turlach@anu.edu.au>

	* Added style support for natbib.sty

1997-07-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8d released.

1997-07-11  Jan Vroonhof <vroonhof@math.ethz.ch>

	* latex.el (LaTeX-auto-regexp-list): More LaTeX2e support.

1997-07-05  Berwin Turlach  <berwin.turlach@anu.edu.au>

	* latex.el (BibTeX-auto-store): make TeX-master a local variable
	and set it to true.

1997-07-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8c released.

1997-07-03  Carsten Dominik <dominik@strw.LeidenUniv.nl>

	* style/amsmath.el ("amsmath"): Use `TeX-arg-ref' for eqref.

1997-06-29  Berwin Turlach  <berwin.turlach@anu.edu.au>

	* harvard.el: Updated the support for harvard.el

1997-06-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8b released.

1997-06-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-LaTeX-sentinel): `natbib' support.
	Patch by Berwin Turlach <berwin.turlach@anu.edu.au>.

1997-06-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.8a released.

1997-06-24  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* tex.el (TeX-update-style): `TeX-auto-update' could be unbound.
	(TeX-auto-x-parse-length): New variable.  Allows to use maximimum
	= slow parsing for the beginning of a file and minimum = fast
	parsing, e.g., just for labels, for the rest of the file.
	(TeX-auto-x-regexp-list): Ditto.
	(TeX-auto-parse-region): New function.
	(TeX-auto-parse): Use them.

	* tex-buf.el (TeX-region-extra): New variable with a value which
	redefines \cite for the region file in order get less
	warnings. With value "", this variable has no effect.
	(TeX-region-hook): New variable.
	(TeX-region-create): Use them.

	* latex.el (LaTeX-indent-line): TeX commands are case sensitive.
	(LaTeX-find-matching-end): Would not work correctly with more than
	one \end in a line.
	(LaTeX-find-matching-begin): Would not work correctly with more
	than one \begin in a line.

	(LaTeX-menu-max-items): New variable with value 25.  Split menu
	if number of entries in a menu is larger than this value.  If nil,
	never split menu into submenus, which is the behaviour before the
	introduction of this variable.
	(LaTeX-submenu-name-format): New variable.
	(LaTeX-split-long-menu): New function using the two new variables.
	(LaTeX-menu-update): Use it.

	(LaTeX-document-regexp): New variable.  Texts in environments
	other than "document", e.g., "letter", could be without initial
	indentation.
	(LaTeX-verbatim-regexp): New variable.  \begin and \end of
	environments other than "verbatim\\*?", e.g., "program", could
	start at column 0.
	(LaTeX-begin-regexp): New variable similar to `LaTeX-item-regexp'.
	Commands other than "begin", e.g, "if", could increase the
	indentation.
	(LaTeX-end-regexp): New variable similar to `LaTeX-item-regexp'.
	Commands other than "end", e.g, "fi", could decrease the
	indentation.
	(LaTeX-indent-comment-start-regexp): New variable.  Would allow
	you to correct the automatic indentation with commands in special
	comments.
	(LaTeX-indent-calculate): Use them.
	(LaTeX-indent-level-count): Use them.
	(LaTeX-indent-calculate-last): Use them.

	(LaTeX-math-insert-function): New variable.
	(LaTeX-math-insert): Use it.

1997-06-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (TeX-arg-ref): New alias.
	(LaTeX-common-initialization): Use it.
	Patch by Soren Dayton <csdayton@cs.uchicago.edu>.

1997-06-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-auto-minimal-regexp-list): Add `usepackage'.
	(LaTeX-auto-minimal-regexp-list): Ditto.
	Patch by Carsten Dominik <dominik@strw.LeidenUniv.nl>.

	* style/amsmath.el: New file.
	* style/amstext.el: New file.
	* style/amsbsy.el: New file.
	* style/amsopn.el : New file.
	* style/amsthm.el: New file.
	* Makefile (STYLESRC): Add them.
	Files provided by Carsten Dominik <dominik@strw.LeidenUniv.nl>.

1997-06-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/slovak.el: New file.
	* style/czech.el: New file.
	* Makefile (STYLESRC): Add them.
	Files provided by Milan Zamazal <pdm@fi.muni.cz>.

1997-04-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7p released.

1997-04-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Added customize information.
	* tex-buf.el: Ditto.
	* latex.el: Ditto.

1997-04-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7o released.

1997-04-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-equation-label): New variable.
	(LaTeX-eqnarray-label): New variable.
	(LaTeX-label): Support `figure*', `label*', `equation', and
	`eqnarray'.
	(LaTeX-env-figure): Support `table*'.
	Patch by Joes Staal <staal@geo.tudelft.nl>.

1997-03-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-down-section): Doc fix.
	(LaTeX-section-heading): Ditto.
	(LaTeX-section-title): Ditto.
	(LaTeX-env-array): Ditto.
	(TeX-braces-user-association): Ditto.
	(LaTeX-fill-region-as-paragraph): Ditto.
	(LaTeX-math-abbrev-prefix): Ditto.
	(LaTeX-math-mode): Ditto.
	(TeX-arg-right-insert-p): Ditto.
	(latex-mode): Ditto.

1997-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7n released.

1997-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-default): Fix hebrew delimiters.
	Patch by John Griffith <griffith@sfs.nphil.uni-tuebingen.de>.

1997-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-209-to-2e): Use `buffer-substring-no-properties'.
	Reported by Graham Gough <graham@cs.man.ac.uk>.

1997-03-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7m released.

1997-03-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-auto-generate): Only generate when needed.
	(TeX-auto-generate-global): Ditto.
	Patch by Helmut Geyer <Helmut.Geyer@IWR.Uni-Heidelberg.De>.

	* Makefile (install-contrib): Don't move elc files twice.
	Patch by Helmut Geyer <Helmut.Geyer@IWR.Uni-Heidelberg.De>.

1997-03-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/danish.el: Copied from `style/dk.el'.
	* Makefile (STYLESRC): Add `style/danish.el'.
	Suggested by Lars Frellesen <frelle@math-tech.dk>.

1997-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7l released.

1997-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (some): Don't use `style/*.elc'.

1997-02-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-electric-macro): Default to space after dot.

1997-02-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7k released.

1997-02-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-submit-bug-report): Fix address (sunsite, not iesd!).

1997-02-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7j released.

1997-02-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (some): New target.
	Suggested by Steven L Baur <steve@miranova.com>.

1997-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7i released.

1997-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el: Removed autoloads that conflicts with `tex-mode.el'.
	(TeX-lisp-directory): Default to data-directory.

1997-02-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7h released.

1997-02-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-lisp-directory): Remove.

1997-02-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7g released.

1997-02-06  Karl Eichwalder  <ke@ke.Central.DE>

	* Makefile (install-lisp): Don't install $(aucdir)/lpath.el and
	$(aucdir)/tex-site.el.
	(contrib, install-contrib): New targets.

1997-01-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-default): uparow -> uparrow.
	Reported by Kyeong Soo Kim <kks@baekdu.rgit.wustl.edu>.

1997-01-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (AUCSRC): Remove `ltx-help.el'.

1997-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7f released.

1997-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-label-function): New variable.
	(LaTeX-label): New function.
	(LaTeX-section-label): Use it.
	(LaTeX-env-figure): Ditto.
	(LaTeX-env-label): Ditto.
	Patch supplied by Carsten Dominik <dominik@strw.LeidenUniv.nl> for
	better RevTeX.el support.

	* latex.el (LaTeX-env-figure): Don't insert \leavevmode, at the
	request of David Carlisle <carlisle@ma.man.ac.uk>.

1997-01-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7e released.

1997-01-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-parse-error): Support LaTeX warnings.  Patch by
	Frederic Devernay <devernay@istar.fr>.
	(TeX-warning): Ditto.

1997-01-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7d released.

1997-01-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-jp.el: XEmacs 20 support by Soren Dayton
	<csdayton@cs.uchicago.edu>.

1997-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (CP): Use `cp -p'.  Suggested by Graham Gough
	<graham@cs.man.ac.uk>.

	* Version 9.7c released.

1997-01-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* doc/intro.texi: Spelling fixes by Franklin Chen <chen@adi.com>.

	* tex-buf.el (TeX-shell-command-option): Insitialize from
	shell-command-switch.  Suggested by Fabio@Colorado.EDU (Fabio
	Somenzi).

	* latex.el (LaTeX-mode-menu): Add sans serif.  Patch by Ralf
	Fassel <ralf@atg.venture.de>.

1997-01-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (install-lisp): Also install `.el' files.  Requested by
	several people.

1996-12-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (tex.elc): New entry.
	(install-lisp): Use it.  Trevor Jim <tjim@saul.cis.upenn.edu>
	reported that `make install' wouldn't make the elc files.

1996-12-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.7b released.

1996-12-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-run-format): Bind `buffer' before `process' to
	avoid side effect.  Suggested by Frederic Devernay
	<devernay@istar.fr>.

	* Version 9.7a released.

1996-12-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-fill-region-as-para-do): Minimal support for
	`sentence-end-double-space'.

1996-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.6m released.

1996-12-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.6l released.

1996-12-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-jp.el: Patch from IKEMOTO Masahiro
	<ikeyan@airlab.cs.ritsumei.ac.jp>.

1996-11-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.6k released.

1996-11-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-mode-menu): Made `LaTeX-math-mode' a toggle.

1996-11-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.6j released.

1996-11-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-common-initialization): Add eqref to
	LaTeX-label-list.  Suggested by Martin Hagstrom
	<martinh@sto.foa.se>.

1996-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-region-create): Disable font lock.  Suggested by
	several, patch by Christoph Wedler <wedler@fmi.uni-passau.de>.

1996-11-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-file-extensions): Add "texinfo".

1996-09-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-mode-map): Do not overwrite standard binding of
	`M-g'.

	* tex.el (popup-mode-menu): Run `LaTeX-menu-update' if present.
	Workaround for bug reported by Hendrik Visage
	<hendrikv@di.denel.co.za> and othors.

	* latex.el (LaTeX-float): Allow nil.
	(LaTeX-env-figure): Don't insert float if nil.  Feature suggested
	by Andre Eickler <eickler@db.fmi.uni-passau.de>.

1996-09-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 9.6i released.

1996-09-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-mode-syntax-table): Made `$' have the syntax class
	`$' at the suggestion of Mats Bengtsson <matsb@s3.kth.se>.

1996-08-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (TeX-arg-cite): Use `multi-prompt' when asking for
	entries.
	(TeX-arg-bibliography): Ditto.

1996-08-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile: Simplified installation (I hope).

1996-08-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile: Removed lacheck.

1996-08-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-buf.el (TeX-run-command): Change to master directory before
	executing command.
	(TeX-region-file): Allow dummy second argument.
	(TeX-run-background): Run in master directory.
	(TeX-run-interactive): Run in master directory.

	* tex.el (TeX-master-file): Allow second argument `NONDIRECTOPRY'.
	(TeX-expand-list): Set second argument `NONDIRECTORY' to file
	entries.
	(TeX-master-directory): New function.
	* tex.el (TeX-auto-write): Write in master directory.

1996-08-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-current-environment): Ignore comments.
	Reported by Stephen Eglen <stephene@cogs.susx.ac.uk>.

	* tex.el (TeX-directory-absolute-p): Add `windows-nt'.

	* tex-buf.el (TeX-shell): Add `windows-nt'.
	(TeX-shell-command-option): Add `emx' and `windows-nt'.
	Reported by Ulrich Poetter <poetter@em.uni-frankfurt.d400.de>.

1996-08-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (VirTeX-common-initialization): Remove duplicate
	initialization of `words-include-escapes'.  Reperted by Mark Hovey
	<hovey@math.mit.edu>.

1996-08-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (CONTRIB): Add `font-latex.el'.

1996-07-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (aucdir): Change `lib' to `share' per new emacs
	conventions.  Reported by "Edward J. Huff"
	<huffe@carbon.chem.nyu.edu>.

1996-07-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-fill-region-as-para-do):  Make sure `.}' gets
	two spaces at end of sentence when filling.

1996-07-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-parse-path): Ignore tralining //.  Suggested by
	Göran Uddeborg <Göran.Uddeborg@carmen.se>.

1996-05-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Use version number instead of CVS id.

	* tex.el (TeX-mode-map): Don't bind `del'.  We aren't supposed to
	have any tabs in the first place.

1996-05-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-mark-active, TeX-active-mark) [XEmacs]: The
	definition of these two were swapped.  Bug reported by
	Vladimir Alexiev <vladimir@cs.ualberta.ca>.

1996-04-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-update-style): Don't run parent style hooks for
	files that doesn't match `TeX-one-master'.  Suggested by many
	people.

1996-04-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-close-environment):
	Bind `next-line-add-newlines' to t.  Patch by Fritz Knabe
	<knabe@matecumbe.ing.puc.cl>.

1996-04-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-fill-region-as-para-do): Fill `.}' as a sentence
	end.  Patch by Fritz Knabe <knabe@matecumbe.ing.puc.cl>.

1996-03-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-cal): Use `\mathcal{}' under LaTeX2e.
	Reported by Mate Wierdl <wierdlm@zebra.msci.memphis.edu>.

1996-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex-info.el (texinfo-mode): Rely on texinfo.el to provide the
	outline regexp.

1996-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (TeX-command-menu-queue, TeX-command-menu-queue-entry):
	New functions supporting printer queue queries from the menu.
	By Ulrik Dickow <dickow@nbi.dk>
	(TeX-command-menu-entry): Use them.

1996-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* style/swedish.el: Support for Swedish quotation style by "G\vran
	Uddeborg" <gvran@uddeborg.pp.se>.

1995-12-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-default): Add more definitions by Mehmet
	Balcilar <MBALCIL@econ.wayne.edu>.

1995-12-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-fill-region-as-paragraph): Remove old version.
	(LaTeX-math-menu): Redefined the math mode menu.

1995-12-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* latex.el (LaTeX-math-menu): New variable.
	(LaTeX-mode-menu): Use it.  Suggested by Peter S Galbraith
	<rhogee@mixing.qc.dfo.ca>.

1995-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el (VirTeX-common-initialization): Set `comment-multi-line'
	to nil.

1995-10-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* PROBLEMS: Some easymenu explanations.

	* tex.el: Require easymenu.el instead of auc-menu.el.
	* Makefile (AUCSRC): Remove easymenu.el and auc-menu.el.
	(MINMAPSRC): Remove easymenu.el, column.el and cpp.el.
	* easymenu.el: File deleted.
	* column.el: File deleted.
	* cpp.el: File deleted.

	* latex.el (LaTeX-math-insert): Don't check if `TeX-insert-macro'
	is defined.
	(LaTeX-close-environment): Work better when called on an empty
	line.  Fixed by David Aspinall <da@dcs.ed.ac.uk>.

1995-10-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* tex.el ('LaTeX-math-mode): Autoload from latex.el instead of
	ltx-math.el.  Reported by Richard Brankin <richard@num-alg-grp.co.uk>.

1995-02-14  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-fill-region-as-paragraph): Should now format \\
	correctly.  Patch by michal@ellpspace.math.ualberta.ca (Michal
	Jaegermann).
	(LaTeX-fill-region-as-para-do): New function.
	(LaTeX-fill-region-as-paragraph): Do not fill paragraphs inside
	special environments.

1995-02-12  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-byte-compile): Make it default to nil.
	Suggested by michal@ellpspace.math.ualberta.ca (Michal Jaegermann).

	* tex-buf.el (TeX-command-query): Also offer to save files when
	started from a menu.  Reported by wscoas@win.tue.nl (Anton
	A. Stoorvogel).
	(TeX-LaTeX-sentinel): Don't suggest BibTeX if there is no
	bibliographies. Suggested by Piet van Oostrum <piet@cs.ruu.nl>.

1995-02-11  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-run-format): Protect against being run from a
	different buffer.  Patch by Michael Kifer
	<kifer@sbkifer.cs.sunysb.edu>.

	* latex.el (LaTeX-math-default): Move `Phi' from V to F in
	LaTeX-math-mode.   Suggested by dak@ind.rwth-aachen.de (David
	Kastrup).
	* doc/math-ref.tex: Documented it.

1995-02-02  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-home-buffer): Add interactive, reported by
	edavid@lami.univ-evry.fr.

1995-02-01  Per Abrahamsen  <abraham@iesd.auc.dk>

	* hilit-LaTeX.el: Upgraded to 1.06.

	* Makefile (CONTRIB, EXTRAFILES): Move tex-jp.el to CONTRIB.

1995-01-27  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-paragraph-commands): Incorrectly placed
	parenthesis.  Reported by mic@cs.ucsd.edu (Michelangelo Grigni).

1995-01-26  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-fill-region): Use marker to mark end of region
	instead of integer, as the formatting may change the size of the
	region.
	(LaTeX-common-initialization): Fix bug in paragraph definitions.
	Reported by Steve Anderson <anderson@sapir.ling.yale.edu>.

	* tex.el (save-match-data): Add by koba@flab.fujitsu.co.jp
	(Kobayashi Shinji).
	(bibtex-mode-hook): Don't use add-hook yet.
	Reported by koba@flab.fujitsu.co.jp (Kobayashi Shinji).

1995-01-25  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (change-major-mode-hook): Also clear
	`LaTeX-environment-list'.

	* Makefile (AUCSRC): Add `auc-menu.el'.

	* tex.el: Use auc-menu instead of easymenu.

	* tex.el: Inserted comment to mark end of site customization.
	Suggested by john@minster.york.ac.uk (John A. Murdie).

	* tex.el (change-major-mode-hook): Forgot a set of parentheses.
	Reported by Frederic Devernay <Frederic.Devernay@sophia.inria.fr>.

	* tex-buf.el (TeX-current-pages): Remove extra parentheses.
	Reported by mic@cs.ucsd.edu (Michelangelo Grigni).

1995-01-24  Per Abrahamsen  (abraham@iesd.auc.dk)

	* tex.el (change-major-mode-hook): Add workaround for error in
	XEmacs 19.11's `kill-all-local-variables'.

1995-01-23  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-common-initialization): Remove unnecessary
	regexp quotes of `TeX-esc'.

	* style/amsart.el: Move `eqref' definition to `style/amstex.el'
	and load that style hook.
	* style/amstex.el: New file.
	* Makefile (STYLESRC): Add it.
	Suggested by vb1890@PLAY.CS.NYU.EDU (Victor Boyko).

1995-01-22  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el, ltx-math.el, Makefile: Integrated `ltx-math.el' in
	`latex.el'.
	* tex-site.el: Removed autoload for `LaTeX-math-mode'.

1995-01-19  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (latex-mode): Epoch fix by Martin Sjolin
	<marsj@ida.liu.se>.

1995-01-17  Per Abrahamsen  <abraham@iesd.auc.dk>

	* bib-cite.el: New file contributed by Peter S. Galbraith
	<rhogee@bathybius.meteo.mcgill.ca>.

	* hilit-LaTeX.el: New file contributed by Peter S. Galbraith
	<rhogee@bathybius.meteo.mcgill.ca>.

	* Makefile (CONTRIB): New macro for user contributed emacs lisp
	packages, initialized with `bib-cite.el' and `hilit-LaTeX.el'.
	(EXTRAFILES): Add $(CONTRIB) to the list.

	* tex.el (TeX-directory-absolute-p): Move definition before
	`TeX-macro-private'.  Reported by Frederic Devernay
	<Frederic.Devernay@sophia.inria.fr>.

	* latex.el (LaTeX-common-initialization): Remove extra and wrong
	"\\\\par" from `paragraph-separate'.  Bug reported by
	nijhof@th.rug.nl (Jeroen Nijhof).

1995-01-11  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-command-region): Comment fix.  Patch by
	wlang@rs6000.mri.akh-wien.ac.at (Willi Langenberger).
	(TeX-region-create): More outline-mode safe. Patch by
	wlang@rs6000.mri.akh-wien.ac.at (Willi Langenberger).

	* Makefile (dist): Put version number in WWW page.
	Suggested by several people.

	* latex.el (LaTeX-auto-regexp-list): Ignore first optional
	argument to newenvironment if there is a second.  Problem reported
	by schiotz@ltf.dth.dk (Jakob Schiotz).

	* style/amsbook.el: New file.  Problem reported by Denby Wong
	<3dw16@qlink.queensu.ca>.

1995-01-04  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-TeX-sentinel-check): New function.  Updates
	`TeX-current-page' with regexp by dodd@roebling.poly.edu (Lawrence
	R. Dodd)
	(TeX-current-pages): New function.
	(TeX-LaTeX-sentinel, TeX-TeX-sentinel): Use it.
	(TeX-format-filter): Remove unnecessary check before assignment.

1995-01-03  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-LaTeX-sentinel): Write number of pages even
	when labels or citations are missing.  Patch by
	dodd@roebling.poly.edu (Lawrence R. Dodd).

1994-12-07  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-directory-absolute-p): New function.  Should work on
	both Unix and MS DOS.  Problem reported by schiotz@ltf.dth.dk
	(Jakob Schiotz).
	(TeX-parse-path): Use it.
	(TeX-auto-generate): Use it.

1994-12-05  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (BibTeX-auto-store): Set TeX-auto-parse-length to
	999999 locally.  Problem reported by Christoph Wedler
	<wedler@fmi.uni-passau.de>.

1994-12-02  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-LaTeX-sentinel): Check whether the ".bbl" file
	need to be udpated before setting TeX-command-next to "BibTeX".
	(TeX-command-query): Remove previous change.

1994-11-28  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-209-to-2e): New function by
	Graham Gough <graham@cs.man.ac.uk>.

	* latex.el (LaTeX-mode-menu): Move many commands to new
	"Miscellaneous" submenu.

	* tex-buf.el (TeX-home-buffer): Don't take arg.

	* latex.el (LaTeX-left-right-indent-level): New variable
	controling indentation for \left \right blocks.
	(LaTeX-indent-level-count): New function.  Previously only LaTeX
	macros at the beginning of the line would affect indentation.
	This problem was reported by many people.
	(LaTeX-indent-calculate-last): Call `LaTeX-indent-level-count'.
	Take into account that \end and \right at the beginning of the
	line has immediate effect.

1994-11-27  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (TeX-global-input-files): New variable.  Idea and
	sample code by Christophe Mignot <Christophe.Mignot@loria.fr>.
	(TeX-arg-input-file): Use it.
	(BibTeX-global-style-files): Mention how it is reset in
	`TeX-normal-mode'.
	(BibTeX-global-files): Ditto.

	* tex.el (TeX-normal-mode): Reset `BibTeX-global-style-files',
	`BibTeX-global-files', and `TeX-global-input-files' if invoked
	with an argument.

	* tex-site.el: Ignore trailing `/' when adding TeX-lisp-directory
	to load-path.  Patch by Michael Ernst
	<mernst@research.microsoft.com>.

	* tex-buf.el (TeX-LaTeX-sentinel): Don't rerun LaTeX on missing
	references, unless they have changed.  Patch by schiotz@ltf.dth.dk
	(Jakob Schiotz).

	* latex.el (LaTeX2e-font-replace): New function.
	(LaTeX-common-initialization): Set TeX-font-replace-function to
	LaTeX2e-font-replace when using latex2e.

	* tex.el (TeX-font-replace-function): New variable.
	(TeX-font): Use it.

	TeX-font-replace-function and LaTeX2e-font-replace were
	contributed by Peter Thiemann
	<thiemann@provence.informatik.uni-tuebingen.de>.


1994-11-22  Per Abrahamsen  <abraham@iesd.auc.dk>

	* MSDOS: Added.  Contributed by schiotz@ltf.dth.dk (Jakob
	Schiotz).

	* OEMACS: Removed.

	* tex.el (VirTeX-common-initialization):
	Make `words-include-escapes' a local variable before setting it.
	Reported by Bo Nygaard Bai <bai@iesd.auc.dk>.

1994-11-15  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-auto-store): Change to functions that prevent the
	auto file buffer from entering emacs-lisp-mode.
	(TeX-auto-insert): Don't rely on emacs-lisp-mode for indentation.
	Suggested by Stefan Schöf (schoef@informatik.uni-oldenburg.de).

1994-11-11  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-macro-global): Change to `standard' path.

1994-11-09  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex-buf.el (TeX-command-query): Suggest TeX-command-default
	again if bbl file is newer than dvi file.

1994-11-07  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-submit-bug-report): Indicate LaTeX-version.
	Suggested by schiotz@ltf.dth.dk (Jakob Schiotz).

1994-10-26  Per Abrahamsen  <abraham@iesd.auc.dk>

	* Makefile (dist): Automatically update AUC-TeX-version and
	AUC-TeX-date in tex.el

	* tex.el (AUC-TeX-version): Add AUC-TeX-version and
	AUC-TeX-date from auc-ver.el.

	* auc-ver.el: File removed.

	* tex.el: Added version specific code from seperate files.

	* tex-19.el, tex-18.el, tex-lcd.el: Files removed.

1994-10-25  Per Abrahamsen  <abraham@iesd.auc.dk>

	* doc/auc-tex.texi (Projects): Remove an implemented item.

	* tex.el (TeX-command-current): New variable.
	(TeX-command-select-master): New function.
	(TeX-command-select-buffer): New function.
	(TeX-command-select-region): New function.
	(TeX-command-menu): Use TeX-command-current instead of explicit
	file argument.
	(TeX-command-menu-print): Remove file argument.
	(TeX-command-menu-printer-entry): Don't pass file argument.
	(TeX-command-create-menu): Remove.
	(TeX-mode-menu): New menu.
	(plain-TeX-mode-menu): Remove entries now in TeX-mode-menu.
	(plain-TeX-mode-menu): Use `toggle' for bad boxes.
	(plain-TeX-common-initialization): Enable TeX-mode-menu.

	* latex.el (LaTeX-mode-menu): Remove entries now in
	TeX-mode-menu.
	(LaTeX-mode-menu): Use `toggle' for bad boxes.
	(LaTeX-common-initialization): Enable TeX-mode-menu.

	* tex-info.el (TeXinfo-command-menu): New menu.
	(TeXinfo-mode-menu): Move commands to new menu.
	(TeXinfo-mode-menu): Use `toggle' for bad boxes.
	(texinfo-mode): Enable TeXinfo-command-menu.

1994-10-24  Per Abrahamsen  <abraham@iesd.auc.dk>

	* Makefile (AUCSRC): Remove auc-menu.el from AUC TeX distribution.
	(MINMAPSRC): Add easymenu.el temporarily to min-map distribution.

	* auc-menu.el: Just load easymenu.el when using GNU Emacs.

	* easymenu.el Try to use RMS's easymenu instead of auc-menu.
	(easy-menu-define): Call `easy-menu-do-define' to do
	the real work.  Document XEmacs keyword arguments.
	(easy-menu-do-define): New function.
	(easy-menu-create-keymaps): Support XEmacs keyword arguments in
	menu definition.
	(easy-menu-remove): Make is a function instead of a macro.
	(easy-menu-add): Ditto.

1994-10-21  Per Abrahamsen  <abraham@iesd.auc.dk>

	* doc/auc-tex.texi (Completion): Less confusing BibTeX advice, I hope.

	* tex-jp.el: Added patch from koba@flab.fujitsu.co.jp (Kobayashi
	Shinji).

	* latex.el (TeX-arg-insert-braces): Have \left and \right on
	different lines.  Patch by thiemann@informatik.uni-tuebingen.de
	(Peter Thiemann).

	* Makefile (dist): Add CHANGES and ChangeLog files to the ftp
	directory.  Suggested by Frederic Devernay
	<Frederic.Devernay@sophia.inria.fr>.

	* latex.el (LaTeX-indent-calculate): Allow nil second element in
	`LaTeX-indent-environment-list'.
	(LaTeX-indent-environment-list): Add special environments
	suggested by thiemann@informatik.uni-tuebingen.de (Peter
	Thiemann).

1994-10-20  Per Abrahamsen  <abraham@iesd.auc.dk>

	* tex.el (TeX-auto-list-information): Spelling error.

1994-10-18  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-common-initialization): Make "LaTeX2e" the
	default command if you have set `LaTeX-version' to "2" and is
	using "\documentclass".

1994-10-06  Per Abrahamsen  <abraham@iesd.auc.dk>

	* latex.el (LaTeX-paragraph-commands): End each word with a "\\b"
	to avoid accidentally matching longer macros.

	* tex.el (TeX-add-local-master): Use three %'s when adding buffer
	local variables.  Suggested by Raymond Toy <toy@rtp.ericsson.se>.

	* tex.el (TeX-format-list): Add entry for AmSTeX by Ulf Juergens
	<ulf@Mathematik.Uni-Bielefeld.DE>.

	* tex.el (ams-tex-mode): Run AmS-TeX-mode-hook, not
	plain-TeX-mode-hook.  Reported by Ulf Juergens
	<ulf@Mathematik.Uni-Bielefeld.DE>.

	* tex-buf.el (TeX-format-filter): Add `save-match-data'.  Patch by
	David Aspinall <da@dcs.edinburgh.ac.uk>.

1994-09-14  Per Abrahamsen  <abraham@iesd.auc.dk>

	* cpp.el: Use RMS's version.

1994-09-13  Per Abrahamsen  <abraham@iesd.auc.dk>

	* doc/history.texi, doc/auc-tex.texi: Fixes from Chris Fearnley
	<@vm.uni-c.dk:FEARNLCJ@DUVM>.

1994-09-09  Per Abrahamsen  <abraham@research.att.com>

	* latex.el (LaTeX-insert-environment): Don't fill environments
	listed in `LaTeX-indent-environment-list'.  Suggestion by Graham
	Gough <graham@cs.man.ac.uk>.

	* tex.el (LaTeX-command-style): Made latex2e first in the list.
	Suggested by Frederic Devernay <Frederic.Devernay@sophia.inria.fr>.

1994-09-05  Per Abrahamsen  <abraham@research.att.com>

	* tex.el (TeX-file-extensions): Add LaTeX2 `cls' extension after
	query by jmv@di.uminho.pt (Jose Manuel Valenca).

1994-08-30  Per Abrahamsen  <abraham@research.att.com>

	* tex-jp.el: New version from koba@flab.fujitsu.co.jp (Kobayashi
	Shinji).

	* tex.el (TeX-command-list): Fifth element is now ignored.

	* tex-buf.el (TeX-command-query): Check if region file is newer
	than dvi file.
	(TeX-command-region): Only query for command _after_ region file
	is created.
	(TeX-region-create): Only save file if the new content is
	different than the original content.

1994-08-29  Per Abrahamsen  (abraham@research.att.com)

	* tex-buf.el (TeX-warning): Use offset for line end.  Fixed by
	ddw2@sunbim.be (Dominique de Waleffe).

1994-08-26  Per Abrahamsen  (abraham@iesd.auc.dk)

	* doc/auc-tex.texi (Projects): Remove preceding item from
	wishlist.

	* latex.el (LaTeX-common-initialization): Fix to comments
	separating paragraphs by koba@flab.fujitsu.co.jp (Kobayashi
	Shinji).

	* tex-jp.el (LaTeX-fill-region-as-paragraph): New version for MULE
	2.0 by Tomotake FURUHATA <furuhata@trl.ibm.co.jp>.

	* tex.el (TeX-function-p): Spelling error in doc.

1994-08-23  Per Abrahamsen  (abraham@iesd.auc.dk)

	* doc/intro.texi (Contacts): Some reformulations.

1994-08-21  Per Abrahamsen  (abraham@iesd.auc.dk)

	* tex-jp.el (TeX-insert-punctuation): Japanese version from
	koba@flab.fujitsu.co.jp (Kobayashi Shinji).

1994-08-19  Per Abrahamsen  (abraham@iesd.auc.dk)

	* doc/install.texi: The `site-lisp' directory is also available in
	Lucide Emacs 19.10.  Reported by Tim Geisler
	<geisler@pms.informatik.uni-muenchen.de>.

1994-08-18  Per Abrahamsen  (abraham@iesd.auc.dk)

	* latex.el (TeX-arg-cite): Prompt for multiple keys.
	Suggested by Masahiro Kitagawa <kitagawa@ee.es.osaka-u.ac.jp>.

1994-08-17  Per Abrahamsen  (abraham@iesd.auc.dk)

	* style/german.el ("german"): Use `TeX-quote-after-quote'.
	Suggested by te@informatik.uni-hannover.de (Thomas Esser).

	* latex.el (LaTeX-common-initialization): Error in regexp for
	multiple arguments to `\cite', reported by Masahiro Kitagawa
	<kitagawa@ee.es.osaka-u.ac.jp>.

1994-08-17  Per Abrahamsen  (abraham@iesd.auc.dk)

	* latex.el (LaTeX-env-figure): Put caption inside center
	environment.  Suggested by Martin Wunderli <wunderli@inf.ethz.ch>.

	* tex.el (TeX-strip-extension): If NODIR is set to `path', remove
	the directory part iff it is equal to the current directory, or is
	a member of either `TeX-macro-global' or `TeX-macro-private'.
	(TeX-master-file): Use `path' for NODIR when querying the user for
	a file name.  Reported finger@brachio.Informatik.Uni-Dortmund.DE
	(Bernd Finger).

1994-08-16  Per Abrahamsen  (abraham@iesd.auc.dk)

	* latex.el (LaTeX-common-initialization): `eqnarray*' should not
	have a label.  Reported by dodd@roebling.poly.edu (Lawrence R.
	Dodd).

1994-08-11  Per Abrahamsen  (abraham@iesd.auc.dk)

	* tex-buf.el (TeX-background-filter): Always show background
	output.

1994-08-10  Per Abrahamsen  (abraham@iesd.auc.dk)

	* Makefile (MINMAPSRC): Add `all.el'.

	* all.el: New file.

	* tex-buf.el (TeX-LaTeX-sentinel): Write "some" if
	TeX-current-page is nil.  Reported by Michail Rozman
	<roz@physik.uni-ulm.de>.

1994-08-09  Per Abrahamsen  (abraham@iesd.auc.dk)

	* auc-menu.el (easy-menu-add): Undid previous change.
	(top level `cond'): Use Emacs 18 code if `window-system' is nil.
	Patch by Patrice Belleville <patrice@cs.sfu.ca>.

1994-08-08  Per Abrahamsen  (abraham@iesd.auc.dk)

	* tex.el (TeX-electric-macro): No electricity after `.' or `\'.

1994-08-06  Per Abrahamsen  (abraham@iesd.auc.dk)

	* latex.el (LaTeX-paragraph-commands): New variable.
	(LaTeX-common-initialization): Use it.
	Suggested by liyuan@allwise.research.att.com (Yuan P. Li).

	* auc-menu.el (easy-menu-add): Check that `x-popup-menu' is bound
	and that we are running under X before calling it.
	Reported by Adrian F. Clark <alien@essex.ac.uk>

1994-08-04  Per Abrahamsen  (abraham@iesd.auc.dk)

	* tex-jp.el (LaTeX-fill-region-as-paragraph): Patch for Emacs 19
	regexps by koba@flab.fujitsu.co.jp (Kobayashi Shinji) reported by
	Uenami Ken'ichi <uenami@rita.cow.melco.co.jp>.

	* doc/auc-tex.texi (European): Mention `iso-cvt.el' as suggested
	by mike@vlsivie.tuwien.ac.at (Michael Gschwind).

1994-08-03  Per Abrahamsen  (abraham@iesd.auc.dk)

	* doc/history.texi: New file.

	* doc/Makefile (HISTORY): Add rule.

	* Makefile (EXTRAFILES): Add `ChangeLog'.
	(DOCFILES): Add `history.texi'.

	* doc/auc-tex.texi (History): Made ready for 9.2.  Move history to
	`history.texi'.

	* doc/changes.texi: Made ready for 9.2.  Introduce ChangeLog.

	* Makefile (LispInstall): Use "/bin/pwd" instead of "pwd".
	reported by mic@cs.ucsd.edu (Michelangelo Grigni).

	* ChangeLog: New file.

	* Version 9.1 released.

This file records repository revisions from
commit c865982cacab289f4480f9145b3438ec06824232 (exclusive) to
commit 9a319640636d49ebe98b9f1ba2f176fa3c8b468d (inclusive).

;; Local Variables:
;; coding: utf-8
;; End:

  Copyright (C) 1994-2016 Free Software Foundation, Inc.

  This file is part of GNU AUCTeX.

  GNU AUCTeX is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GNU AUCTeX is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GNU AUCTeX.  If not, see <http://www.gnu.org/licenses/>.
